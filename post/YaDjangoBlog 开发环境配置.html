<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>YaDjangoBlog 开发环境配置 | 海拉鲁编程客</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/49455a07b6dd33600cdf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/49455a07b6dd33600cdf.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-20d43e08bea62467b090.js" defer=""></script><script src="/_next/static/chunks/framework-0441fae7fd130f37dee1.js" defer=""></script><script src="/_next/static/chunks/main-4777350f2a9ff73ea2b0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-3050679c6e5142ffcaf5.js" defer=""></script><script src="/_next/static/chunks/ea88be26-9bcf6ead520f4ac26973.js" defer=""></script><script src="/_next/static/chunks/421-f2f33a86b546237f0325.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-173fe2de48c90365db9d.js" defer=""></script><script src="/_next/static/oDi_oBCBuu3qj6v7hDnrL/_buildManifest.js" defer=""></script><script src="/_next/static/oDi_oBCBuu3qj6v7hDnrL/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="v-page"><nav class="shadow"><div class="flex flex-col container mx-auto h-12 px-40 md:flex-row md:items-center md:justify-between"><div class="flex justify-between items-center"><div><a class="text-gray-800 text-xl md:text-xl leading-5" href="/">海拉鲁编程客</a></div><div><button type="button" class="block text-gray-800 hover:text-gray-600 focus:text-gray-600 focus:outline-none md:hidden"><svg viewBox="0 0 24 24" class="h-6 w-6 fill-current"><path d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"></path></svg></button></div></div><div class="md:flex flex-col md:flex-row md:-mx-4 hidden"><a class="my-1 text-gray-800 hover:text-blue-500 md:mx-4 md:my-0" href="/">首页</a><a class="my-1 text-gray-800 hover:text-blue-500 md:mx-4 md:my-0" href="/archive">归档</a><a class="my-1 text-gray-800 hover:text-blue-500 md:mx-4 md:my-0" href="/about">关于我</a><button style="cursor:pointer;overflow:hidden;width:50px;height:23.5px;appearance:none;-moz-appearance:none;-webkit-appearance:none;border:none;background-color:transparent;padding:0" aria-hidden="true"><div style="display:flex;align-items:center;justify-content:center;margin-top:-28.749999999999996px;margin-left:-16px;width:82.5px;height:82.5px"><div></div></div></button></div></div></nav><div class="v-article"><div class="v-article-main" style="margin:auto;width:786px"><div><h2 id="0x00-前言"><a class="v-toc-item" href="#0x00-前言">#</a> 0x00 前言</h2>
<p>本文是 Django 全栈开发教程的第一篇，上一篇是第零篇，目录会随时更新，地址在这里 2018 年不容错过的 Django 全栈项目 <a href="https://zhuanlan.zhihu.com/p/33903527">https://zhuanlan.zhihu.com/p/33903527</a></p>
<blockquote>
<p>为什么是第零篇，因为程序员从零计数呀。笑~~</p>
</blockquote>
<p>本文需要完成两件事情：</p>
<ul>
<li>配置基本的开发环境</li>
<li>让代码先运行一下</li>
</ul>
<p>如果你使用的 macOS, 那么可以跟着下文一步一步走。如果是 linux/window 用户，可能稍微需要在配置环境上多花点时间。</p>
<blockquote>
<p>本文默认你至少会在 iTerm2 下面使用基本的 bash 命令与 git , 如果使用的 ohmyzsh 就更好了。 建议先参考请查看我之前的文章里面的配置环境 如何优雅地使用 macOS <a href="https://zhuanlan.zhihu.com/p/29892969">https://zhuanlan.zhihu.com/p/29892969</a></p>
</blockquote>
<h2 id="0x01-python-开发环境配置"><a class="v-toc-item" href="#0x01-python-开发环境配置">#</a> 0x01 Python 开发环境配置</h2>
<p>本小节的目的就是配置好基本的 python 开发环境</p>
<p>使用了神器 pyenv</p>
<blockquote>
<p>BTW: 为什么不直接用 pipenv ? 因为网络不通畅，如若不然，pipenv 比 pyenv 更适合用来做 python 依赖包管理。</p>
</blockquote>
<pre><code class="language-python"># 新开终端
git clone https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>yyuu<span class="token operator">/</span>pyenv<span class="token punctuation">.</span>git <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>pyenv
git clone https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>yyuu<span class="token operator">/</span>pyenv<span class="token operator">-</span>virtualenv<span class="token punctuation">.</span>git <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>pyenv<span class="token operator">/</span>plugins<span class="token operator">/</span>pyenv<span class="token operator">-</span>virtualenv
echo <span class="token string">'export PYENV_ROOT="$HOME/.pyenv"'</span> <span class="token operator">>></span> <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>zshrc
echo <span class="token string">'export PATH="$PYENV_ROOT/bin:$PATH"'</span> <span class="token operator">>></span> <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>zshrc
echo <span class="token string">'eval "$(pyenv init -)"'</span> <span class="token operator">>></span> <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>zshrc
echo <span class="token string">'eval "$(pyenv virtualenv-init -)"'</span> <span class="token operator">>></span> <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>zshrc

# 接着另开终端
# 不喜写兼容代码，所有代码均向 <span class="token number">3.5</span><span class="token operator">+</span> 靠拢
v<span class="token operator">=</span><span class="token number">3.5</span><span class="token number">.2</span><span class="token operator">|</span>wget http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>sohu<span class="token punctuation">.</span>com<span class="token operator">/</span>python<span class="token operator">/</span>$v<span class="token operator">/</span>Python<span class="token operator">-</span>$v<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>xz <span class="token operator">-</span><span class="token constant">P</span> <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>pyenv<span class="token operator">/</span>cache<span class="token operator">/</span><span class="token punctuation">;</span>pyenv install $v
v<span class="token operator">=</span><span class="token number">3.6</span><span class="token number">.0</span><span class="token operator">|</span>wget http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>sohu<span class="token punctuation">.</span>com<span class="token operator">/</span>python<span class="token operator">/</span>$v<span class="token operator">/</span>Python<span class="token operator">-</span>$v<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>xz <span class="token operator">-</span><span class="token constant">P</span> <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>pyenv<span class="token operator">/</span>cache<span class="token operator">/</span><span class="token punctuation">;</span>pyenv install $v
v<span class="token operator">=</span><span class="token number">2.7</span><span class="token number">.11</span><span class="token operator">|</span>wget http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>sohu<span class="token punctuation">.</span>com<span class="token operator">/</span>python<span class="token operator">/</span>$v<span class="token operator">/</span>Python<span class="token operator">-</span>$v<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>xz <span class="token operator">-</span><span class="token constant">P</span> <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>pyenv<span class="token operator">/</span>cache<span class="token operator">/</span><span class="token punctuation">;</span>pyenv install $v

# 设置 Global Python 为 <span class="token number">2.7</span><span class="token number">.11</span><span class="token punctuation">,</span> 备注：尽量不要把 Py3 设置为全局，否则由于 Homebrew 本身有一些依赖是依赖于 Py2 的，这样容易出现一些奇怪的问题。
pyenv global <span class="token number">2.7</span><span class="token number">.11</span>
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple requests
# 下面这个是用于安装基本的代码补全功能
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple <span class="token operator">--</span>upgrade <span class="token string">"jedi>=0.9.0"</span> <span class="token string">"json-rpc>=1.8.1"</span> <span class="token string">"service_factory>=0.1.5"</span> flake8 pytest autoflake hy

# 创建最常用 Py3 虚拟环境
pyenv virtualenv <span class="token number">3.5</span><span class="token number">.2</span> py3<span class="token operator">-</span>daily
pyenv activate py3<span class="token operator">-</span>daily
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple requests
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple beatutifulsoup4
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple ipython<span class="token punctuation">[</span>notebook<span class="token punctuation">]</span>
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple jupyter
# 下面这个是用于安装基本的代码补全功能
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple <span class="token operator">--</span>upgrade <span class="token string">"jedi>=0.9.0"</span> <span class="token string">"json-rpc>=1.8.1"</span> <span class="token string">"service_factory>=0.1.5"</span> flake8 pytest autoflake hy
</code></pre>
<p>好，Python 环境就安装完毕了。</p>
<h2 id="0x02-javascript-开发环境配置"><a class="v-toc-item" href="#0x02-javascript-开发环境配置">#</a> 0x02 JavaScript 开发环境配置</h2>
<blockquote>
<p>本小节的目的就是配置好基本的 JS 开发环境，但估计 JSer 看了本小节依旧可以在配置上少一些麻烦。</p>
</blockquote>
<p>JS 可以前后端通吃，社区生态很丰富。ES6 之后从 python 和 ruby 里面借鉴了不少语法糖。现在写起来还是比较愉悦的。</p>
<p>JavaScript 不管开发前端应用还是后端应用，都需要安装 node 环境。</p>
<pre><code class="language-bash"># 先安装 nvm
curl <span class="token operator">-</span>o<span class="token operator">-</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>raw<span class="token punctuation">.</span>githubusercontent<span class="token punctuation">.</span>com<span class="token operator">/</span>creationix<span class="token operator">/</span>nvm<span class="token operator">/</span>v0<span class="token punctuation">.</span><span class="token number">33.8</span><span class="token operator">/</span>install<span class="token punctuation">.</span>sh <span class="token operator">|</span> bash
# 新开终端
nvm install <span class="token number">8</span>
nvm use <span class="token number">8</span>
nvm alias <span class="token keyword">default</span> <span class="token number">8</span>

npm install cnpm
cnpm install yarn <span class="token operator">-</span>g
# 设置镜像
yarn config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
</code></pre>
<p>编辑 ~/.npmrc 配置文件，输入下文再配置各种奇奇怪怪的镜像地址。</p>
<pre><code class="language-bash">registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">registry.npm.taobao.org</span><span class="token regex-delimiter">/</span></span>
chromedriver_cdnurl<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdn<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist<span class="token operator">/</span>chromedriver
disturl<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist
operadriver_cdnurl<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdn<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist<span class="token operator">/</span>operadriver
phantomjs_cdnurl<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdn<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist<span class="token operator">/</span>phantomjs
fse_binary_host_mirror<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>mirrors<span class="token operator">/</span>fsevents
sass_binary_site<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdn<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist<span class="token operator">/</span>node<span class="token operator">-</span>sass
electron_mirror<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdn<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist<span class="token operator">/</span>electron<span class="token operator">/</span>
</code></pre>
<p>配置完毕</p>
<h2 id="0x03-docker-安装与配置"><a class="v-toc-item" href="#0x03-docker-安装与配置">#</a> 0x03 Docker 安装与配置</h2>
<blockquote>
<p>本小节主要解决一个最蛋疼的问题，就是网络问题</p>
</blockquote>
<p>下载并安装 docker for mac 地址如下 <a href="https://docs.docker.com/docker-for-mac/install/">https://docs.docker.com/docker-for-mac/install/</a></p>
<pre><code class="language-bash"># 安装成功后运行命令
docker run hello<span class="token operator">-</span>world
</code></pre>
<p>如果一切正常，则会显示如下</p>
<pre><code class="language-bash">$ docker run hello<span class="token operator">-</span>world
Unable to find image <span class="token string">'hello-world:latest'</span> locally
latest<span class="token operator">:</span> Pulling from library<span class="token operator">/</span>hello<span class="token operator">-</span>world
ca4f61b1923c<span class="token operator">:</span> Pull complete
Digest<span class="token operator">:</span> sha256<span class="token operator">:</span><span class="token number">083</span>de497cff944f969d8499ab94f07134c50bcf5e6b9559b27182d3fa80ce3f7
Status<span class="token operator">:</span> Downloaded newer image <span class="token keyword">for</span> hello<span class="token operator">-</span>world<span class="token operator">:</span>latest

Hello from Docker<span class="token operator">!</span>
This message shows that your installation appears to be working correctly<span class="token punctuation">.</span>

To generate <span class="token keyword">this</span> message<span class="token punctuation">,</span> Docker took the following steps<span class="token operator">:</span>
 <span class="token number">1.</span> The Docker client contacted the Docker daemon<span class="token punctuation">.</span>
 <span class="token number">2.</span> The Docker daemon pulled the <span class="token string">"hello-world"</span> image from the Docker Hub<span class="token punctuation">.</span>
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3.</span> The Docker daemon created a <span class="token keyword">new</span> <span class="token class-name">container</span> from that image which runs the
    executable that produces the output you are currently reading<span class="token punctuation">.</span>
 <span class="token number">4.</span> The Docker daemon streamed that output to the Docker client<span class="token punctuation">,</span> which sent it
    to your terminal<span class="token punctuation">.</span>

To <span class="token keyword">try</span> something more ambitious<span class="token punctuation">,</span> you can run an Ubuntu container <span class="token keyword">with</span><span class="token operator">:</span>
 $ docker run <span class="token operator">-</span>it ubuntu bash

Share images<span class="token punctuation">,</span> automate workflows<span class="token punctuation">,</span> and more <span class="token keyword">with</span> a free Docker <span class="token constant">ID</span><span class="token operator">:</span>
 https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">cloud.docker.com</span><span class="token regex-delimiter">/</span></span>

For more examples and ideas<span class="token punctuation">,</span> visit<span class="token operator">:</span>
 https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>docs<span class="token punctuation">.</span>docker<span class="token punctuation">.</span>com<span class="token operator">/</span>engine<span class="token operator">/</span>userguide<span class="token operator">/</span>
</code></pre>
<p>好，配置到这里。</p>
<p>你以为你已经配置好了，还先别激动，网络问题还没解决呢。小的镜像可以直接从 Docker 上直接拖下来，几百兆的镜像可就没这么容易了。</p>
<p>这里我们使用了阿里云的 Docker 容器镜像。</p>
<p>登录阿里云，到控制台，找到容器镜像服务，镜像加速器，</p>
<p>如下图：</p>
<p>右键点击桌面顶栏的 docker 图标，选择 Preferences ，在 Daemon 标签（Docker 17.03 之前版本为 Advanced 标签）下的 Registry mirrors 列表中将 <a href="https://your-url.mirror.aliyuncs.com">https://your-url.mirror.aliyuncs.com</a> 加到&quot;registry-mirrors&quot;的数组里，点击 Apply &amp; Restart 按钮，等待 Docker 重启并应用配置的镜像加速器。</p>
<p>Docker 配置完毕。</p>
<h2 id="0x04-项目试运行"><a class="v-toc-item" href="#0x04-项目试运行">#</a> 0x04 项目试运行</h2>
<p>运行项目之前，保持你我的工作环境基本一致</p>
<ul>
<li>创建一些必须的目录</li>
<li>clone 项目</li>
</ul>
<pre><code class="language-bash">mkdir <span class="token operator">-</span>p <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>DockerVolume<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>PostgreSQL<span class="token operator">/</span>data
mkdir <span class="token operator">-</span>p <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>DockerVolume<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>Redis<span class="token operator">/</span>data
mkdir <span class="token operator">-</span>p <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>DockerVolume<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>Backups
cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>
git clone git@github<span class="token punctuation">.</span>com<span class="token operator">:</span>twocucao<span class="token operator">/</span>YaVueBlog<span class="token punctuation">.</span>git
git clone git@github<span class="token punctuation">.</span>com<span class="token operator">:</span>twocucao<span class="token operator">/</span>YaDjangoBlog<span class="token punctuation">.</span>git
</code></pre>
<p>克隆下来项目之后还需要稍微折腾一下（没办法，CURD 开发 = 折腾折腾折腾 + 搬砖搬砖搬砖）</p>
<ul>
<li>运行 Vue 开发环境</li>
<li>运行 Docker 化的 django 环境</li>
</ul>
<pre><code class="language-bash"># 新开一个终端 用于运行 Vue 应用
# 前端环境不放在 Docker 环境中。（因为开发环境没必要，生产环境才需要）
cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaVueBlog<span class="token operator">/</span> <span class="token operator">&amp;&amp;</span> yarn <span class="token operator">&amp;&amp;</span> cd <span class="token operator">-</span>
cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaVueBlog<span class="token operator">/</span>packages<span class="token operator">/</span>theme<span class="token operator">-</span>future<span class="token operator">/</span> <span class="token operator">&amp;&amp;</span> yarn <span class="token operator">&amp;&amp;</span> cd <span class="token operator">-</span>
cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaVueBlog<span class="token operator">/</span>
npm run build<span class="token operator">:</span>theme
npm run dev
</code></pre>
<pre><code class="language-bash"># 新开一个终端
cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>
make
</code></pre>
<p>看到下图，包含所有的命令。</p>
<p>这是我用 Makefile 编写的一系列命令，方便我在开发过程将主要的精力花在业务逻辑上而不是花时间在强记大量的琐碎的命令。</p>
<pre><code class="language-bash">cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>
make build<span class="token operator">-</span>all
# 等待运行后端所有组件
</code></pre>
<p>然后，读者可以先去泡杯咖啡点个外卖吃个饭之类的。等待构建完毕。</p>
<p>需要注意的是，务必配置好 docker 镜像加速地址，否则根据国内情况，你可能需要多去泡几杯咖啡，多吃几顿饭。</p>
<p>好，接下来我们运行后端程序，首次运行需要花费不少时间</p>
<pre><code class="language-bash">cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>
make django<span class="token operator">-</span>just<span class="token operator">-</span>up
</code></pre>
<p>运行之后，终端结果如下：</p>
<p>可以发现，服务已经都开始启动了。</p>
<p>但不要冲动，先等等，因为一次开了如下的服务：</p>
<ul>
<li>postgres</li>
<li>redis</li>
<li>elasticsearch</li>
<li>mailhog</li>
<li>django</li>
<li>celerybeat</li>
<li>celeryworker</li>
<li>celeryflower</li>
</ul>
<p>需要多等会儿时间到各个服务运行正常。直到出现下图：</p>
<p>这意味着基本上所有的程序都运行正常了。如果有服务挂掉，欢迎到 github 的 issue 上提一下。</p>
<pre><code class="language-bash"># 接着再新开一个终端 用于导入基础数据
cd <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>
make django<span class="token operator">-</span><span class="token keyword">import</span><span class="token operator">-</span>articles
</code></pre>
<p>好，那么，我们来验证一下如下几个地址：</p>
<ul>
<li>接口地址 <a href="http://localhost:8000/api/v1/archive">http://localhost:8000/api/v1/archive</a></li>
<li>Vue 地址 <a href="http://localhost:8080/">http://localhost:8080/</a></li>
<li>在搜索框内输入 elasticsearch 查看接口是否正常返回数据</li>
<li>查看 celery 的 task 是否正确</li>
</ul>
<p>如果一切正常，则所有的截图应该如下</p>
<h2 id="0x05-tmux-和-tmuxinator"><a class="v-toc-item" href="#0x05-tmux-和-tmuxinator">#</a> 0x05 Tmux 和 Tmuxinator</h2>
<p>我们在上文中可以发现有个极其蛋疼菊紧的问题。</p>
<p>当我们运行 make django-just-up 这个命令的时候，所有服务运行的同时，所有的标准输入都打印到一个终端。</p>
<p>这个和我们日常开发不太相同</p>
<ol>
<li>在 django 开发的时候，我们运行 runserver, 肯定是只想在那个终端里看到 runserver 的运行情况。而不是 Redis,Elasticsearch,PGsql 之类的 log。</li>
<li>并且，django 的热加载会有些小问题，有些错误只能 ctrl+c 关掉 runserver, 然后重启。但当我们想 ctrl+c 关掉 runserver 的时候，却把所有的的服务都关掉了。</li>
</ol>
<p>解决方式也简单：</p>
<p>对于暂时不想在开发时看到日志的服务，干脆直接放后台运行，执行我封装的命令 make django-before-up 把部分服务直接放在后台里，然后再开四个终端，运行下面的命令。</p>
<ul>
<li>make django-runserver # 运行 runserver , 并只把该容器的 log 打印出来。下面三者同上。</li>
<li>make django-celerybeat</li>
<li>make django-celeryworker</li>
<li>make django-celeryflower</li>
</ul>
<p>显然还是很麻烦，我这种懒人可是能少写几行代码就少些几行代码的。</p>
<p>那么我们还可以更省事（懒一些）么？</p>
<p>我之前写了一篇简单的 tmux 与 Tmuxinator 教程 <a href="https://zhuanlan.zhihu.com/p/33369297">https://zhuanlan.zhihu.com/p/33369297</a> , 具体配置步骤参考文中即可。</p>
<p>配置好 Tmuxinator 之后</p>
<pre><code class="language-bash"># 先软连接一下
ln <span class="token operator">-</span>svf <span class="token operator">~</span><span class="token operator">/</span>Codes<span class="token operator">/</span>YaBlog<span class="token operator">/</span>YaDjangoBlog<span class="token operator">/</span>yadjangoblog<span class="token punctuation">.</span>yml <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>tmuxinator<span class="token operator">/</span>yadjangoblog<span class="token punctuation">.</span>yml
</code></pre>
<p>当我需要运行的所有服务的时候，我只需要</p>
<pre><code class="language-bash">tmuxinator start yadjangoblog
</code></pre>
<p>就可以开启所有命令。</p>
<p>yadjangoblog.yml 的内容如下</p>
<pre><code>windows:
  - &quot;前端-页面开发&quot;:
      root: ~/Codes/YaBlog/YaVueBlog/
      layout: main-vertical
      panes:
        - &quot;前端页面 DEV&quot;:
          - &quot;npm run dev&quot;
  - &quot;前端-CSS 与字体文件&quot;:
      root: ~/Codes/YaBlog/YaVueBlog/
      layout: main-vertical
      panes:
        - &quot;npm run dev:theme&quot;
        - &quot;npm run dev:iconfont&quot;
  - &quot;后端-Django 及其服务&quot;:
      root: ~/Codes/YaBlog/YaDjangoBlog/
      layout: main-vertical
      panes:
        - &quot;make django-before-up &amp;&amp; make django-runserver&quot;
  - &quot;后端-数据库相关&quot;:
      layout: main-vertical
      root: ~/Codes/YaBlog/YaDjangoBlog/
      panes:
        - &quot;sleep 20 &amp;&amp; make dbshell&quot;
        - &quot;sleep 20 &amp;&amp; make shell&quot;
  - &quot;后端-Celery&quot;:
      layout: main-vertical
      root: ~/Codes/YaBlog/YaDjangoBlog/
      panes:
        - &quot;sleep 20 &amp;&amp; make django-celerybeat&quot;
        - &quot;sleep 20 &amp;&amp; make django-celeryworker&quot;
</code></pre>
<h2 id="0x06-pycharm-基本设置"><a class="v-toc-item" href="#0x06-pycharm-基本设置">#</a> 0x06 PyCharm 基本设置</h2>
<blockquote>
<p>大家应该都用 PyCharm 进行开发了吧。 如果是的话，不看本小节可能会让你栽个跟头</p>
</blockquote>
<pre><code class="language-bash"># 这步是给 pycharm 打开代码做准备
pyenv activate py3<span class="token operator">-</span>daily
pip install <span class="token operator">-</span>i https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pypi<span class="token punctuation">.</span>doubanio<span class="token punctuation">.</span>com<span class="token operator">/</span>simple <span class="token operator">-</span>r requirements<span class="token operator">/</span>local<span class="token punctuation">.</span>txt
</code></pre>
<p>务必完成下面两个步骤</p>
<ol>
<li>在 Preferences -&gt; project -&gt; interpreter 选择对应的 py3-daily 虚拟环境。</li>
<li>在侧边栏把 yadjangoblog , 注意小写的。右键标记为 sources root</li>
</ol>
<p>这样的标记相当于告诉 PyCharm , 这个项目的 PYTHONPATH 是 yadjangoblog/ , 否则使用 PyCharm 导入 AModel 会自动导入 from yadjangoblog.yaadmin.models from AModel 而不是 from yaadmin.models import AModel , 这会导致程序运行错误。</p>
<blockquote>
<p>PS: 包括后面跑单元测试的时候，均手动设置了 PYTHONPATH 变量。</p>
</blockquote>
<h2 id="0x07-开发流程"><a class="v-toc-item" href="#0x07-开发流程">#</a> 0x07 开发流程</h2>
<p>本小节，从笔者开机开始，回顾一下环境配置好之后，笔者是如何进入开发状态的：</p>
<ol>
<li>开机。输入密码进入桌面。</li>
<li>打开 Iterm, 运行 tmuxinator start yadjangoblog 开启项目。打开 PyCharm 和 WebStorm</li>
<li>开发</li>
</ol>
<ul>
<li>在 WebStorm 中写写前端代码，在 <a href="http://localhost:8080">http://localhost:8080</a> 和 tmux 里的第一个 window 查看状态</li>
<li>在 PyCharm 中写写后端代码，在第三个 window 查看 runserver 状态，在第四个 window 的两个 Panel 运行 python <a href="http://manage.py">manage.py</a> 相关命令。</li>
<li>在 Chrome Elasticsearch Head 扩展里调试 Elasticsearch 语法</li>
<li>在 <a href="http://localhost:8000/api/your-api-path">http://localhost:8000/api/your-api-path</a> 里调试前后端 API</li>
<li>在 <a href="http://localhost:5555">http://localhost:5555</a> 通过 flower 查看相关</li>
<li>…</li>
<li>当然，你也可以新开一个终端里面，执行 make 查看相关还可以执行哪些命令。</li>
</ul>
<p>那么，具体执行这些命令背后究竟发生了什么？</p>
<ul>
<li>数十服务为何突然启动</li>
<li>数百个任务为何半夜消失</li>
<li>正常运行的服务为何屡屡崩溃</li>
<li>这一切的背后！是工程师的人性扭曲还是码畜的道德沦丧？是内存的爆发还是处理器的无奈？</li>
<li>敬请关注本专栏 『MG 的编程小屋』或者 Github 频道，让我们跟随教程走进全干工程师的代码世界。</li>
</ul>
<blockquote>
<p>不好意思，顺手打了个硬广，防止别人把我的文章砍头去尾直接扒过去。</p>
</blockquote>
<h2 id="0xee-参考链接"><a class="v-toc-item" href="#0xee-参考链接">#</a> 0xEE. 参考链接</h2>
<p>还犹豫啥，点赞后，快上车吧</p>
<ul>
<li>前端代码 <a href="https://github.com/twocucao/YaVueBlog">https://github.com/twocucao/YaVueBlog</a></li>
<li>后端代码 <a href="https://github.com/twocucao/YaDjangoBlog">https://github.com/twocucao/YaDjangoBlog</a></li>
</ul>
<hr>
<p>ChangeLog:</p>
<ul>
<li><strong>2018-02-22</strong> 重修文字</li>
</ul>
</div></div><div><ul class="v-article-toc">
<li>
<ul>
<li><a href="#0x00-%E5%89%8D%E8%A8%80">0x00 前言</a></li>
<li><a href="#0x01-python-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">0x01 Python 开发环境配置</a></li>
<li><a href="#0x02-javascript-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">0x02 JavaScript 开发环境配置</a></li>
<li><a href="#0x03-docker-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE">0x03 Docker 安装与配置</a></li>
<li><a href="#0x04-%E9%A1%B9%E7%9B%AE%E8%AF%95%E8%BF%90%E8%A1%8C">0x04 项目试运行</a></li>
<li><a href="#0x05-tmux-%E5%92%8C-tmuxinator">0x05 Tmux 和 Tmuxinator</a></li>
<li><a href="#0x06-pycharm-%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE">0x06 PyCharm 基本设置</a></li>
<li><a href="#0x07-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B">0x07 开发流程</a></li>
<li><a href="#0xee-%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">0xEE. 参考链接</a></li>
</ul>
</li>
</ul>
</div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"tags":["Python","Django","YaDjangoBlog"],"path":"20180222_YaDjangoBlog开发环境配置.md","title":"YaDjangoBlog 开发环境配置","slug":"YaDjangoBlog 开发环境配置","date":"2018-02-22","category":"Django","lastMod":"2020-01-01","description":"这篇文章展示了基本的 Markdown 语法和格式.","thumbnail":"","content":"\u003ch2 id=\"0x00-前言\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x00-前言\"\u003e#\u003c/a\u003e 0x00 前言\u003c/h2\u003e\n\u003cp\u003e本文是 Django 全栈开发教程的第一篇，上一篇是第零篇，目录会随时更新，地址在这里 2018 年不容错过的 Django 全栈项目 \u003ca href=\"https://zhuanlan.zhihu.com/p/33903527\"\u003ehttps://zhuanlan.zhihu.com/p/33903527\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e为什么是第零篇，因为程序员从零计数呀。笑~~\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e本文需要完成两件事情：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e配置基本的开发环境\u003c/li\u003e\n\u003cli\u003e让代码先运行一下\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e如果你使用的 macOS, 那么可以跟着下文一步一步走。如果是 linux/window 用户，可能稍微需要在配置环境上多花点时间。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e本文默认你至少会在 iTerm2 下面使用基本的 bash 命令与 git , 如果使用的 ohmyzsh 就更好了。 建议先参考请查看我之前的文章里面的配置环境 如何优雅地使用 macOS \u003ca href=\"https://zhuanlan.zhihu.com/p/29892969\"\u003ehttps://zhuanlan.zhihu.com/p/29892969\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"0x01-python-开发环境配置\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x01-python-开发环境配置\"\u003e#\u003c/a\u003e 0x01 Python 开发环境配置\u003c/h2\u003e\n\u003cp\u003e本小节的目的就是配置好基本的 python 开发环境\u003c/p\u003e\n\u003cp\u003e使用了神器 pyenv\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eBTW: 为什么不直接用 pipenv ? 因为网络不通畅，如若不然，pipenv 比 pyenv 更适合用来做 python 依赖包管理。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003e# 新开终端\ngit clone https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003egithub\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eyyuu\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epyenv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egit \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epyenv\ngit clone https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003egithub\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eyyuu\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epyenv\u003cspan class=\"token operator\"\u003e-\u003c/span\u003evirtualenv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egit \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epyenv\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eplugins\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epyenv\u003cspan class=\"token operator\"\u003e-\u003c/span\u003evirtualenv\necho \u003cspan class=\"token string\"\u003e'export PYENV_ROOT=\"$HOME/.pyenv\"'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ezshrc\necho \u003cspan class=\"token string\"\u003e'export PATH=\"$PYENV_ROOT/bin:$PATH\"'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ezshrc\necho \u003cspan class=\"token string\"\u003e'eval \"$(pyenv init -)\"'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ezshrc\necho \u003cspan class=\"token string\"\u003e'eval \"$(pyenv virtualenv-init -)\"'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ezshrc\n\n# 接着另开终端\n# 不喜写兼容代码，所有代码均向 \u003cspan class=\"token number\"\u003e3.5\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e 靠拢\nv\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e3.5\u003c/span\u003e\u003cspan class=\"token number\"\u003e.2\u003c/span\u003e\u003cspan class=\"token operator\"\u003e|\u003c/span\u003ewget http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003emirrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esohu\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epython\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e$v\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ePython\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e$v\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etar\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003exz \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token constant\"\u003eP\u003c/span\u003e \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epyenv\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecache\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003epyenv install $v\nv\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e3.6\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\u003cspan class=\"token operator\"\u003e|\u003c/span\u003ewget http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003emirrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esohu\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epython\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e$v\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ePython\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e$v\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etar\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003exz \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token constant\"\u003eP\u003c/span\u003e \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epyenv\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecache\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003epyenv install $v\nv\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e2.7\u003c/span\u003e\u003cspan class=\"token number\"\u003e.11\u003c/span\u003e\u003cspan class=\"token operator\"\u003e|\u003c/span\u003ewget http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003emirrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esohu\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epython\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e$v\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ePython\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e$v\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etar\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003exz \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token constant\"\u003eP\u003c/span\u003e \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epyenv\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecache\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003epyenv install $v\n\n# 设置 Global Python 为 \u003cspan class=\"token number\"\u003e2.7\u003c/span\u003e\u003cspan class=\"token number\"\u003e.11\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 备注：尽量不要把 Py3 设置为全局，否则由于 Homebrew 本身有一些依赖是依赖于 Py2 的，这样容易出现一些奇怪的问题。\npyenv global \u003cspan class=\"token number\"\u003e2.7\u003c/span\u003e\u003cspan class=\"token number\"\u003e.11\u003c/span\u003e\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple requests\n# 下面这个是用于安装基本的代码补全功能\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple \u003cspan class=\"token operator\"\u003e--\u003c/span\u003eupgrade \u003cspan class=\"token string\"\u003e\"jedi\u003e=0.9.0\"\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"json-rpc\u003e=1.8.1\"\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"service_factory\u003e=0.1.5\"\u003c/span\u003e flake8 pytest autoflake hy\n\n# 创建最常用 Py3 虚拟环境\npyenv virtualenv \u003cspan class=\"token number\"\u003e3.5\u003c/span\u003e\u003cspan class=\"token number\"\u003e.2\u003c/span\u003e py3\u003cspan class=\"token operator\"\u003e-\u003c/span\u003edaily\npyenv activate py3\u003cspan class=\"token operator\"\u003e-\u003c/span\u003edaily\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple requests\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple beatutifulsoup4\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple ipython\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003enotebook\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple jupyter\n# 下面这个是用于安装基本的代码补全功能\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple \u003cspan class=\"token operator\"\u003e--\u003c/span\u003eupgrade \u003cspan class=\"token string\"\u003e\"jedi\u003e=0.9.0\"\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"json-rpc\u003e=1.8.1\"\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"service_factory\u003e=0.1.5\"\u003c/span\u003e flake8 pytest autoflake hy\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e好，Python 环境就安装完毕了。\u003c/p\u003e\n\u003ch2 id=\"0x02-javascript-开发环境配置\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x02-javascript-开发环境配置\"\u003e#\u003c/a\u003e 0x02 JavaScript 开发环境配置\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e本小节的目的就是配置好基本的 JS 开发环境，但估计 JSer 看了本小节依旧可以在配置上少一些麻烦。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eJS 可以前后端通吃，社区生态很丰富。ES6 之后从 python 和 ruby 里面借鉴了不少语法糖。现在写起来还是比较愉悦的。\u003c/p\u003e\n\u003cp\u003eJavaScript 不管开发前端应用还是后端应用，都需要安装 node 环境。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 先安装 nvm\ncurl \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eo\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eraw\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egithubusercontent\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecreationix\u003cspan class=\"token operator\"\u003e/\u003c/span\u003envm\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ev0\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e33.8\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003einstall\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esh \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e bash\n# 新开终端\nnvm install \u003cspan class=\"token number\"\u003e8\u003c/span\u003e\nnvm use \u003cspan class=\"token number\"\u003e8\u003c/span\u003e\nnvm alias \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token number\"\u003e8\u003c/span\u003e\n\nnpm install cnpm\ncnpm install yarn \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eg\n# 设置镜像\nyarn config \u003cspan class=\"token keyword\"\u003eset\u003c/span\u003e registry https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eregistry\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e编辑 ~/.npmrc 配置文件，输入下文再配置各种奇奇怪怪的镜像地址。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eregistry\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttps\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex\"\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex-source language-regex\"\u003eregistry.npm.taobao.org\u003c/span\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003c/span\u003e\nchromedriver_cdnurl\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttp\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecdn\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edist\u003cspan class=\"token operator\"\u003e/\u003c/span\u003echromedriver\ndisturl\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttps\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edist\noperadriver_cdnurl\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttp\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecdn\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edist\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eoperadriver\nphantomjs_cdnurl\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttp\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecdn\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edist\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ephantomjs\nfse_binary_host_mirror\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttps\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003emirrors\u003cspan class=\"token operator\"\u003e/\u003c/span\u003efsevents\nsass_binary_site\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttp\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecdn\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edist\u003cspan class=\"token operator\"\u003e/\u003c/span\u003enode\u003cspan class=\"token operator\"\u003e-\u003c/span\u003esass\nelectron_mirror\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ehttp\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecdn\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enpm\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etaobao\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edist\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eelectron\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e配置完毕\u003c/p\u003e\n\u003ch2 id=\"0x03-docker-安装与配置\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x03-docker-安装与配置\"\u003e#\u003c/a\u003e 0x03 Docker 安装与配置\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e本小节主要解决一个最蛋疼的问题，就是网络问题\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e下载并安装 docker for mac 地址如下 \u003ca href=\"https://docs.docker.com/docker-for-mac/install/\"\u003ehttps://docs.docker.com/docker-for-mac/install/\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 安装成功后运行命令\ndocker run hello\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eworld\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e如果一切正常，则会显示如下\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ docker run hello\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eworld\nUnable to find image \u003cspan class=\"token string\"\u003e'hello-world:latest'\u003c/span\u003e locally\nlatest\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Pulling from library\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ehello\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eworld\nca4f61b1923c\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Pull complete\nDigest\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e sha256\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e083\u003c/span\u003ede497cff944f969d8499ab94f07134c50bcf5e6b9559b27182d3fa80ce3f7\nStatus\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Downloaded newer image \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e hello\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eworld\u003cspan class=\"token operator\"\u003e:\u003c/span\u003elatest\n\nHello from Docker\u003cspan class=\"token operator\"\u003e!\u003c/span\u003e\nThis message shows that your installation appears to be working correctly\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n\nTo generate \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e message\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Docker took the following steps\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n \u003cspan class=\"token number\"\u003e1.\u003c/span\u003e The Docker client contacted the Docker daemon\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n \u003cspan class=\"token number\"\u003e2.\u003c/span\u003e The Docker daemon pulled the \u003cspan class=\"token string\"\u003e\"hello-world\"\u003c/span\u003e image from the Docker Hub\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eamd64\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n \u003cspan class=\"token number\"\u003e3.\u003c/span\u003e The Docker daemon created a \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003econtainer\u003c/span\u003e from that image which runs the\n    executable that produces the output you are currently reading\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n \u003cspan class=\"token number\"\u003e4.\u003c/span\u003e The Docker daemon streamed that output to the Docker client\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e which sent it\n    to your terminal\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n\nTo \u003cspan class=\"token keyword\"\u003etry\u003c/span\u003e something more ambitious\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e you can run an Ubuntu container \u003cspan class=\"token keyword\"\u003ewith\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n $ docker run \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eit ubuntu bash\n\nShare images\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e automate workflows\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e and more \u003cspan class=\"token keyword\"\u003ewith\u003c/span\u003e a free Docker \u003cspan class=\"token constant\"\u003eID\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex\"\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex-source language-regex\"\u003ecloud.docker.com\u003c/span\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003c/span\u003e\n\nFor more examples and ideas\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e visit\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\n https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edocs\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edocker\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eengine\u003cspan class=\"token operator\"\u003e/\u003c/span\u003euserguide\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e好，配置到这里。\u003c/p\u003e\n\u003cp\u003e你以为你已经配置好了，还先别激动，网络问题还没解决呢。小的镜像可以直接从 Docker 上直接拖下来，几百兆的镜像可就没这么容易了。\u003c/p\u003e\n\u003cp\u003e这里我们使用了阿里云的 Docker 容器镜像。\u003c/p\u003e\n\u003cp\u003e登录阿里云，到控制台，找到容器镜像服务，镜像加速器，\u003c/p\u003e\n\u003cp\u003e如下图：\u003c/p\u003e\n\u003cp\u003e右键点击桌面顶栏的 docker 图标，选择 Preferences ，在 Daemon 标签（Docker 17.03 之前版本为 Advanced 标签）下的 Registry mirrors 列表中将 \u003ca href=\"https://your-url.mirror.aliyuncs.com\"\u003ehttps://your-url.mirror.aliyuncs.com\u003c/a\u003e 加到\u0026quot;registry-mirrors\u0026quot;的数组里，点击 Apply \u0026amp; Restart 按钮，等待 Docker 重启并应用配置的镜像加速器。\u003c/p\u003e\n\u003cp\u003eDocker 配置完毕。\u003c/p\u003e\n\u003ch2 id=\"0x04-项目试运行\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x04-项目试运行\"\u003e#\u003c/a\u003e 0x04 项目试运行\u003c/h2\u003e\n\u003cp\u003e运行项目之前，保持你我的工作环境基本一致\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e创建一些必须的目录\u003c/li\u003e\n\u003cli\u003eclone 项目\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003emkdir \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ep \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eDockerVolume\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ePostgreSQL\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edata\nmkdir \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ep \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eDockerVolume\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eRedis\u003cspan class=\"token operator\"\u003e/\u003c/span\u003edata\nmkdir \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ep \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eDockerVolume\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eBackups\ncd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\ngit clone git@github\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e:\u003c/span\u003etwocucao\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaVueBlog\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egit\ngit clone git@github\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e:\u003c/span\u003etwocucao\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egit\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e克隆下来项目之后还需要稍微折腾一下（没办法，CURD 开发 = 折腾折腾折腾 + 搬砖搬砖搬砖）\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e运行 Vue 开发环境\u003c/li\u003e\n\u003cli\u003e运行 Docker 化的 django 环境\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 新开一个终端 用于运行 Vue 应用\n# 前端环境不放在 Docker 环境中。（因为开发环境没必要，生产环境才需要）\ncd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaVueBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e yarn \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e cd \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\ncd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaVueBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epackages\u003cspan class=\"token operator\"\u003e/\u003c/span\u003etheme\u003cspan class=\"token operator\"\u003e-\u003c/span\u003efuture\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e yarn \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e cd \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\ncd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaVueBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\nnpm run build\u003cspan class=\"token operator\"\u003e:\u003c/span\u003etheme\nnpm run dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 新开一个终端\ncd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\nmake\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e看到下图，包含所有的命令。\u003c/p\u003e\n\u003cp\u003e这是我用 Makefile 编写的一系列命令，方便我在开发过程将主要的精力花在业务逻辑上而不是花时间在强记大量的琐碎的命令。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\nmake build\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eall\n# 等待运行后端所有组件\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e然后，读者可以先去泡杯咖啡点个外卖吃个饭之类的。等待构建完毕。\u003c/p\u003e\n\u003cp\u003e需要注意的是，务必配置好 docker 镜像加速地址，否则根据国内情况，你可能需要多去泡几杯咖啡，多吃几顿饭。\u003c/p\u003e\n\u003cp\u003e好，接下来我们运行后端程序，首次运行需要花费不少时间\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\nmake django\u003cspan class=\"token operator\"\u003e-\u003c/span\u003ejust\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eup\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e运行之后，终端结果如下：\u003c/p\u003e\n\u003cp\u003e可以发现，服务已经都开始启动了。\u003c/p\u003e\n\u003cp\u003e但不要冲动，先等等，因为一次开了如下的服务：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003epostgres\u003c/li\u003e\n\u003cli\u003eredis\u003c/li\u003e\n\u003cli\u003eelasticsearch\u003c/li\u003e\n\u003cli\u003emailhog\u003c/li\u003e\n\u003cli\u003edjango\u003c/li\u003e\n\u003cli\u003ecelerybeat\u003c/li\u003e\n\u003cli\u003eceleryworker\u003c/li\u003e\n\u003cli\u003eceleryflower\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e需要多等会儿时间到各个服务运行正常。直到出现下图：\u003c/p\u003e\n\u003cp\u003e这意味着基本上所有的程序都运行正常了。如果有服务挂掉，欢迎到 github 的 issue 上提一下。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 接着再新开一个终端 用于导入基础数据\ncd \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\nmake django\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e\u003cspan class=\"token operator\"\u003e-\u003c/span\u003earticles\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e好，那么，我们来验证一下如下几个地址：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e接口地址 \u003ca href=\"http://localhost:8000/api/v1/archive\"\u003ehttp://localhost:8000/api/v1/archive\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eVue 地址 \u003ca href=\"http://localhost:8080/\"\u003ehttp://localhost:8080/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e在搜索框内输入 elasticsearch 查看接口是否正常返回数据\u003c/li\u003e\n\u003cli\u003e查看 celery 的 task 是否正确\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e如果一切正常，则所有的截图应该如下\u003c/p\u003e\n\u003ch2 id=\"0x05-tmux-和-tmuxinator\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x05-tmux-和-tmuxinator\"\u003e#\u003c/a\u003e 0x05 Tmux 和 Tmuxinator\u003c/h2\u003e\n\u003cp\u003e我们在上文中可以发现有个极其蛋疼菊紧的问题。\u003c/p\u003e\n\u003cp\u003e当我们运行 make django-just-up 这个命令的时候，所有服务运行的同时，所有的标准输入都打印到一个终端。\u003c/p\u003e\n\u003cp\u003e这个和我们日常开发不太相同\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e在 django 开发的时候，我们运行 runserver, 肯定是只想在那个终端里看到 runserver 的运行情况。而不是 Redis,Elasticsearch,PGsql 之类的 log。\u003c/li\u003e\n\u003cli\u003e并且，django 的热加载会有些小问题，有些错误只能 ctrl+c 关掉 runserver, 然后重启。但当我们想 ctrl+c 关掉 runserver 的时候，却把所有的的服务都关掉了。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e解决方式也简单：\u003c/p\u003e\n\u003cp\u003e对于暂时不想在开发时看到日志的服务，干脆直接放后台运行，执行我封装的命令 make django-before-up 把部分服务直接放在后台里，然后再开四个终端，运行下面的命令。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003emake django-runserver # 运行 runserver , 并只把该容器的 log 打印出来。下面三者同上。\u003c/li\u003e\n\u003cli\u003emake django-celerybeat\u003c/li\u003e\n\u003cli\u003emake django-celeryworker\u003c/li\u003e\n\u003cli\u003emake django-celeryflower\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e显然还是很麻烦，我这种懒人可是能少写几行代码就少些几行代码的。\u003c/p\u003e\n\u003cp\u003e那么我们还可以更省事（懒一些）么？\u003c/p\u003e\n\u003cp\u003e我之前写了一篇简单的 tmux 与 Tmuxinator 教程 \u003ca href=\"https://zhuanlan.zhihu.com/p/33369297\"\u003ehttps://zhuanlan.zhihu.com/p/33369297\u003c/a\u003e , 具体配置步骤参考文中即可。\u003c/p\u003e\n\u003cp\u003e配置好 Tmuxinator 之后\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 先软连接一下\nln \u003cspan class=\"token operator\"\u003e-\u003c/span\u003esvf \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eCodes\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eYaDjangoBlog\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eyadjangoblog\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eyml \u003cspan class=\"token operator\"\u003e~\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etmuxinator\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eyadjangoblog\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eyml\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e当我需要运行的所有服务的时候，我只需要\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003etmuxinator start yadjangoblog\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e就可以开启所有命令。\u003c/p\u003e\n\u003cp\u003eyadjangoblog.yml 的内容如下\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ewindows:\n  - \u0026quot;前端-页面开发\u0026quot;:\n      root: ~/Codes/YaBlog/YaVueBlog/\n      layout: main-vertical\n      panes:\n        - \u0026quot;前端页面 DEV\u0026quot;:\n          - \u0026quot;npm run dev\u0026quot;\n  - \u0026quot;前端-CSS 与字体文件\u0026quot;:\n      root: ~/Codes/YaBlog/YaVueBlog/\n      layout: main-vertical\n      panes:\n        - \u0026quot;npm run dev:theme\u0026quot;\n        - \u0026quot;npm run dev:iconfont\u0026quot;\n  - \u0026quot;后端-Django 及其服务\u0026quot;:\n      root: ~/Codes/YaBlog/YaDjangoBlog/\n      layout: main-vertical\n      panes:\n        - \u0026quot;make django-before-up \u0026amp;\u0026amp; make django-runserver\u0026quot;\n  - \u0026quot;后端-数据库相关\u0026quot;:\n      layout: main-vertical\n      root: ~/Codes/YaBlog/YaDjangoBlog/\n      panes:\n        - \u0026quot;sleep 20 \u0026amp;\u0026amp; make dbshell\u0026quot;\n        - \u0026quot;sleep 20 \u0026amp;\u0026amp; make shell\u0026quot;\n  - \u0026quot;后端-Celery\u0026quot;:\n      layout: main-vertical\n      root: ~/Codes/YaBlog/YaDjangoBlog/\n      panes:\n        - \u0026quot;sleep 20 \u0026amp;\u0026amp; make django-celerybeat\u0026quot;\n        - \u0026quot;sleep 20 \u0026amp;\u0026amp; make django-celeryworker\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"0x06-pycharm-基本设置\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x06-pycharm-基本设置\"\u003e#\u003c/a\u003e 0x06 PyCharm 基本设置\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e大家应该都用 PyCharm 进行开发了吧。 如果是的话，不看本小节可能会让你栽个跟头\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 这步是给 pycharm 打开代码做准备\npyenv activate py3\u003cspan class=\"token operator\"\u003e-\u003c/span\u003edaily\npip install \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ei https\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epypi\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edoubanio\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecom\u003cspan class=\"token operator\"\u003e/\u003c/span\u003esimple \u003cspan class=\"token operator\"\u003e-\u003c/span\u003er requirements\u003cspan class=\"token operator\"\u003e/\u003c/span\u003elocal\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etxt\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e务必完成下面两个步骤\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e在 Preferences -\u0026gt; project -\u0026gt; interpreter 选择对应的 py3-daily 虚拟环境。\u003c/li\u003e\n\u003cli\u003e在侧边栏把 yadjangoblog , 注意小写的。右键标记为 sources root\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e这样的标记相当于告诉 PyCharm , 这个项目的 PYTHONPATH 是 yadjangoblog/ , 否则使用 PyCharm 导入 AModel 会自动导入 from yadjangoblog.yaadmin.models from AModel 而不是 from yaadmin.models import AModel , 这会导致程序运行错误。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ePS: 包括后面跑单元测试的时候，均手动设置了 PYTHONPATH 变量。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"0x07-开发流程\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x07-开发流程\"\u003e#\u003c/a\u003e 0x07 开发流程\u003c/h2\u003e\n\u003cp\u003e本小节，从笔者开机开始，回顾一下环境配置好之后，笔者是如何进入开发状态的：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e开机。输入密码进入桌面。\u003c/li\u003e\n\u003cli\u003e打开 Iterm, 运行 tmuxinator start yadjangoblog 开启项目。打开 PyCharm 和 WebStorm\u003c/li\u003e\n\u003cli\u003e开发\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e在 WebStorm 中写写前端代码，在 \u003ca href=\"http://localhost:8080\"\u003ehttp://localhost:8080\u003c/a\u003e 和 tmux 里的第一个 window 查看状态\u003c/li\u003e\n\u003cli\u003e在 PyCharm 中写写后端代码，在第三个 window 查看 runserver 状态，在第四个 window 的两个 Panel 运行 python \u003ca href=\"http://manage.py\"\u003emanage.py\u003c/a\u003e 相关命令。\u003c/li\u003e\n\u003cli\u003e在 Chrome Elasticsearch Head 扩展里调试 Elasticsearch 语法\u003c/li\u003e\n\u003cli\u003e在 \u003ca href=\"http://localhost:8000/api/your-api-path\"\u003ehttp://localhost:8000/api/your-api-path\u003c/a\u003e 里调试前后端 API\u003c/li\u003e\n\u003cli\u003e在 \u003ca href=\"http://localhost:5555\"\u003ehttp://localhost:5555\u003c/a\u003e 通过 flower 查看相关\u003c/li\u003e\n\u003cli\u003e…\u003c/li\u003e\n\u003cli\u003e当然，你也可以新开一个终端里面，执行 make 查看相关还可以执行哪些命令。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e那么，具体执行这些命令背后究竟发生了什么？\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e数十服务为何突然启动\u003c/li\u003e\n\u003cli\u003e数百个任务为何半夜消失\u003c/li\u003e\n\u003cli\u003e正常运行的服务为何屡屡崩溃\u003c/li\u003e\n\u003cli\u003e这一切的背后！是工程师的人性扭曲还是码畜的道德沦丧？是内存的爆发还是处理器的无奈？\u003c/li\u003e\n\u003cli\u003e敬请关注本专栏 『MG 的编程小屋』或者 Github 频道，让我们跟随教程走进全干工程师的代码世界。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e不好意思，顺手打了个硬广，防止别人把我的文章砍头去尾直接扒过去。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"0xee-参考链接\"\u003e\u003ca class=\"v-toc-item\" href=\"#0xee-参考链接\"\u003e#\u003c/a\u003e 0xEE. 参考链接\u003c/h2\u003e\n\u003cp\u003e还犹豫啥，点赞后，快上车吧\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e前端代码 \u003ca href=\"https://github.com/twocucao/YaVueBlog\"\u003ehttps://github.com/twocucao/YaVueBlog\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e后端代码 \u003ca href=\"https://github.com/twocucao/YaDjangoBlog\"\u003ehttps://github.com/twocucao/YaDjangoBlog\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003eChangeLog:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e2018-02-22\u003c/strong\u003e 重修文字\u003c/li\u003e\n\u003c/ul\u003e\n","toc":"\u003cul class=\"v-article-toc\"\u003e\n\u003cli\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#0x00-%E5%89%8D%E8%A8%80\"\u003e0x00 前言\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x01-python-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\"\u003e0x01 Python 开发环境配置\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x02-javascript-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\"\u003e0x02 JavaScript 开发环境配置\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x03-docker-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE\"\u003e0x03 Docker 安装与配置\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x04-%E9%A1%B9%E7%9B%AE%E8%AF%95%E8%BF%90%E8%A1%8C\"\u003e0x04 项目试运行\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x05-tmux-%E5%92%8C-tmuxinator\"\u003e0x05 Tmux 和 Tmuxinator\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x06-pycharm-%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE\"\u003e0x06 PyCharm 基本设置\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x07-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B\"\u003e0x07 开发流程\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0xee-%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"\u003e0xEE. 参考链接\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"YaDjangoBlog 开发环境配置"},"buildId":"oDi_oBCBuu3qj6v7hDnrL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>