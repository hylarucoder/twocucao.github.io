<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Git CheatSheet | 海拉鲁编程客</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/49455a07b6dd33600cdf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/49455a07b6dd33600cdf.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-20d43e08bea62467b090.js" defer=""></script><script src="/_next/static/chunks/framework-0441fae7fd130f37dee1.js" defer=""></script><script src="/_next/static/chunks/main-4777350f2a9ff73ea2b0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-3050679c6e5142ffcaf5.js" defer=""></script><script src="/_next/static/chunks/ea88be26-9bcf6ead520f4ac26973.js" defer=""></script><script src="/_next/static/chunks/421-f2f33a86b546237f0325.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-173fe2de48c90365db9d.js" defer=""></script><script src="/_next/static/oDi_oBCBuu3qj6v7hDnrL/_buildManifest.js" defer=""></script><script src="/_next/static/oDi_oBCBuu3qj6v7hDnrL/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="v-page"><nav class="shadow"><div class="flex flex-col container mx-auto h-12 px-40 md:flex-row md:items-center md:justify-between"><div class="flex justify-between items-center"><div><a class="text-gray-800 text-xl md:text-xl leading-5" href="/">海拉鲁编程客</a></div><div><button type="button" class="block text-gray-800 hover:text-gray-600 focus:text-gray-600 focus:outline-none md:hidden"><svg viewBox="0 0 24 24" class="h-6 w-6 fill-current"><path d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"></path></svg></button></div></div><div class="md:flex flex-col md:flex-row md:-mx-4 hidden"><a class="my-1 text-gray-800 hover:text-blue-500 md:mx-4 md:my-0" href="/">首页</a><a class="my-1 text-gray-800 hover:text-blue-500 md:mx-4 md:my-0" href="/archive">归档</a><a class="my-1 text-gray-800 hover:text-blue-500 md:mx-4 md:my-0" href="/about">关于我</a><button style="cursor:pointer;overflow:hidden;width:50px;height:23.5px;appearance:none;-moz-appearance:none;-webkit-appearance:none;border:none;background-color:transparent;padding:0" aria-hidden="true"><div style="display:flex;align-items:center;justify-content:center;margin-top:-28.749999999999996px;margin-left:-16px;width:82.5px;height:82.5px"><div></div></div></button></div></div></nav><div class="v-article"><div class="v-article-main" style="margin:auto;width:786px"><div><h2 id="0x00-前言"><a class="v-toc-item" href="#0x00-前言">#</a> 0x00 前言</h2>
<p>Git 是一种分布式版本管理工具。</p>
<h2 id="0x01-git-命令范论"><a class="v-toc-item" href="#0x01-git-命令范论">#</a> 0x01 Git 命令范论</h2>
<ol>
<li>基础命令 （本地修改类）</li>
<li>合作命令 （本地与仓库类）</li>
<li>综合命令</li>
<li>管理命令</li>
</ol>
<h3 id="基础命令"><a class="v-toc-item" href="#基础命令">#</a> 基础命令</h3>
<ul>
<li>git-init(1) to create a new repository.</li>
<li>git-log(1) to see what happened.</li>
<li>git-checkout(1) and git-branch(1) to switch branches.</li>
<li>git-add(1) to manage the index file.</li>
<li>git-diff(1) and git-status(1) to see what you are in the middle of doing.</li>
<li>git-commit(1) to advance the current branch.</li>
<li>git-reset(1) and git-checkout(1) (with pathname parameters) to undo changes.</li>
<li>git-merge(1) to merge between local branches.</li>
<li>git-rebase(1) to maintain topic branches.</li>
<li>git-tag(1) to mark a known point.</li>
</ul>
<pre><code class="language-bash">$ tar zxf frotz<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
$ cd frotz
$ git init
$ git add <span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
$ git commit <span class="token operator">-</span>m <span class="token string">"import of frotz source tree."</span>
$ git tag v2<span class="token punctuation">.</span><span class="token number">43</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

$ git checkout <span class="token operator">-</span>b alsa<span class="token operator">-</span><span class="token function">audio</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
$ edit<span class="token operator">/</span>compile<span class="token operator">/</span>test
$ git checkout <span class="token operator">--</span> curses<span class="token operator">/</span>ux_audio_oss<span class="token punctuation">.</span><span class="token function">c</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> # 恢复文件
$ git add curses<span class="token operator">/</span>ux_audio_alsa<span class="token punctuation">.</span><span class="token function">c</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
$ edit<span class="token operator">/</span>compile<span class="token operator">/</span>test
$ git diff <span class="token constant">HEAD</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> # 查看提交了哪些修改
$ git commit <span class="token operator">-</span>a <span class="token operator">-</span><span class="token function">s</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> # 提交所有
$ edit<span class="token operator">/</span>compile<span class="token operator">/</span>test
$ git diff <span class="token constant">HEAD</span><span class="token operator">^</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> # 查看所有变化，包含之前的 commit
$ git commit <span class="token operator">-</span>a <span class="token operator">--</span><span class="token function">amend</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> # 修订前一个 commit<span class="token punctuation">,</span> 把所有的新变化提交到
$ git checkout <span class="token function">master</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
$ git merge alsa<span class="token operator">-</span><span class="token function">audio</span> <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
$ git log <span class="token operator">--</span>since<span class="token operator">=</span><span class="token string">'3 days ago'</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
$ git log v2<span class="token punctuation">.</span><span class="token number">43.</span><span class="token punctuation">.</span> curses<span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="合作命令"><a class="v-toc-item" href="#合作命令">#</a> 合作命令</h3>
<ul>
<li>git-clone(1) from the upstream to prime your local repository.</li>
<li>git-pull(1) and git-fetch(1) from “origin” to keep up-to-date with the upstream.</li>
<li>git-push(1) to shared repository, if you adopt CVS style shared repository workflow.</li>
<li>git-format-patch(1) to prepare e-mail submission, if you adopt Linux kernel-style public forum workflow.</li>
<li>git-send-email(1) to send your e-mail submission without corruption by your MUA.</li>
<li>git-request-pull(1) to create a summary of changes for your upstream to pull.</li>
</ul>
<pre><code class="language-bash">## clone 修改 提交
$ git clone git<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>git<span class="token punctuation">.</span>kernel<span class="token punctuation">.</span>org<span class="token operator">/</span>pub<span class="token operator">/</span>scm<span class="token operator">/</span><span class="token operator">...</span><span class="token operator">/</span>torvalds<span class="token operator">/</span>linux<span class="token operator">-</span><span class="token number">2.6</span> my2<span class="token punctuation">.</span><span class="token number">6</span>
$ cd my2<span class="token punctuation">.</span><span class="token number">6</span>
$ git checkout <span class="token operator">-</span>b mine <span class="token function">master</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
$ edit<span class="token operator">/</span>compile<span class="token operator">/</span>test<span class="token punctuation">;</span> git commit <span class="token operator">-</span>a <span class="token operator">-</span><span class="token function">s</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
$ git format<span class="token operator">-</span>patch <span class="token function">master</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
$ git send<span class="token operator">-</span>email <span class="token operator">--</span>to<span class="token operator">=</span><span class="token string">"person &lt;email@example.com>"</span> <span class="token number">00</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token function">patch</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
$ git checkout <span class="token function">master</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
$ git <span class="token function">pull</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
$ git log <span class="token operator">-</span>p <span class="token constant">ORIG_HEAD</span><span class="token punctuation">.</span><span class="token punctuation">.</span> arch<span class="token operator">/</span>i386 include<span class="token operator">/</span>asm<span class="token operator">-</span><span class="token function">i386</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> # 查看感兴趣的部分
$ git ls<span class="token operator">-</span>remote <span class="token operator">--</span>heads http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">git.kernel.org</span><span class="token regex-delimiter">/</span></span><span class="token operator">...</span><span class="token operator">/</span>jgarzik<span class="token operator">/</span>libata<span class="token operator">-</span>dev<span class="token punctuation">.</span><span class="token function">git</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> # 查看分支
$ git pull git<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>git<span class="token punctuation">.</span>kernel<span class="token punctuation">.</span>org<span class="token operator">/</span>pub<span class="token operator">/</span><span class="token operator">...</span><span class="token operator">/</span>jgarzik<span class="token operator">/</span>libata<span class="token operator">-</span>dev<span class="token punctuation">.</span>git <span class="token constant">ALL</span> <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> # 从一个特地
$ git reset <span class="token operator">--</span>hard <span class="token constant">ORIG_HEAD</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> # 撤销 pull
$ git <span class="token function">gc</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> # garbage collect leftover objects from reverted pull
# 推送到其他 repo

satellite$ git clone mothership<span class="token operator">:</span>frotz <span class="token function">frotz</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
satellite$ cd frotz
satellite$ git config <span class="token operator">--</span>get<span class="token operator">-</span>regexp <span class="token string">'^(remote|branch)\.'</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
remote<span class="token punctuation">.</span>origin<span class="token punctuation">.</span>url mothership<span class="token operator">:</span>frotz
remote<span class="token punctuation">.</span>origin<span class="token punctuation">.</span>fetch refs<span class="token operator">/</span>heads<span class="token comment">/*:refs/remotes/origin/*
branch.master.remote origin
branch.master.merge refs/heads/master
satellite$ git config remote.origin.push \
            +refs/heads/*:refs/remotes/satellite/* (3)
satellite$ edit/compile/test/commit
satellite$ git push origin (4)

mothership$ cd frotz
mothership$ git checkout master
mothership$ git merge satellite/master (5)

           1. mothership machine has a frotz repository under your home directory; clone from it to start a repository on the satellite machine.
           2. clone sets these configuration variables by default. It arranges git pull to fetch and store the branches of mothership machine to local remotes/origin/* remote-tracking
           branches.
           3. arrange git push to push all local branches to their corresponding branch of the mothership machine.
           4. push will stash all our work away on remotes/satellite/* remote-tracking branches on the mothership machine. You could use this as a back-up method. Likewise, you can
           pretend that mothership "fetched" from you (useful when access is one sided).
           5. on mothership machine, merge the work done on the satellite machine into the master branch.

       Branch off of a specific tag.

               $ git checkout -b private2.6.14 v2.6.14 (1)
               $ edit/compile/test; git commit -a
               $ git checkout master
               $ git cherry-pick v2.6.14..private2.6.14 (2)

           1. create a private branch based on a well known (but somewhat behind) tag.
           2. forward port all changes in private2.6.14 branch to master branch without a formal "merging". Or longhand git format-patch -k -m --stdout v2.6.14..private2.6.14 | git am -3
           -k

</span></code></pre>
<h3 id="综合个体"><a class="v-toc-item" href="#综合个体">#</a> 综合个体</h3>
<h3 id="仓库管理"><a class="v-toc-item" href="#仓库管理">#</a> 仓库管理</h3>
<p>安装完毕之后，cmd-s-p shell command install</p>
<h2 id="0x02-常见操作"><a class="v-toc-item" href="#0x02-常见操作">#</a> 0x02 常见操作</h2>
<pre><code class="language-bash"># 搜索代码的变化
git log <span class="token operator">-</span><span class="token constant">S</span><span class="token string">'&lt;a term in the source>'</span>
# 放弃本地修改，与远程同步
git fetch origin <span class="token operator">&amp;&amp;</span> git reset <span class="token operator">--</span>hard origin<span class="token operator">/</span>master <span class="token operator">&amp;&amp;</span> git clean <span class="token operator">-</span>f <span class="token operator">-</span>d
# 列出所有冲突文件
git diff <span class="token operator">--</span>name<span class="token operator">-</span>only <span class="token operator">--</span>diff<span class="token operator">-</span>filter<span class="token operator">=</span><span class="token constant">U</span>

# 手贱错误提交，但是没有 push
git commit <span class="token operator">-</span>m <span class="token string">"Something terribly misguided"</span>              <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
git reset <span class="token constant">HEAD</span><span class="token operator">~</span>                                           <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
# edit needing changed files
git add needing changed <span class="token function">files</span>                             <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
git commit <span class="token operator">-</span>c <span class="token constant">ORIG_HEAD</span>                                   <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

# Delete all changes <span class="token keyword">in</span> the Git repository<span class="token punctuation">,</span> but leave unstaged things
git checkout <span class="token punctuation">.</span>
# Delete all changes <span class="token keyword">in</span> the Git repository<span class="token punctuation">,</span> including untracked files
git clean <span class="token operator">-</span>f
</code></pre>
<h2 id="0x03-常见问题"><a class="v-toc-item" href="#0x03-常见问题">#</a> 0x03 常见问题</h2>
<pre><code>
</code></pre>
<h2 id="0x04-hub"><a class="v-toc-item" href="#0x04-hub">#</a> 0x04 Hub</h2>
<h2 id="0x05-workflow"><a class="v-toc-item" href="#0x05-workflow">#</a> 0x05 Workflow</h2>
<h2 id="0xee-扩展阅读"><a class="v-toc-item" href="#0xee-扩展阅读">#</a> 0xEE 扩展阅读</h2>
<hr>
<p>ChangeLog:</p>
<ul>
<li><strong>2020-12-15</strong> 重修文字</li>
</ul>
</div></div><div><ul class="v-article-toc">
<li>
<ul>
<li><a href="#0x00-%E5%89%8D%E8%A8%80">0x00 前言</a></li>
<li><a href="#0x01-git-%E5%91%BD%E4%BB%A4%E8%8C%83%E8%AE%BA">0x01 Git 命令范论</a>
<ul>
<li><a href="#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4">基础命令</a></li>
<li><a href="#%E5%90%88%E4%BD%9C%E5%91%BD%E4%BB%A4">合作命令</a></li>
<li><a href="#%E7%BB%BC%E5%90%88%E4%B8%AA%E4%BD%93">综合个体</a></li>
<li><a href="#%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86">仓库管理</a></li>
</ul>
</li>
<li><a href="#0x02-%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C">0x02 常见操作</a></li>
<li><a href="#0x03-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">0x03 常见问题</a></li>
<li><a href="#0x04-hub">0x04 Hub</a></li>
<li><a href="#0x05-workflow">0x05 Workflow</a></li>
<li><a href="#0xee-%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB">0xEE 扩展阅读</a></li>
</ul>
</li>
</ul>
</div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"tags":["Git"],"path":"20170615_GitCheatSheet.md","title":"Git CheatSheet","slug":"Git CheatSheet","date":"2017-06-15","category":"善用佳软","lastMod":"2020-10-01","description":"这篇文章展示了基本的 Markdown 语法和格式.","thumbnail":"","content":"\u003ch2 id=\"0x00-前言\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x00-前言\"\u003e#\u003c/a\u003e 0x00 前言\u003c/h2\u003e\n\u003cp\u003eGit 是一种分布式版本管理工具。\u003c/p\u003e\n\u003ch2 id=\"0x01-git-命令范论\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x01-git-命令范论\"\u003e#\u003c/a\u003e 0x01 Git 命令范论\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e基础命令 （本地修改类）\u003c/li\u003e\n\u003cli\u003e合作命令 （本地与仓库类）\u003c/li\u003e\n\u003cli\u003e综合命令\u003c/li\u003e\n\u003cli\u003e管理命令\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"基础命令\"\u003e\u003ca class=\"v-toc-item\" href=\"#基础命令\"\u003e#\u003c/a\u003e 基础命令\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003egit-init(1) to create a new repository.\u003c/li\u003e\n\u003cli\u003egit-log(1) to see what happened.\u003c/li\u003e\n\u003cli\u003egit-checkout(1) and git-branch(1) to switch branches.\u003c/li\u003e\n\u003cli\u003egit-add(1) to manage the index file.\u003c/li\u003e\n\u003cli\u003egit-diff(1) and git-status(1) to see what you are in the middle of doing.\u003c/li\u003e\n\u003cli\u003egit-commit(1) to advance the current branch.\u003c/li\u003e\n\u003cli\u003egit-reset(1) and git-checkout(1) (with pathname parameters) to undo changes.\u003c/li\u003e\n\u003cli\u003egit-merge(1) to merge between local branches.\u003c/li\u003e\n\u003cli\u003egit-rebase(1) to maintain topic branches.\u003c/li\u003e\n\u003cli\u003egit-tag(1) to mark a known point.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ tar zxf frotz\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etar\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egz\n$ cd frotz\n$ git init\n$ git add \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git commit \u003cspan class=\"token operator\"\u003e-\u003c/span\u003em \u003cspan class=\"token string\"\u003e\"import of frotz source tree.\"\u003c/span\u003e\n$ git tag v2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e43\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n$ git checkout \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eb alsa\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token function\"\u003eaudio\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ edit\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecompile\u003cspan class=\"token operator\"\u003e/\u003c/span\u003etest\n$ git checkout \u003cspan class=\"token operator\"\u003e--\u003c/span\u003e curses\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eux_audio_oss\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ec\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 恢复文件\n$ git add curses\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eux_audio_alsa\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ec\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ edit\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecompile\u003cspan class=\"token operator\"\u003e/\u003c/span\u003etest\n$ git diff \u003cspan class=\"token constant\"\u003eHEAD\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 查看提交了哪些修改\n$ git commit \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ea \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token function\"\u003es\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 提交所有\n$ edit\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecompile\u003cspan class=\"token operator\"\u003e/\u003c/span\u003etest\n$ git diff \u003cspan class=\"token constant\"\u003eHEAD\u003c/span\u003e\u003cspan class=\"token operator\"\u003e^\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 查看所有变化，包含之前的 commit\n$ git commit \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ea \u003cspan class=\"token operator\"\u003e--\u003c/span\u003e\u003cspan class=\"token function\"\u003eamend\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e7\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 修订前一个 commit\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 把所有的新变化提交到\n$ git checkout \u003cspan class=\"token function\"\u003emaster\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e8\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git merge alsa\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token function\"\u003eaudio\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e9\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git log \u003cspan class=\"token operator\"\u003e--\u003c/span\u003esince\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'3 days ago'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git log v2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e43.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e curses\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e11\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"合作命令\"\u003e\u003ca class=\"v-toc-item\" href=\"#合作命令\"\u003e#\u003c/a\u003e 合作命令\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003egit-clone(1) from the upstream to prime your local repository.\u003c/li\u003e\n\u003cli\u003egit-pull(1) and git-fetch(1) from “origin” to keep up-to-date with the upstream.\u003c/li\u003e\n\u003cli\u003egit-push(1) to shared repository, if you adopt CVS style shared repository workflow.\u003c/li\u003e\n\u003cli\u003egit-format-patch(1) to prepare e-mail submission, if you adopt Linux kernel-style public forum workflow.\u003c/li\u003e\n\u003cli\u003egit-send-email(1) to send your e-mail submission without corruption by your MUA.\u003c/li\u003e\n\u003cli\u003egit-request-pull(1) to create a summary of changes for your upstream to pull.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e## clone 修改 提交\n$ git clone git\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003egit\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ekernel\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epub\u003cspan class=\"token operator\"\u003e/\u003c/span\u003escm\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003etorvalds\u003cspan class=\"token operator\"\u003e/\u003c/span\u003elinux\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token number\"\u003e2.6\u003c/span\u003e my2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e6\u003c/span\u003e\n$ cd my2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e6\u003c/span\u003e\n$ git checkout \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eb mine \u003cspan class=\"token function\"\u003emaster\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ edit\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ecompile\u003cspan class=\"token operator\"\u003e/\u003c/span\u003etest\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e git commit \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ea \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token function\"\u003es\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git format\u003cspan class=\"token operator\"\u003e-\u003c/span\u003epatch \u003cspan class=\"token function\"\u003emaster\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git send\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eemail \u003cspan class=\"token operator\"\u003e--\u003c/span\u003eto\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"person \u0026lt;email@example.com\u003e\"\u003c/span\u003e \u003cspan class=\"token number\"\u003e00\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epatch\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git checkout \u003cspan class=\"token function\"\u003emaster\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git \u003cspan class=\"token function\"\u003epull\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n$ git log \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ep \u003cspan class=\"token constant\"\u003eORIG_HEAD\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e arch\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ei386 include\u003cspan class=\"token operator\"\u003e/\u003c/span\u003easm\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token function\"\u003ei386\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e7\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 查看感兴趣的部分\n$ git ls\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eremote \u003cspan class=\"token operator\"\u003e--\u003c/span\u003eheads http\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex\"\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003cspan class=\"token regex-source language-regex\"\u003egit.kernel.org\u003c/span\u003e\u003cspan class=\"token regex-delimiter\"\u003e/\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ejgarzik\u003cspan class=\"token operator\"\u003e/\u003c/span\u003elibata\u003cspan class=\"token operator\"\u003e-\u003c/span\u003edev\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egit\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e8\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 查看分支\n$ git pull git\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003egit\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ekernel\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorg\u003cspan class=\"token operator\"\u003e/\u003c/span\u003epub\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ejgarzik\u003cspan class=\"token operator\"\u003e/\u003c/span\u003elibata\u003cspan class=\"token operator\"\u003e-\u003c/span\u003edev\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egit \u003cspan class=\"token constant\"\u003eALL\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e9\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 从一个特地\n$ git reset \u003cspan class=\"token operator\"\u003e--\u003c/span\u003ehard \u003cspan class=\"token constant\"\u003eORIG_HEAD\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # 撤销 pull\n$ git \u003cspan class=\"token function\"\u003egc\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e11\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e # garbage collect leftover objects from reverted pull\n# 推送到其他 repo\n\nsatellite$ git clone mothership\u003cspan class=\"token operator\"\u003e:\u003c/span\u003efrotz \u003cspan class=\"token function\"\u003efrotz\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nsatellite$ cd frotz\nsatellite$ git config \u003cspan class=\"token operator\"\u003e--\u003c/span\u003eget\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eregexp \u003cspan class=\"token string\"\u003e'^(remote|branch)\\.'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nremote\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorigin\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eurl mothership\u003cspan class=\"token operator\"\u003e:\u003c/span\u003efrotz\nremote\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorigin\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003efetch refs\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eheads\u003cspan class=\"token comment\"\u003e/*:refs/remotes/origin/*\nbranch.master.remote origin\nbranch.master.merge refs/heads/master\nsatellite$ git config remote.origin.push \\\n            +refs/heads/*:refs/remotes/satellite/* (3)\nsatellite$ edit/compile/test/commit\nsatellite$ git push origin (4)\n\nmothership$ cd frotz\nmothership$ git checkout master\nmothership$ git merge satellite/master (5)\n\n           1. mothership machine has a frotz repository under your home directory; clone from it to start a repository on the satellite machine.\n           2. clone sets these configuration variables by default. It arranges git pull to fetch and store the branches of mothership machine to local remotes/origin/* remote-tracking\n           branches.\n           3. arrange git push to push all local branches to their corresponding branch of the mothership machine.\n           4. push will stash all our work away on remotes/satellite/* remote-tracking branches on the mothership machine. You could use this as a back-up method. Likewise, you can\n           pretend that mothership \"fetched\" from you (useful when access is one sided).\n           5. on mothership machine, merge the work done on the satellite machine into the master branch.\n\n       Branch off of a specific tag.\n\n               $ git checkout -b private2.6.14 v2.6.14 (1)\n               $ edit/compile/test; git commit -a\n               $ git checkout master\n               $ git cherry-pick v2.6.14..private2.6.14 (2)\n\n           1. create a private branch based on a well known (but somewhat behind) tag.\n           2. forward port all changes in private2.6.14 branch to master branch without a formal \"merging\". Or longhand git format-patch -k -m --stdout v2.6.14..private2.6.14 | git am -3\n           -k\n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"综合个体\"\u003e\u003ca class=\"v-toc-item\" href=\"#综合个体\"\u003e#\u003c/a\u003e 综合个体\u003c/h3\u003e\n\u003ch3 id=\"仓库管理\"\u003e\u003ca class=\"v-toc-item\" href=\"#仓库管理\"\u003e#\u003c/a\u003e 仓库管理\u003c/h3\u003e\n\u003cp\u003e安装完毕之后，cmd-s-p shell command install\u003c/p\u003e\n\u003ch2 id=\"0x02-常见操作\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x02-常见操作\"\u003e#\u003c/a\u003e 0x02 常见操作\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# 搜索代码的变化\ngit log \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token constant\"\u003eS\u003c/span\u003e\u003cspan class=\"token string\"\u003e'\u0026lt;a term in the source\u003e'\u003c/span\u003e\n# 放弃本地修改，与远程同步\ngit fetch origin \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e git reset \u003cspan class=\"token operator\"\u003e--\u003c/span\u003ehard origin\u003cspan class=\"token operator\"\u003e/\u003c/span\u003emaster \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e git clean \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ef \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ed\n# 列出所有冲突文件\ngit diff \u003cspan class=\"token operator\"\u003e--\u003c/span\u003ename\u003cspan class=\"token operator\"\u003e-\u003c/span\u003eonly \u003cspan class=\"token operator\"\u003e--\u003c/span\u003ediff\u003cspan class=\"token operator\"\u003e-\u003c/span\u003efilter\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token constant\"\u003eU\u003c/span\u003e\n\n# 手贱错误提交，但是没有 push\ngit commit \u003cspan class=\"token operator\"\u003e-\u003c/span\u003em \u003cspan class=\"token string\"\u003e\"Something terribly misguided\"\u003c/span\u003e              \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ngit reset \u003cspan class=\"token constant\"\u003eHEAD\u003c/span\u003e\u003cspan class=\"token operator\"\u003e~\u003c/span\u003e                                           \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n# edit needing changed files\ngit add needing changed \u003cspan class=\"token function\"\u003efiles\u003c/span\u003e                             \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ngit commit \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ec \u003cspan class=\"token constant\"\u003eORIG_HEAD\u003c/span\u003e                                   \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n# Delete all changes \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e the Git repository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e but leave unstaged things\ngit checkout \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n# Delete all changes \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e the Git repository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e including untracked files\ngit clean \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ef\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"0x03-常见问题\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x03-常见问题\"\u003e#\u003c/a\u003e 0x03 常见问题\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"0x04-hub\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x04-hub\"\u003e#\u003c/a\u003e 0x04 Hub\u003c/h2\u003e\n\u003ch2 id=\"0x05-workflow\"\u003e\u003ca class=\"v-toc-item\" href=\"#0x05-workflow\"\u003e#\u003c/a\u003e 0x05 Workflow\u003c/h2\u003e\n\u003ch2 id=\"0xee-扩展阅读\"\u003e\u003ca class=\"v-toc-item\" href=\"#0xee-扩展阅读\"\u003e#\u003c/a\u003e 0xEE 扩展阅读\u003c/h2\u003e\n\u003chr\u003e\n\u003cp\u003eChangeLog:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e2020-12-15\u003c/strong\u003e 重修文字\u003c/li\u003e\n\u003c/ul\u003e\n","toc":"\u003cul class=\"v-article-toc\"\u003e\n\u003cli\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#0x00-%E5%89%8D%E8%A8%80\"\u003e0x00 前言\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x01-git-%E5%91%BD%E4%BB%A4%E8%8C%83%E8%AE%BA\"\u003e0x01 Git 命令范论\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4\"\u003e基础命令\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E5%90%88%E4%BD%9C%E5%91%BD%E4%BB%A4\"\u003e合作命令\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E7%BB%BC%E5%90%88%E4%B8%AA%E4%BD%93\"\u003e综合个体\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86\"\u003e仓库管理\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x02-%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C\"\u003e0x02 常见操作\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x03-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98\"\u003e0x03 常见问题\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x04-hub\"\u003e0x04 Hub\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0x05-workflow\"\u003e0x05 Workflow\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#0xee-%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB\"\u003e0xEE 扩展阅读\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"Git CheatSheet"},"buildId":"oDi_oBCBuu3qj6v7hDnrL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>