<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"twocucao.xyz","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="0x00. 前言本文为 Cheatsheet 类型文章，用于记录我在日常编程中经常使用的 Shell 单行命令。 脚本主要适用于 BASH 环境，因为 Server 端的 Bash 主要还是 Bash 脚本居多。 不定期更新。  声明：Bash 命令适合那些十来行代码可以搞定的比较简单的逻辑，一般情况下用于处理一些服务的开启。至于部署，强烈推荐 Ansible. 目前在项目中使用 Ansible">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell CheatSheet">
<meta property="og:url" content="http://twocucao.xyz/2018/08/28/ShellCheatSheet/index.html">
<meta property="og:site_name" content="MG的编程小屋">
<meta property="og:description" content="0x00. 前言本文为 Cheatsheet 类型文章，用于记录我在日常编程中经常使用的 Shell 单行命令。 脚本主要适用于 BASH 环境，因为 Server 端的 Bash 主要还是 Bash 脚本居多。 不定期更新。  声明：Bash 命令适合那些十来行代码可以搞定的比较简单的逻辑，一般情况下用于处理一些服务的开启。至于部署，强烈推荐 Ansible. 目前在项目中使用 Ansible">
<meta property="og:locale">
<meta property="article:published_time" content="2018-08-28T11:58:02.000Z">
<meta property="article:modified_time" content="2018-09-17T11:00:01.000Z">
<meta property="article:author" content="Micheal Gardner">
<meta property="article:tag" content="Cheatsheet">
<meta property="article:tag" content="macOS">
<meta property="article:tag" content="Ubuntu">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://twocucao.xyz/2018/08/28/ShellCheatSheet/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>Shell CheatSheet | MG的编程小屋</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="MG的编程小屋" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">MG的编程小屋</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Get Busy Living, Or Get Busy Dying</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/08/28/ShellCheatSheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Shell CheatSheet
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-08-28 19:58:02" itemprop="dateCreated datePublished" datetime="2018-08-28T19:58:02+08:00">2018-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-09-17 19:00:01" itemprop="dateModified" datetime="2018-09-17T19:00:01+08:00">2018-09-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF/" itemprop="url" rel="index"><span itemprop="name">善用佳软</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00. 前言"></a>0x00. 前言</h2><p>本文为 Cheatsheet 类型文章，用于记录我在日常编程中经常使用的 Shell 单行命令。</p>
<p>脚本主要适用于 BASH 环境，因为 Server 端的 Bash 主要还是 Bash 脚本居多。</p>
<p>不定期更新。</p>
<blockquote>
<p>声明：Bash 命令适合那些十来行代码可以搞定的比较简单的逻辑，一般情况下用于处理一些服务的开启。至于部署，强烈推荐 Ansible. 目前在项目中使用 Ansible 从零开始无人值守部署一台机器。基本上完美到极致。</p>
</blockquote>
<a id="more"></a>

<h2 id="0x01-快捷键操作"><a href="#0x01-快捷键操作" class="headerlink" title="0x01. 快捷键操作"></a>0x01. 快捷键操作</h2><ul>
<li>「<strong>c-c</strong>」  : 中断当前命令。</li>
<li>「<strong>c-z</strong>」  : 当前程序暂停，bg 切换后台运行，使用 fg 可以调回</li>
<li>「<strong>tab</strong>」  : 补全</li>
<li>「<strong>tabx2</strong>」  : 补全提示</li>
<li>「<strong>c-r</strong>」  : 搜索命令行</li>
<li>「<strong>c-w</strong>」  : 同 vim</li>
<li>「<strong>c-u</strong>」  : 删除整行</li>
<li>「<strong>a-b/a-f</strong>」  : 移动一个词</li>
<li>「<strong>c-a</strong>」  : 移动至行首</li>
<li>「<strong>c-e</strong>」  : 移动至行尾</li>
<li>「<strong>c-k</strong>」  : 删除光标到行尾</li>
<li>「<strong>c-l</strong>」  : 清屏</li>
<li>「<strong>c-x,c-e</strong>」  : 用默认编辑器编辑当前命令（这样就可以把其他文本移动扔掉了。)</li>
</ul>
<h2 id="0x02-Linux-命令"><a href="#0x02-Linux-命令" class="headerlink" title="0x02. Linux 命令"></a>0x02. Linux 命令</h2><p>如果你和我一样使用的是 mac 系统，请先参考下面的链接</p>
<p><a target="_blank" rel="noopener" href="https://github.com/twocucao/dotfiles/blob/master/install_brew_packages.sh">https://github.com/twocucao/dotfiles/blob/master/install_brew_packages.sh</a></p>
<blockquote>
<p>经过上面一步，则基本上 find sed tar which 这些命令使用的 gnu 版本 (linux 版本）, 而非系统自带的 unix 版本了。</p>
</blockquote>
<blockquote>
<p>如何查找帮助</p>
</blockquote>
<ol>
<li>找男人 man 一下</li>
<li>whatis / which / where</li>
<li>tldr</li>
</ol>
<p>值得一提的就是 tldr, 直接可以在上面查看命令的常规使用。实在是碉堡了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Secure Shell is a protocol used to securely <span class="built_in">log</span> onto remote systems.</span><br><span class="line">It can be used <span class="keyword">for</span> logging or executing commands on a remote server.</span><br><span class="line"></span><br><span class="line">- Connect to a remote server:</span><br><span class="line">    ssh username@remote_host</span><br><span class="line"></span><br><span class="line">- Connect to a remote server with a specific identity (private key):</span><br><span class="line">    ssh -i path/to/key_file username@remote_host</span><br><span class="line"></span><br><span class="line">- Connect to a remote server using a specific port:</span><br><span class="line">    ssh username@remote_host -p 2222</span><br><span class="line"></span><br><span class="line">- Run a <span class="built_in">command</span> on a remote server:</span><br><span class="line">    ssh remote_host <span class="built_in">command</span> -with -flags</span><br><span class="line"></span><br><span class="line">- SSH tunneling: Dynamic port forwarding (SOCKS proxy on localhost:9999):</span><br><span class="line">    ssh -D 9999 -C username@remote_host</span><br><span class="line"></span><br><span class="line">- SSH tunneling: Forward a specific port (localhost:9999 to slashdot.org:80) along with disabling pseudo-[t]ty allocation and executio[n] of remote commands:</span><br><span class="line">    ssh -L 9999:slashdot.org:80 -N -T username@remote_host</span><br><span class="line"></span><br><span class="line">- SSH jumping: Connect through a jumphost to a remote server (Multiple jump hops may be specified separated by comma characters):</span><br><span class="line">    ssh -J username@jump_host username@remote_host</span><br><span class="line"></span><br><span class="line">- Agent forwarding: Forward the authentication information to the remote machine (see `man ssh_config` <span class="keyword">for</span> available options):</span><br><span class="line">    ssh -A username@remote_host</span><br></pre></td></tr></table></figure>

<h2 id="0x03-Tips-amp-amp-Hacks"><a href="#0x03-Tips-amp-amp-Hacks" class="headerlink" title="0x03 Tips &amp;&amp; Hacks"></a>0x03 Tips &amp;&amp; Hacks</h2><h3 id="文件-目录"><a href="#文件-目录" class="headerlink" title="文件 / 目录"></a>文件 / 目录</h3><h4 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h4><ul>
<li>mkdir</li>
<li>rm</li>
<li>cd</li>
<li>cp</li>
<li>pwd</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 创建和删除</span></span><br><span class="line">mkdir</span><br><span class="line">mkdir -p a/b/c</span><br><span class="line">rm</span><br><span class="line">rm -rf dir/file/regex</span><br><span class="line">rm *<span class="built_in">log</span></span><br><span class="line"><span class="comment"># 等价</span></span><br><span class="line">find ./ -name <span class="string">&quot;*log&quot;</span> -<span class="built_in">exec</span> rm &#123;&#125;;</span><br><span class="line">mv</span><br><span class="line"></span><br><span class="line"><span class="comment">## mv 可以用于移动文件，也可以进行重命名</span></span><br><span class="line"></span><br><span class="line">cp</span><br><span class="line"></span><br><span class="line">find ./ | wc -l</span><br><span class="line">cp -r source_dir dest_dir</span><br><span class="line">rsync --progress -a source_dir dest_dir</span><br><span class="line">rsync -vr --progress you_folder_here twocucao@192.168.2.151:/Users/twocucao/Codes/</span><br><span class="line"><span class="comment"># 目录切换</span></span><br><span class="line">ls -lrt</span><br><span class="line"></span><br><span class="line">find ./ -name <span class="string">&quot;*.o&quot;</span> -<span class="built_in">exec</span> rm &#123;&#125; \;</span><br><span class="line"></span><br><span class="line">more</span><br><span class="line">head</span><br><span class="line">tail</span><br><span class="line">tail -f filename</span><br><span class="line">diff</span><br><span class="line"></span><br><span class="line">chown</span><br><span class="line">chmod</span><br><span class="line">chown -R tuxapp <span class="built_in">source</span>/</span><br><span class="line">chmod a+x myscript</span><br><span class="line"></span><br><span class="line">ln cc ccA</span><br><span class="line">ln -s cc ccTo</span><br><span class="line"></span><br><span class="line">cat -v record.log | grep AAA | grep -v BBB | wc -l</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="查找文件之-find-gfind"><a href="#查找文件之-find-gfind" class="headerlink" title="查找文件之 find (gfind)"></a>查找文件之 find (gfind)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Find</span></span><br><span class="line"></span><br><span class="line">find . \( -name <span class="string">&quot;*.txt&quot;</span> -o -name <span class="string">&quot;*.pdf&quot;</span> \) -<span class="built_in">print</span></span><br><span class="line"><span class="comment"># 正则方式查找。txt 和。pdf</span></span><br><span class="line">find . -regex  <span class="string">&quot;.*\(\.txt|\.pdf\)$&quot;</span></span><br><span class="line">find . ! -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">print</span></span><br><span class="line">find . -maxdepth 1 -<span class="built_in">type</span> f</span><br><span class="line"><span class="comment"># 定制搜索</span></span><br><span class="line"><span class="comment">## 按照类型搜索</span></span><br><span class="line">find . -<span class="built_in">type</span> f -<span class="built_in">print</span>  <span class="comment">#只列出所有文件</span></span><br><span class="line">find . -<span class="built_in">type</span> d -<span class="built_in">print</span>  <span class="comment">#只列出所有目录</span></span><br><span class="line">find . -<span class="built_in">type</span> l -<span class="built_in">print</span>  <span class="comment">#只列出所有符号链接</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 按照时间搜索</span></span><br><span class="line">find . -atime 7 -<span class="built_in">type</span> f -<span class="built_in">print</span> <span class="comment"># 最近第 7 天被访问过的所有文件：</span></span><br><span class="line">find . -atime -7 -<span class="built_in">type</span> f -<span class="built_in">print</span> <span class="comment"># 最近 7 天内被访问过的所有文件：</span></span><br><span class="line">find . -atime +7 <span class="built_in">type</span> f -<span class="built_in">print</span> <span class="comment"># 查询 7 天前被访问过的所有文件：</span></span><br><span class="line"><span class="comment"># w,k,M,G</span></span><br><span class="line">find . -<span class="built_in">type</span> f -size +2k</span><br><span class="line">find . -<span class="built_in">type</span> f -perm 644 -<span class="built_in">print</span>  <span class="comment"># 找具有可执行权限的所有文件</span></span><br><span class="line">find . -<span class="built_in">type</span> f -user weber -<span class="built_in">print</span> <span class="comment"># 找用户 weber 所拥有的文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 后续动作</span></span><br><span class="line"><span class="comment">## 删除</span></span><br><span class="line">find . -<span class="built_in">type</span> f -name <span class="string">&quot;*.swp&quot;</span> -delete</span><br><span class="line"><span class="comment">## 执行动作</span></span><br><span class="line">find . -<span class="built_in">type</span> f -name <span class="string">&quot;*.swp&quot;</span> | xargs rm</span><br><span class="line">find . -<span class="built_in">type</span> f -user root -<span class="built_in">exec</span> chown weber &#123;&#125; \;</span><br><span class="line"><span class="comment">## eg: copy 到另一个目录</span></span><br><span class="line">find . -<span class="built_in">type</span> f -mtime +10 -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">exec</span> cp &#123;&#125; OLD \;</span><br><span class="line"><span class="comment">##  -exec ./commands.sh &#123;&#125; \;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 删除内部为空的文件夹</span></span><br><span class="line"><span class="comment"># 递归删除 a/b/c</span></span><br><span class="line">find . -<span class="built_in">type</span> d -empty -delete</span><br><span class="line"><span class="comment">#    使用.gitkeep 进行填充</span></span><br><span class="line">find . -<span class="built_in">type</span> d -empty -<span class="built_in">exec</span> touch &#123;&#125;/.gitkeep \;</span><br><span class="line">find . -<span class="built_in">type</span> d -empty -not -path <span class="string">&#x27;*/\.*&#x27;</span> -<span class="built_in">exec</span> touch &#123;&#125;/.gitkeep \; <span class="comment"># 不初始化.git/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 寻找 TOP 10</span></span><br><span class="line">find . -<span class="built_in">type</span> f -<span class="built_in">printf</span> <span class="string">&#x27;%s %p\n&#x27;</span>| sort -nr | head -10 | awk <span class="string">&#x27;&#123;$1/=1024*1024;printf &quot;%.2fMB - %s\n&quot;,$1,$2&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 寻找文件夹 TOP 10</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#125;: A placeholder token that will be replaced with the path of the search result (documents/images/party.jpg).</span><br><span class="line">&#123;.&#125;: Like &#123;&#125;, but without the file extension (documents/images/party).</span><br><span class="line">&#123;/&#125;: A placeholder that will be replaced by the basename of the search result (party.jpg).</span><br><span class="line">&#123;//&#125;: Uses the parent of the discovered path (documents/images).</span><br><span class="line">&#123;/.&#125;: Uses the basename, with the extension removed (party).</span><br><span class="line"><span class="comment"># Convert all jpg files to png files:</span></span><br><span class="line">fd -e jpg -x convert &#123;&#125; &#123;.&#125;.png</span><br><span class="line"></span><br><span class="line"><span class="comment"># Unpack all zip files (if no placeholder is given, the path is appended):</span></span><br><span class="line">fd -e zip -x unzip</span><br><span class="line"></span><br><span class="line"><span class="comment"># Convert all flac files into opus files:</span></span><br><span class="line">fd -e flac -x ffmpeg -i &#123;&#125; -c:a libopus &#123;.&#125;.opus</span><br><span class="line"></span><br><span class="line"><span class="comment"># Count the number of lines in Rust files (the command template can be terminated with &#x27;;&#x27;):</span></span><br><span class="line">fd -x wc -l \; -e rs</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="压缩-解压缩"><a href="#压缩-解压缩" class="headerlink" title="压缩 / 解压缩"></a>压缩 / 解压缩</h4><ul>
<li>7z</li>
<li>7za</li>
<li>7zr</li>
<li>tar</li>
<li>gzip</li>
<li>unzip</li>
<li>unrar</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打包</span></span><br><span class="line">tar -cvf</span><br><span class="line"><span class="comment">#解包</span></span><br><span class="line">tar -xvf</span><br><span class="line"><span class="comment">#压缩</span></span><br><span class="line">gzip</span><br><span class="line"><span class="comment">#解压缩 gunzip bzip</span></span><br></pre></td></tr></table></figure>

<ul>
<li>tar 是将多个文件放在一起变成一个 tar 文件 (Tape Archiver)</li>
<li>gzip 是讲一个文件变成一个压缩文件</li>
</ul>
<blockquote>
<p>则 foo.tar.gz 指的是 先把文件转为 tar 文件，然后 gzip 之</p>
</blockquote>
<h3 id="文本篇"><a href="#文本篇" class="headerlink" title="文本篇"></a>文本篇</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">grep match_pattern file</span><br><span class="line"></span><br><span class="line">-o 只输出匹配的文本行</span><br><span class="line">-v 只输出没有匹配的文本行</span><br><span class="line">-c 统计文件中包含文本的次数</span><br><span class="line"></span><br><span class="line">-n 打印匹配行号</span><br><span class="line">-i 搜索时符合大小写</span><br><span class="line">-l 之打印文件名</span><br><span class="line"></span><br><span class="line">grep <span class="string">&quot;class&quot;</span> . -R -n <span class="comment"># 多级目录中对文本递归搜索</span></span><br><span class="line">grep -e <span class="string">&quot;class&quot;</span> -e <span class="string">&quot;vitural&quot;</span> file <span class="comment"># 匹配多个模式</span></span><br><span class="line">grep <span class="string">&quot;test&quot;</span> file* -lZ| xargs -0 rm <span class="comment"># grep 输出以、0 作为结尾符的文件名：（-z）</span></span><br><span class="line"></span><br><span class="line">-d 定义定界符</span><br><span class="line">-n 输出为多行</span><br><span class="line">-l &#123;&#125; 指定替换字符串</span><br><span class="line">cat file.txt | xargs <span class="comment"># 打印多行</span></span><br><span class="line">cat file.txt | xargs -n 3 <span class="comment"># 分割多行</span></span><br><span class="line">cat file.txt | xargs -I &#123;&#125; ./command.sh -p &#123;&#125; -1</span><br><span class="line">-0 指定、0 为输入定界符</span><br><span class="line">find source_dir/ -<span class="built_in">type</span> f -name <span class="string">&quot;*.cpp&quot;</span> -print0 |xargs -0 wc -l</span><br><span class="line"></span><br><span class="line">sort 排序</span><br><span class="line">-n 按数字进行排序</span><br><span class="line">-d 按字典序进行排序</span><br><span class="line">-r 逆序排序</span><br><span class="line">-k N 指定按照第 N 列排序</span><br><span class="line"></span><br><span class="line">sort -nrk 1 data.txt</span><br><span class="line">sort -bd data // 忽略像空格之类的前导空白字符</span><br><span class="line"></span><br><span class="line">sort unsort.txt | uniq &gt; sorted.txt <span class="comment"># 消除重复行</span></span><br><span class="line">sort unsort.txt | uniq -c <span class="comment"># 统计各行在文件中出现的次数</span></span><br><span class="line">sort unsort.txt | uniq -d <span class="comment"># 找出重复行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 tr 进行转换</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cut 按列切分文本</span></span><br><span class="line">cut -f2,4 filename <span class="comment">#截取文件的第 2 列和第 4 列</span></span><br><span class="line">cut -f3 --complement filename <span class="comment">#去文件除第 3 列的所有列</span></span><br><span class="line">cut -f2 -d<span class="string">&quot;;&quot;</span> filename -d <span class="comment">#指定定界符</span></span><br><span class="line">cut -c1-5 file <span class="comment">#打印第一到 5 个字符</span></span><br><span class="line">cut -c-2 file  <span class="comment">#打印前 2 个字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># paste 按列拼接文本</span></span><br><span class="line">paste file1 file2 -d <span class="string">&quot;,&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># wc 统计行和字符的工具</span></span><br><span class="line">wc -l file <span class="comment"># 统计行数</span></span><br><span class="line">wc -w file <span class="comment"># 统计单词数</span></span><br><span class="line">wc -c file <span class="comment"># 统计字符数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># sed 文本替换利器</span></span><br><span class="line">sed <span class="string">&#x27;s/text/replace_text/&#x27;</span> file  <span class="comment"># 首处替换</span></span><br><span class="line">sed <span class="string">&#x27;s/text/replace_text/g&#x27;</span> file  <span class="comment"># 全局替换</span></span><br><span class="line">sed -i <span class="string">&#x27;s/text/repalce_text/g&#x27;</span> file <span class="comment"># 替换文件</span></span><br><span class="line">sed <span class="string">&#x27;/^$/d&#x27;</span> file  <span class="comment"># 移除空白行</span></span><br><span class="line">sed -i <span class="string">&#x27;s/twocucao/micheal/g&#x27;</span> xx.dump.sql</span><br><span class="line">sed -n 634428,887831p insert_doc_ids_new.sql &gt; uninserted_sql.sql</span><br></pre></td></tr></table></figure>

<h3 id="用户篇"><a href="#用户篇" class="headerlink" title="用户篇"></a>用户篇</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加 yaweb 为 sudo 用户</span></span><br><span class="line">usermod -aG sudo yaweb</span><br></pre></td></tr></table></figure>

<p>所有用户和用户组信息保存在：/etc/passwd , /etc/group</p>
<p>用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -m yaweb <span class="comment"># 创建相关账号，和用户目录 /home/yaweb</span></span><br><span class="line">passwd yaweb</span><br><span class="line">userdel -r yaweb <span class="comment"># 删除</span></span><br></pre></td></tr></table></figure>

<p>用户组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">usermod -g groupName username <span class="comment"># 变更组</span></span><br><span class="line">usermod -G groupName username <span class="comment"># 添加到组</span></span><br><span class="line">usermod -aG sudo yaweb <span class="comment"># 添加 yaweb 到 sudo 组</span></span><br></pre></td></tr></table></figure>

<p>用户权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown userMark(+|-)PermissionsMark</span><br></pre></td></tr></table></figure>
<p>userMark 取值：</p>
<ul>
<li>u：用户</li>
<li>g：组</li>
<li>o：其它用户</li>
<li>a：所有用户</li>
</ul>
<p>PermissionsMark 取值：</p>
<ul>
<li>r: 读</li>
<li>w：写</li>
<li>x：执行</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod a+x main         对所有用户给文件 main 增加可执行权限</span><br><span class="line">chmod g+w blogs        对组用户给文件 blogs 增加可写权限</span><br><span class="line">chown -R weber server/</span><br></pre></td></tr></table></figure>

<p>远程登录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -l root 192.168.2.253</span><br><span class="line">ssh-copy-id root@192.168.2.253</span><br></pre></td></tr></table></figure>

<h3 id="网络篇"><a href="#网络篇" class="headerlink" title="网络篇"></a>网络篇</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;hostname &#x2F;etc&#x2F;hosts</span><br><span class="line">netstat -a</span><br></pre></td></tr></table></figure>

<h3 id="磁盘篇"><a href="#磁盘篇" class="headerlink" title="磁盘篇"></a>磁盘篇</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前目录大小</span></span><br><span class="line">du -sh</span><br><span class="line">du -sh `ls` | sort</span><br><span class="line"><span class="comment"># 查看当前目录的下一级文件和子目录的磁盘容量</span></span><br><span class="line">du -lh --max-depth=1</span><br></pre></td></tr></table></figure>

<h3 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep twocucao</span><br><span class="line">ps -lu twocucao</span><br><span class="line"># 完整显示</span><br><span class="line">ps -ajx</span><br><span class="line">ps au | grep phantomjs | awk &#39;&#123; print $2 &#125;&#39; | xargs kill -9</span><br><span class="line"></span><br><span class="line">top</span><br><span class="line">htop</span><br><span class="line"></span><br><span class="line">lsof -i:3306</span><br><span class="line">lsof -u twocucao</span><br><span class="line"></span><br><span class="line">kill -9 pidnum</span><br><span class="line"></span><br><span class="line"># 将用户 colin115 下的所有进程名以 av_开头的进程终止：</span><br><span class="line"></span><br><span class="line">ps -u colin115 |  awk &#39;&#x2F;av_&#x2F; &#123;print &quot;kill -9 &quot; $1&#125;&#39; | sh</span><br><span class="line"># 将用户 colin115 下所有进程名中包含 HOST 的进程终止：</span><br><span class="line"></span><br><span class="line">ps -fe| grep colin115|grep HOST |awk &#39;&#123;print $2&#125;&#39; | xargs kill -9;</span><br></pre></td></tr></table></figure>

<h4 id="Systemd"><a href="#Systemd" class="headerlink" title="Systemd"></a>Systemd</h4><p>创建一个 Systemd 服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;gunicorn.service:</span><br><span class="line"></span><br><span class="line">[Unit]</span><br><span class="line">Description&#x3D;gunicorn daemon</span><br><span class="line">Requires&#x3D;gunicorn.socket</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">PIDFile&#x3D;&#x2F;run&#x2F;gunicorn&#x2F;pid</span><br><span class="line">User&#x3D;someuser</span><br><span class="line">Group&#x3D;someuser</span><br><span class="line">RuntimeDirectory&#x3D;gunicorn</span><br><span class="line">WorkingDirectory&#x3D;&#x2F;home&#x2F;someuser&#x2F;applicationroot</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;gunicorn --pid &#x2F;run&#x2F;gunicorn&#x2F;pid   \</span><br><span class="line">          --bind unix:&#x2F;run&#x2F;gunicorn&#x2F;socket applicationname.wsgi</span><br><span class="line">ExecReload&#x3D;&#x2F;bin&#x2F;kill -s HUP $MAINPID</span><br><span class="line">ExecStop&#x3D;&#x2F;bin&#x2F;kill -s TERM $MAINPID</span><br><span class="line">PrivateTmp&#x3D;true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure>

<h3 id="性能监控"><a href="#性能监控" class="headerlink" title="性能监控"></a>性能监控</h3><p>内存瓶颈</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">htop</span><br><span class="line">free <span class="comment"># 从 /proc/meminfo 读取数据</span></span><br></pre></td></tr></table></figure>

<p>IO 瓶颈</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ubuntu 下 可以 mac 下不可以</span></span><br><span class="line">iostat -d -x -k 1 1</span><br></pre></td></tr></table></figure>

<p>如果 %iowait 的值过高，表示硬盘存在 I/O 瓶颈。<br>如果 %util 接近 100%，说明产生的 I/O 请求太多，I/O 系统已经满负荷，该磁盘可能存在瓶颈。<br>如果 svctm 比较接近 await，说明 I/O 几乎没有等待时间；<br>如果 await 远大于 svctm，说明 I/O 队列太长，io 响应太慢，则需要进行必要优化。<br>如果 avgqu-sz 比较大，也表示有大量 io 在等待。</p>
<h2 id="增强版软件"><a href="#增强版软件" class="headerlink" title="增强版软件"></a>增强版软件</h2><h3 id="外部检查"><a href="#外部检查" class="headerlink" title="外部检查"></a>外部检查</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 域名与 IP 分析</span><br><span class="line">dig</span><br><span class="line"></span><br><span class="line"># 端口分析</span><br><span class="line">nmap -v -sS -O 192.168.2.0&#x2F;24</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="FTP-Client-提交文件"><a href="#FTP-Client-提交文件" class="headerlink" title="FTP Client 提交文件"></a>FTP Client 提交文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">lftp &lt;&lt;SCRIPT</span><br><span class="line">set ftps:initial-prot &quot;&quot;</span><br><span class="line">set ftp:ssl-force true</span><br><span class="line">set ftp:ssl-protect-data true</span><br><span class="line">set ssl:verify-certificate no</span><br><span class="line">open ftp:&#x2F;&#x2F;xxx.xxx.xxx.xxx:21</span><br><span class="line">user ftpuser ftppass</span><br><span class="line">lcd &#x2F;Users&#x2F;&lt;username&gt;&#x2F;Ftps&#x2F;Workspace&#x2F;libs</span><br><span class="line">put &#x2F;Users&#x2F;&lt;username&gt;&#x2F;Ftps&#x2F;Workspace&#x2F;repos&#x2F;xxx.jar</span><br><span class="line">exit</span><br><span class="line">SCRIPT</span><br></pre></td></tr></table></figure>

<h3 id="媒体编辑"><a href="#媒体编辑" class="headerlink" title="媒体编辑"></a>媒体编辑</h3><h4 id="抽取视频中的音乐"><a href="#抽取视频中的音乐" class="headerlink" title="抽取视频中的音乐"></a>抽取视频中的音乐</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 抽取 mp4 中的音频并保存为 mp3</span><br><span class="line">mkdir outputs</span><br><span class="line">for f in *.mp4; do ffmpeg -i &quot;$f&quot; -c:a libmp3lame &quot;outputs&#x2F;$&#123;f%.mp4&#125;.mp3&quot;; done</span><br></pre></td></tr></table></figure>

<h4 id="批量获取"><a href="#批量获取" class="headerlink" title="批量获取"></a>批量获取</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">convert &#123;&#123;image1.png&#125;&#125; &#123;&#123;image2.png&#125;&#125; &#123;&#123;image3.png&#125;&#125; -delay &#123;&#123;100&#125;&#125; &#123;&#123;animation.gif&#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="有趣的重命名"><a href="#有趣的重命名" class="headerlink" title="有趣的重命名"></a>有趣的重命名</h3><p>常用 mv 进行重命名，有的时候这个功能显得很不实用，比如，我要把当前的文件夹内的所有图片命名为 0001.png-9999.png, 这个 mv 时候就相当的鸡肋。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install renameutils mmv rename</span><br></pre></td></tr></table></figure>
<p>如果对于大批的文件需要重命名，比如有接近 10000 个文件，大量乱码文件改为 0001.jpg - 9999.jpg</p>
<p>这种东西放在 IPython 里面写 Python 脚本也还 OK, 但是总想直接一行命令解决</p>
<h3 id="常用组合技"><a href="#常用组合技" class="headerlink" title="常用组合技"></a>常用组合技</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 windows txt 文件中的查看二字的数量</span></span><br><span class="line">cat * | iconv -f GBK | grep 查看 | wc -l</span><br></pre></td></tr></table></figure>

<h2 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bat</span><br><span class="line">exa</span><br><span class="line">json_pp</span><br><span class="line">python -m json.tool</span><br><span class="line">tig</span><br><span class="line">tokei</span><br></pre></td></tr></table></figure>

<h3 id="Tmux"><a href="#Tmux" class="headerlink" title="Tmux"></a>Tmux</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tmux</span><br><span class="line"></span><br><span class="line">tmux new -s you_tmux_name</span><br><span class="line">tmux ls</span><br><span class="line">tmux a</span><br><span class="line">tmux a -t you_tmux_name</span><br><span class="line">c-b + d</span><br><span class="line">tmux kill-session -t you_tmux_name</span><br></pre></td></tr></table></figure>

<p>进阶工具 tmuxp</p>
<h2 id="部署工具"><a href="#部署工具" class="headerlink" title="部署工具"></a>部署工具</h2><h3 id="进程守护-supervisor"><a href="#进程守护-supervisor" class="headerlink" title="进程守护 supervisor"></a>进程守护 supervisor</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">supervisorctl tail -f you_app_name stdout</span><br><span class="line">supervisorctl tail -100 you_app_name stderr</span><br></pre></td></tr></table></figure>

<h2 id="资料推荐"><a href="#资料推荐" class="headerlink" title="资料推荐"></a>资料推荐</h2><ol>
<li>一个关于 Linux 命令的各种奇技的网站 <a target="_blank" rel="noopener" href="http://www.commandlinefu.com/commands/browse">http://www.commandlinefu.com/commands/browse</a></li>
<li>Linux 工具快速教程 <a target="_blank" rel="noopener" href="http://linuxtools-rst.readthedocs.org/zh_CN/latest/index.html">http://linuxtools-rst.readthedocs.org/zh_CN/latest/index.html</a></li>
<li>一个 Awesome List, <a target="_blank" rel="noopener" href="https://github.com/jaywcjlove/linux-command">https://github.com/jaywcjlove/linux-command</a></li>
<li>命令行的艺术  <a target="_blank" rel="noopener" href="https://github.com/jlevy/the-art-of-command-line">https://github.com/jlevy/the-art-of-command-line</a></li>
<li>man command 需要好好研读，特别是 man bash 至少要研读几遍</li>
</ol>
<hr>
<p>ChangeLog:</p>
<ul>
<li><strong>2015-04-18</strong> 初始化本文</li>
<li><strong>2018-08-28</strong> 重修文字</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Cheatsheet/" rel="tag"># Cheatsheet</a>
              <a href="/tags/macOS/" rel="tag"># macOS</a>
              <a href="/tags/Ubuntu/" rel="tag"># Ubuntu</a>
              <a href="/tags/Linux/" rel="tag"># Linux</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/08/01/VueProjectTalking/" rel="prev" title="Vue 项目漫谈 2018 版">
      <i class="fa fa-chevron-left"></i> Vue 项目漫谈 2018 版
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/08/29/2019-clean-code-part02/" rel="next" title="如何写出整洁的 Python 代码 中">
      如何写出整洁的 Python 代码 中 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0x00-%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">0x00. 前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x01-%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%93%8D%E4%BD%9C"><span class="nav-number">2.</span> <span class="nav-text">0x01. 快捷键操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x02-Linux-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.</span> <span class="nav-text">0x02. Linux 命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x03-Tips-amp-amp-Hacks"><span class="nav-number">4.</span> <span class="nav-text">0x03 Tips &amp;&amp; Hacks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6-%E7%9B%AE%E5%BD%95"><span class="nav-number">4.1.</span> <span class="nav-text">文件 &#x2F; 目录</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">4.1.1.</span> <span class="nav-text">基本操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6%E4%B9%8B-find-gfind"><span class="nav-number">4.1.2.</span> <span class="nav-text">查找文件之 find (gfind)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9-%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="nav-number">4.1.3.</span> <span class="nav-text">压缩 &#x2F; 解压缩</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E7%AF%87"><span class="nav-number">4.2.</span> <span class="nav-text">文本篇</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%AF%87"><span class="nav-number">4.3.</span> <span class="nav-text">用户篇</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E7%AF%87"><span class="nav-number">4.4.</span> <span class="nav-text">网络篇</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E7%AF%87"><span class="nav-number">4.5.</span> <span class="nav-text">磁盘篇</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="nav-number">4.6.</span> <span class="nav-text">进程管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Systemd"><span class="nav-number">4.6.1.</span> <span class="nav-text">Systemd</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"><span class="nav-number">4.7.</span> <span class="nav-text">性能监控</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A2%9E%E5%BC%BA%E7%89%88%E8%BD%AF%E4%BB%B6"><span class="nav-number">5.</span> <span class="nav-text">增强版软件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E6%A3%80%E6%9F%A5"><span class="nav-number">5.1.</span> <span class="nav-text">外部检查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP-Client-%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6"><span class="nav-number">5.2.</span> <span class="nav-text">FTP Client 提交文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AA%92%E4%BD%93%E7%BC%96%E8%BE%91"><span class="nav-number">5.3.</span> <span class="nav-text">媒体编辑</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%BD%E5%8F%96%E8%A7%86%E9%A2%91%E4%B8%AD%E7%9A%84%E9%9F%B3%E4%B9%90"><span class="nav-number">5.3.1.</span> <span class="nav-text">抽取视频中的音乐</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%B9%E9%87%8F%E8%8E%B7%E5%8F%96"><span class="nav-number">5.3.2.</span> <span class="nav-text">批量获取</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E8%B6%A3%E7%9A%84%E9%87%8D%E5%91%BD%E5%90%8D"><span class="nav-number">5.4.</span> <span class="nav-text">有趣的重命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%BB%84%E5%90%88%E6%8A%80"><span class="nav-number">5.5.</span> <span class="nav-text">常用组合技</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7"><span class="nav-number">6.</span> <span class="nav-text">开发工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Tmux"><span class="nav-number">6.1.</span> <span class="nav-text">Tmux</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2%E5%B7%A5%E5%85%B7"><span class="nav-number">7.</span> <span class="nav-text">部署工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E5%AE%88%E6%8A%A4-supervisor"><span class="nav-number">7.1.</span> <span class="nav-text">进程守护 supervisor</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%84%E6%96%99%E6%8E%A8%E8%8D%90"><span class="nav-number">8.</span> <span class="nav-text">资料推荐</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Micheal Gardner</p>
  <div class="site-description" itemprop="description">Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">93</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">96</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Micheal Gardner</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




  















  

  

</body>
</html>
