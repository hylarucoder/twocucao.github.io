<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"twocucao.xyz","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
<meta property="og:type" content="website">
<meta property="og:title" content="MG的编程小屋">
<meta property="og:url" content="http://twocucao.xyz/page/2/index.html">
<meta property="og:site_name" content="MG的编程小屋">
<meta property="og:description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
<meta property="og:locale">
<meta property="article:author" content="Micheal Gardner">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://twocucao.xyz/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>MG的编程小屋</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="MG的编程小屋" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">MG的编程小屋</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Get Busy Living, Or Get Busy Dying</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/08/29/2019-clean-code-part02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/08/29/2019-clean-code-part02/" class="post-title-link" itemprop="url">如何写出整洁的 Python 代码 中</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-08-29 08:35:21" itemprop="dateCreated datePublished" datetime="2018-08-29T08:35:21+08:00">2018-08-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-11-29 23:40:50" itemprop="dateModified" datetime="2020-11-29T23:40:50+08:00">2020-11-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文是《提升你的 Python 项目代码健壮性和性能》系列的第七篇文章。</p>
<p>第一篇，讲的是如何 用 Type Annotation 提升你的 Python 代码健壮性<br>第二篇，讲的是 如何通过测试提升 Python 代码的健壮性<br>第三篇，讲的是在一定并发量的情况下，如何保证 Django 项目的数据一致性<br>第四篇，讲的是如何定位性能问题 这几招，让你快速提升 Python 项目的性能<br>第五篇，讲的是 为你的项目快速搭建 ELKFA 日志系统<br>第六篇，《如何写出整洁的代码 上》 从变量命名 / 函数 / 注释整洁 / 格式整洁上写出干净的代码</p>
<p>目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">▼ 如何写出整洁的 Python 代码 中 : section</span><br><span class="line">    0x00 前言 : section</span><br><span class="line">    0x01 避免过深的缩进 : section</span><br><span class="line">    0x02 使用异常 : section</span><br><span class="line">    0x03 类与 OOP : section</span><br><span class="line">  ▼ 0x04 SOLID 设计原则 : section</span><br><span class="line">      单一职责 : section</span><br><span class="line">      开闭原则 : section</span><br><span class="line">      里氏替换原则 : section</span><br><span class="line">      接口隔离原则 : section</span><br><span class="line">      依赖反转原则 : section</span><br><span class="line">    0x05 边界和第三方库的挑选 : section</span><br><span class="line">    0xDD 结论 : section</span><br><span class="line">    0xEE 参考 : section</span><br></pre></td></tr></table></figure>

<h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>上篇地址在这里 <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/59510165">https://zhuanlan.zhihu.com/p/59510165</a></p>
<p>还是通过代码上的一些小技巧和一些原则来让代码更加整齐。</p>
<h2 id="0x01-避免过深的缩进"><a href="#0x01-避免过深的缩进" class="headerlink" title="0x01 避免过深的缩进"></a>0x01 避免过深的缩进</h2><p>场景，你在做一个 B2B2C 的商城系统。商家的活动需要在某些比较严格的条件下才能参与（假设有五个字段吧）。</p>
<p>如果不动手捋一捋判断的路径，上来就动手写代码，则很容易写出如下的代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if cond1:</span><br><span class="line">	dosomething()</span><br><span class="line">	if cond2:</span><br><span class="line">		dosomething()</span><br><span class="line">		if cond3 and cond4:</span><br><span class="line">			dosomething()</span><br><span class="line">			else:</span><br><span class="line">				dosomething()</span><br><span class="line">			if condx:</span><br><span class="line">			dosomething()</span><br><span class="line">else:</span><br><span class="line">	if cond2:</span><br><span class="line">		dosomething()</span><br><span class="line">		if cond3 and cond4:</span><br><span class="line">			dosomething()</span><br><span class="line">			if condx:</span><br><span class="line">			dosomething()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>想想你这个时候才判断了 5 个字段… 如果想都不想就开始写这种代码的话，就做好修改的时候崩溃吧。</p>
<p>当你写出 if 超过两层缩进的时候，代码的复杂度就值得注意了。</p>
<p>这个时候，应该火速的拿出纸和笔出来，快速的捋一捋所有的变量和情况，</p>
<p>『以减少缩进为目标』</p>
<p>能提前判断掉的就提前判断掉</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 能提前判断掉的就提前判断掉</span><br><span class="line">if cond2:</span><br><span class="line">	raise AlreadPaid():</span><br><span class="line">if cond3:</span><br><span class="line">	raise ActivityExhaused():</span><br><span class="line">if cond4:</span><br><span class="line">	raise ActivityCancel():</span><br></pre></td></tr></table></figure>

<p>代码的缩进越浅，代表着代码越容易维护，用学长的话说，老手才知道『九浅一深』的奥妙……</p>
<h2 id="0x02-使用异常"><a href="#0x02-使用异常" class="headerlink" title="0x02 使用异常"></a>0x02 使用异常</h2><p>使用异常而不是状态码，这点重点点名一下 Go 语言的状态码….</p>
<p>遇到异常返回状态码写业务的话，很容易抓狂。如果你在深层抛出一个错误，使用状态码的话，必须一层一层的返回状态码。</p>
<ol>
<li>遇到问题，抛出异常，raise ApiException 。就可以在上层捕获错误进行处理。这样的<br>  话，就没有必要每次都在函数签名上返回状态码了。</li>
<li>让代码更佳清晰的是 try except finally 机制。try 块定义了一个范围，try 中的结果可以看执行中有没有遇到一些奇奇怪怪的情况，然后把 try 块里面的东西取消掉。甚至抛出一个错误，丢到 catch 里面执行。这种接近于事务的做法是状态码机制没法比的。</li>
</ol>
<p>拿第一小节的代码来说，可以在最深层抛出异常，然后在最外面统一处理异常，有些异常可能只是报 apiexception, 有的异常可能还要针对情况打日志，或者有的情况是你在写代码的时候没有考虑到的情况，都可以进行各种灵活的处理。</p>
<p>这样的话，代码就非常的清晰了。</p>
<h2 id="0x03-类与-OOP"><a href="#0x03-类与-OOP" class="headerlink" title="0x03 类与 OOP"></a>0x03 类与 OOP</h2><p>注意！</p>
<ol>
<li>OOP 语言让封装 / 继承 / 多态更佳方便快捷安全。</li>
<li>封装 / 多态 / 继承 并不是 OOP 对象的专利，实际上利用指针 C 也可以写出来具备封装 / 继承 / 多态的程序。只是相对危险一些罢了。</li>
</ol>
<p>比如，你有这么个场景，计算购物车里面东西的价格：</p>
<ol>
<li>面向过程思考方式，用户我选了一些商品，然后把商品放到购物车里，然后我算一下物品价格。</li>
<li>OOP 思考方式，用户我需要一个购物车，帮我把这些物品放到购物车里面，购物车告诉我价格。这个时候，你封装一个购物车类会比较合适。</li>
</ol>
<p>你这个时候就问了，这不就是一个 calcPrice(cart) 和 cart.calcPrice 的区别么？</p>
<p>区别在哪？</p>
<ol>
<li>『真实世界建模』购物车的是一个对真实世界的建模。</li>
<li>『职责转移』。计算价格这件事情就是『购物车』这个 Object 的事情了。</li>
<li>封装性：我不需要维护一个物品集合。都交给购物车来做这件事情。</li>
</ol>
<p>什么情况下需要类，用 OOP 的方式思考是合理的，明显的，清晰的，就可以了。</p>
<p>当然，采用了 OOP, 可以更快的结合继承 / 多态来完成『依赖反转』。</p>
<p>这个名词听起来不明觉厉，但其实很简单。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># base.py</span><br><span class="line">class Human:</span><br><span class="line">	def perform(self):</span><br><span class="line">		pass</span><br><span class="line"></span><br><span class="line"># foo&#x2F;man.py</span><br><span class="line">class Man(Human):</span><br><span class="line">	def perform(self):</span><br><span class="line">		print(&quot;大哥，真不会唱歌&quot;)</span><br><span class="line"></span><br><span class="line"># bar&#x2F;woman.py</span><br><span class="line">class Woman(Human):</span><br><span class="line">	def perform(self):</span><br><span class="line">		print(&quot;大哥，真不会跳舞&quot;)</span><br></pre></td></tr></table></figure>

<p>如果老大哥让你跳舞，就必须要把你的代码给 import 到老大哥的源代码里面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># bar&#x2F;bigbother.py</span><br><span class="line">from foo.man import man_instance</span><br><span class="line">from bar.woman import woman_instance</span><br><span class="line"></span><br><span class="line">man_instance.perform()</span><br><span class="line">woman_instance.perform()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这样会带来一个问题，产生了源代码上面的依赖。这样带来结果是老大哥依赖于几个具体 man 和 woman, 这是不合理的，应该是铁打的老大哥，流水的 man 和 woman</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 源码不依赖 bigbother.py</span><br><span class="line"></span><br><span class="line">def order_perform(h):</span><br><span class="line">	h.perform()</span><br><span class="line"></span><br><span class="line">humans &#x3D; scan_humans()</span><br><span class="line"></span><br><span class="line">for human in humans:</span><br><span class="line">	order_perform(human)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>利用多态，则将这个问题完美的解决了。当然，考虑到动态语言，本身就可以很『多态』…. 你甚至<br>都不需要继承了…</p>
<p>策略层与实现完美分离。甚至可以分开进行独立部署。</p>
<p>结论：</p>
<ol>
<li>对真实世界的建模</li>
<li>代码清晰为主，如果能用简单函数解决的事情，就不要封装成类。</li>
<li>以多态为手段对源代码中的依赖关系进行控制的能力。借此，可以构建<br>  出插件式架构，让高层策略性组件和底层实现性组件分离。底层实现可以编译成插件，实<br>  现独立于高层组件的开发和部署。</li>
</ol>
<h2 id="0x04-SOLID-设计原则"><a href="#0x04-SOLID-设计原则" class="headerlink" title="0x04 SOLID 设计原则"></a>0x04 SOLID 设计原则</h2><ul>
<li>SRP 单一职责 原则</li>
<li>OCP 开闭原则</li>
<li>LSP 里式替换原则</li>
<li>ISP 接口隔离原则</li>
<li>DIP 依赖反转原则</li>
</ul>
<p>原则是原则，是追求，是启迪思路的思想，但也要随机应变。</p>
<ol>
<li>假如你不了解业务，强行用依赖反转原则写了抽象层，后面 PM 过来说，我有这么一个思路。那么，你的代码写起来就很痛苦了。</li>
<li>假如你不了解场景，在使用单一职责的时候，往往就会业务区分不明确。</li>
</ol>
<p>在现实场景中，往往是先保持足够的清晰简单的代码，随着代码的演进，用上面的原则再次思<br>考一下可不可以做的更好。</p>
<h3 id="单一职责"><a href="#单一职责" class="headerlink" title="单一职责"></a>单一职责</h3><p>比如说，单一职责原则听起来很简单，一个函数只完成一个功能（事情）。</p>
<p>但现实情况是这种往往只是一个追求，站在不同的角度有不同的看法：</p>
<p>比如说，</p>
<ol>
<li>你说，你今天想学习。这是一件事情。</li>
<li>你说，你今天上午想学习数学。这是一件事情。</li>
<li>你说，你今天上午想学习高数第三章，接着做完笔记，回头抽卡默背一遍公式。这是三<br>  件事情，并且也可以是一件事情。</li>
</ol>
<p>你的拆分粒度决定了一件事情的指代范围。</p>
<h3 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a>开闭原则</h3><p>开闭原则强调的事情是计算机系统应该在不需要修改的前提下被扩展。将系统划分为一系列组件，并且将这些组件的依赖关系按照层次结构进行组织，使得高阶组件不会因为低阶组件被修改而受到影响</p>
<h3 id="里氏替换原则"><a href="#里氏替换原则" class="headerlink" title="里氏替换原则"></a>里氏替换原则</h3><p>在不改变软件行为的基础上，衍生类可以替换掉基类</p>
<h3 id="接口隔离原则"><a href="#接口隔离原则" class="headerlink" title="接口隔离原则"></a>接口隔离原则</h3><p>任何层次的软件设计如果依赖了它并不需要的东西的时候，就会带来意料之外的麻烦。</p>
<h3 id="依赖反转原则"><a href="#依赖反转原则" class="headerlink" title="依赖反转原则"></a>依赖反转原则</h3><p>什么叫做依赖反转？</p>
<p>依赖反转就是设计软件的时候设计稳定的抽象层。针对抽象的东西编程。</p>
<h2 id="0x05-边界和第三方库的挑选"><a href="#0x05-边界和第三方库的挑选" class="headerlink" title="0x05 边界和第三方库的挑选"></a>0x05 边界和第三方库的挑选</h2><p>在软件包膨胀的今天，应该如何挑选第三方库呢？</p>
<p>我给出几个挑选的原则。</p>
<ol>
<li>靠谱依赖原则：如果 flask 是靠谱的，那么，flask 依赖的 click 包，werkzeuk 包一定是靠谱的。</li>
<li>浓缩精华原则：如果一个库依赖少，代码清晰简单，那么可以采用。</li>
<li>活跃维护原则：如果维护很活跃，证明前景相对较好。</li>
<li>多人维护原则：如果是多人维护，则不会因一个人的喜好和个人状态而断了维护。别问我怎么知道的，都是泪</li>
</ol>
<p>挑选有这个原则，那么，使用有什么原则么？</p>
<p>就一条，尽量减少依赖库对你现有代码的侵入性。</p>
<p>比如，你用了 cryptography 之后，应该封装一个接口用来调用 cryptography 防止以后这个项目挂了，这样你可以只修改该接口，和 pycrypto 对接。</p>
<p>这和里氏替换的思路也是比较类似的</p>
<h2 id="0xDD-结论"><a href="#0xDD-结论" class="headerlink" title="0xDD 结论"></a>0xDD 结论</h2><blockquote>
<p>所谓『不能谋万世者不能谋一时，不能谋全局者不能谋一隅』</p>
</blockquote>
<p>在软件开发中，其实最重要的过程是梳理流程，流程梳理的足够清楚，代码就足够简单。</p>
<p>不管是避免深缩进，还是使用异常，还是 Solid 原则。都是建立在全局观足够高，对当前的流程非常熟悉的基础上的。</p>
<p>当然，考虑到需求变更的不确定性，代码还是足够简单清晰为上策。</p>
<h2 id="0xEE-参考"><a href="#0xEE-参考" class="headerlink" title="0xEE 参考"></a>0xEE 参考</h2><ul>
<li>《架构整洁之道》</li>
<li>《代码整洁之道》</li>
<li>Photo by Joseph Kellner on Unsplash</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/08/28/ShellCheatSheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/08/28/ShellCheatSheet/" class="post-title-link" itemprop="url">Shell CheatSheet</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-08-28 19:58:02" itemprop="dateCreated datePublished" datetime="2018-08-28T19:58:02+08:00">2018-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-09-17 19:00:01" itemprop="dateModified" datetime="2018-09-17T19:00:01+08:00">2018-09-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%96%84%E7%94%A8%E4%BD%B3%E8%BD%AF/" itemprop="url" rel="index"><span itemprop="name">善用佳软</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00. 前言"></a>0x00. 前言</h2><p>本文为 Cheatsheet 类型文章，用于记录我在日常编程中经常使用的 Shell 单行命令。</p>
<p>脚本主要适用于 BASH 环境，因为 Server 端的 Bash 主要还是 Bash 脚本居多。</p>
<p>不定期更新。</p>
<blockquote>
<p>声明：Bash 命令适合那些十来行代码可以搞定的比较简单的逻辑，一般情况下用于处理一些服务的开启。至于部署，强烈推荐 Ansible. 目前在项目中使用 Ansible 从零开始无人值守部署一台机器。基本上完美到极致。</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/08/28/ShellCheatSheet/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/08/01/VueProjectTalking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/08/01/VueProjectTalking/" class="post-title-link" itemprop="url">Vue 项目漫谈 2018 版</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2018-08-01 20:06:05 / Modified: 17:23:53" itemprop="dateCreated datePublished" datetime="2018-08-01T20:06:05+08:00">2018-08-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">前端开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>之前草草整理过一些 Vue 的小技巧，最近温习了一遍文档，重聊一遍。</p>
<p>鉴于 VueCLI 越做越臃肿，我最后还是选择了自己搭架子。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/twocucao/vue-starter-kit">https://github.com/twocucao/vue-starter-kit</a></p>
<h2 id="0x01-项目结构"><a href="#0x01-项目结构" class="headerlink" title="0x01 项目结构"></a>0x01 项目结构</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根文件</span></span><br><span class="line">public/ <span class="comment"># 部署文件</span></span><br><span class="line">src/ <span class="comment"># 源码</span></span><br><span class="line">.babelrc</span><br><span class="line">.editorconfig</span><br><span class="line">.eslintignore</span><br><span class="line">.eslintrc</span><br><span class="line">.gitignore</span><br><span class="line">.postcssrc.js</span><br><span class="line">LICENSE</span><br><span class="line">README.md</span><br><span class="line">jsconfig.json</span><br><span class="line">package-lock.json</span><br><span class="line">package.json</span><br><span class="line">webpack.common.js</span><br><span class="line">webpack.dev.js</span><br><span class="line">webpack.dll.js</span><br><span class="line">webpack.prod.js</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/08/01/VueProjectTalking/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/07/27/ToneColor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/27/ToneColor/" class="post-title-link" itemprop="url">Tone Color</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-27 22:02:16" itemprop="dateCreated datePublished" datetime="2018-07-27T22:02:16+08:00">2018-07-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-09-17 23:20:16" itemprop="dateModified" datetime="2018-09-17T23:20:16+08:00">2018-09-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%91%84%E5%BD%B1/" itemprop="url" rel="index"><span itemprop="name">摄影</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>不定期更新。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/07/27/ToneColor/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/07/17/Portrait/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/17/Portrait/" class="post-title-link" itemprop="url">人像摄影指北</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-17 20:17:32" itemprop="dateCreated datePublished" datetime="2018-07-17T20:17:32+08:00">2018-07-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-09-17 23:20:17" itemprop="dateModified" datetime="2018-09-17T23:20:17+08:00">2018-09-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%86%99%E5%9C%A8%E4%BA%BA%E7%94%9F%E7%9A%84%E8%BE%B9%E4%B8%8A/" itemprop="url" rel="index"><span itemprop="name">写在人生的边上</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><h3 id="本文目录"><a href="#本文目录" class="headerlink" title="本文目录"></a>本文目录</h3><h2 id="0x01-风格特点"><a href="#0x01-风格特点" class="headerlink" title="0x01 风格特点"></a>0x01 风格特点</h2><h3 id="小清新"><a href="#小清新" class="headerlink" title="小清新"></a>小清新</h3><ul>
<li>安静</li>
<li>温暖</li>
<li>舒适</li>
<li>平缓</li>
<li>清新</li>
<li>淡雅</li>
<li>自然</li>
<li>干净</li>
<li>随意</li>
<li>青春的小故事，小情绪</li>
</ul>
<h3 id="色调"><a href="#色调" class="headerlink" title="色调"></a>色调</h3><p>冷色系</p>
<p>蓝天<br>大海<br>白色窗纱</p>
<p>青色 / 蓝色 / 绿色</p>
<p>衣服：白衬衫<br>背景：白色窗纱<br>曝光补偿</p>
<h2 id="0x02-拍摄场景和服装搭配"><a href="#0x02-拍摄场景和服装搭配" class="headerlink" title="0x02 拍摄场景和服装搭配"></a>0x02 拍摄场景和服装搭配</h2><h2 id="0x03-器材与参数设置"><a href="#0x03-器材与参数设置" class="headerlink" title="0x03 器材与参数设置"></a>0x03 器材与参数设置</h2><h2 id="0x04-学会用光"><a href="#0x04-学会用光" class="headerlink" title="0x04 学会用光"></a>0x04 学会用光</h2><p>最佳时间：日出日落前后两小时。</p>
<h3 id="直射光"><a href="#直射光" class="headerlink" title="直射光"></a>直射光</h3><h4 id="顺光角度"><a href="#顺光角度" class="headerlink" title="顺光角度"></a>顺光角度</h4><p>优点：面部充分受光，皮肤细腻，光滑，水嫩。背景细节丰富，颜色亮丽。<br>缺点：面部扁平</p>
<h4 id="侧光角度"><a href="#侧光角度" class="headerlink" title="侧光角度"></a>侧光角度</h4><p>优点：五官非常有立体感<br>缺点：容易造成阴阳脸</p>
<p>PS: 白种人五官立体，高鼻梁，高眉骨，眼神深邃，立体感强，而黄种人一般面部比较平，一般需要借助侧面打光的的效果。</p>
<p>一般选择 30 度左右即可，看模特身材，要么拍摄对象偏向光源或者摄影师移动。</p>
<h4 id="逆光角度"><a href="#逆光角度" class="headerlink" title="逆光角度"></a>逆光角度</h4><p>优点：主体的轮廓光，以及画面中的光晕。</p>
<p>注意点：</p>
<ul>
<li>避免选择比较明亮的天空作为背景</li>
<li>如果正逆光太过明亮，则选择侧逆光，或者主体部分遮挡光晕</li>
<li>大黑脸的问题：设置相机曝光补偿 / 点测光。闪光灯，反光板，白色的墙面，书籍。</li>
</ul>
<h3 id="散射光"><a href="#散射光" class="headerlink" title="散射光"></a>散射光</h3><p>阴天，树荫</p>
<p>画面比较单调，人物缺乏立体感，可以通过增加主体的颜色鲜艳度或者加上背景的一些对比（但不要喧宾夺主）</p>
<h3 id="夜晚人造灯"><a href="#夜晚人造灯" class="headerlink" title="夜晚人造灯"></a>夜晚人造灯</h3><p>商店的微侧面灯光，加上后面的光斑</p>
<h3 id="室内光"><a href="#室内光" class="headerlink" title="室内光"></a>室内光</h3><ol>
<li>避免直射光。选择散射光。</li>
<li>跳闪，反光板</li>
</ol>
<h3 id="其他技巧"><a href="#其他技巧" class="headerlink" title="其他技巧"></a>其他技巧</h3><ol>
<li>让模特走动，然后观察光线，可以先拍一下，查看照片情况</li>
<li>偏色可以考虑调整白平衡</li>
<li>杂色过多可以调整</li>
<li>单光源的，可以考虑墙面 / 闪光灯塑造人瘦脸胖，或者直接暴力点，拿手或者其他东西遮挡。</li>
</ol>
<h2 id="0x05-摆姿技巧"><a href="#0x05-摆姿技巧" class="headerlink" title="0x05 摆姿技巧"></a>0x05 摆姿技巧</h2><h2 id="0x06-取景技巧"><a href="#0x06-取景技巧" class="headerlink" title="0x06 取景技巧"></a>0x06 取景技巧</h2><h3 id="跟着光线走"><a href="#跟着光线走" class="headerlink" title="跟着光线走"></a>跟着光线走</h3><p>逆光<br>局部光</p>
<h3 id="跟着背景走"><a href="#跟着背景走" class="headerlink" title="跟着背景走"></a>跟着背景走</h3><p>颜色单一的背景，墙面 / 卷帘门 / 复古色墙壁 / 橙色墙壁 / 蓝天 / 草坪<br>颜色单一 + 基本点缀的背景，在单一背景的基础上加上另一个单一颜色，对比强烈，但是又不喧宾夺主</p>
<h3 id="跟着线条走"><a href="#跟着线条走" class="headerlink" title="跟着线条走"></a>跟着线条走</h3><ul>
<li>栏杆 / 护栏<ul>
<li>模特坐 / 靠 / 趴</li>
</ul>
</li>
<li>台阶 / 窗台</li>
<li>两排树 / 过道 / 走廊</li>
</ul>
<h3 id="巧用前景遮挡物"><a href="#巧用前景遮挡物" class="headerlink" title="巧用前景遮挡物"></a>巧用前景遮挡物</h3><ul>
<li>虚化掉墙 / 栏杆 / 护栏之类的遮挡物可以引导视线</li>
</ul>
<h3 id="花卉绿植"><a href="#花卉绿植" class="headerlink" title="花卉绿植"></a>花卉绿植</h3><p>上下结构，也包括了构图<br>单簇，也包括了构图</p>
<h2 id="0x08-人像后期"><a href="#0x08-人像后期" class="headerlink" title="0x08 人像后期"></a>0x08 人像后期</h2><h3 id="磨皮"><a href="#磨皮" class="headerlink" title="磨皮"></a>磨皮</h3><p>磨皮包含：</p>
<p>去污<br>明度<br>饱和度<br>色相</p>
<h4 id="简易磨皮-HSL-清晰度"><a href="#简易磨皮-HSL-清晰度" class="headerlink" title="简易磨皮 HSL + 清晰度"></a>简易磨皮 HSL + 清晰度</h4><p>使用场景</p>
<p>具体操作</p>
<ol>
<li>降低清晰度 = 磨皮</li>
<li>提升 HSL 橙色 明度 = 提亮皮肤</li>
<li>降低 HSL 橙色 饱和度 = 皮肤更白</li>
<li>微调 HSL 橙色 色相 = 皮肤更粉或者黄一些</li>
<li>提亮 相机校准-蓝色-饱和度 = 让皮肤更加粉嫩通透</li>
</ol>
<h4 id="插件磨皮"><a href="#插件磨皮" class="headerlink" title="插件磨皮"></a>插件磨皮</h4><p>Portraiture</p>
<h4 id="高反差保留磨皮"><a href="#高反差保留磨皮" class="headerlink" title="高反差保留磨皮"></a>高反差保留磨皮</h4><p>高反差保留磨皮，通过通道计算，选出皮肤中脏点污点，然后曲线提亮。</p>
<h4 id="高低频磨皮"><a href="#高低频磨皮" class="headerlink" title="高低频磨皮"></a>高低频磨皮</h4><p>高底频 = 图层分为高频图层与低频图层，高频就是所谓的质感（头发，纹理，细节等）, 低频就是光影，也就是皮肤的明暗。在低频图层用插件磨皮或者污点修复，图层工具随意涂抹，也不会影响皮肤的纹路。</p>
<p>复制两个图层，命名为高频和低频。</p>
<ul>
<li>低频启用滤镜-模糊-高斯模糊，值 =6</li>
<li>高频启用图像-应用图像，图层 = 低频，混合 = 相加，缩放 =2</li>
<li>高频混合模式改为线性光，然后污点去除。</li>
</ul>
<h4 id="中性灰磨皮"><a href="#中性灰磨皮" class="headerlink" title="中性灰磨皮"></a>中性灰磨皮</h4><h4 id="双曲线磨皮"><a href="#双曲线磨皮" class="headerlink" title="双曲线磨皮"></a>双曲线磨皮</h4><h3 id="胶片风格-VSCO"><a href="#胶片风格-VSCO" class="headerlink" title="胶片风格 VSCO"></a>胶片风格 VSCO</h3><h4 id="Modern-Films"><a href="#Modern-Films" class="headerlink" title="Modern Films"></a>Modern Films</h4><p>Modern Films is an excellent all-around pack, emulating the look of contemporary, popular film stocks. Classic, clean, and universal, this collection is well-balanced and ideal for an array of settings, from wedding photography to editorial, and everything in between.</p>
<h4 id="Classic-Films"><a href="#Classic-Films" class="headerlink" title="Classic Films"></a>Classic Films</h4><p>Classic Films is a diverse pack of film emulations that recreates the look of many discontinued and expired film stocks. With a vintage-inspired and slightly gritty aesthetic, this collection is perfect for lifestyle, wedding, and portrait photography.</p>
<h4 id="Instant-Films"><a href="#Instant-Films" class="headerlink" title="Instant Films"></a>Instant Films</h4><p>Instant Films features digital emulations of beautiful tones and magical tints. Classic and nostalgic, this highly-stylized collection recreates the looks of traditional instant films.</p>
<h4 id="Slide-Films"><a href="#Slide-Films" class="headerlink" title="Slide Films"></a>Slide Films</h4><p>Slide Films features digital emulations of positive film — a slide film that produces a positive image when developed. With high contrasts and bold colors, this collection is ideal for travel, landscape, street, and fashion photography.</p>
<h4 id="Archetype-Films"><a href="#Archetype-Films" class="headerlink" title="Archetype Films"></a>Archetype Films</h4><p>Archetype Films is a collection of mass market, consumer film emulations from the golden era of analog. With familiar fade and grit aesthetics, VSCO Film 05 captures the nostalgia of old childhood photos, and is great for portraits, weddings, and lifestyle photography.</p>
<h4 id="Alternative-Process-Films"><a href="#Alternative-Process-Films" class="headerlink" title="Alternative Process Films"></a>Alternative Process Films</h4><p>Alternative Process Films is a well-balanced pack that includes a wide range of push and pull processed looks, which alter grain, contrast, and richness. It also includes cross processed looks, which are best suited for dramatic color effects and vibrancy. From subtle enhancements to bold stylistic editing, this collection is ideal for outdoor and lifestyle photography, modern portraiture, and sunwashed settings.</p>
<h4 id="Eclectic-Films"><a href="#Eclectic-Films" class="headerlink" title="Eclectic Films"></a>Eclectic Films</h4><p>Eclectic Films features a wide range of looks in our largest release to date, with 18 films and over 100 presets in total. The spectrum of this collection translates to versatility in use and includes muted, vivid, tungsten-balanced, and black and white films — all of which embody an elegant and modern aesthetic. This pack is ideal for most settings and subjects, particularly portraits, night photography, and architecture.</p>
<h3 id="小清新日系"><a href="#小清新日系" class="headerlink" title="小清新日系"></a>小清新日系</h3><h3 id="港系风格"><a href="#港系风格" class="headerlink" title="港系风格"></a>港系风格</h3><p>高对比，欠曝光，部分过曝光</p>
<p>图层 1 高斯模糊 screen 25% 复制一层 soften light 50%</p>
<hr>
<p>ChangeLog:</p>
<ul>
<li><strong>2018-07-17</strong> 初始化本文</li>
<li><strong>2018-09-17</strong> 重修文字</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/07/10/PhotographyDevice/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/10/PhotographyDevice/" class="post-title-link" itemprop="url">摄影入门指北</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-10 07:38:19" itemprop="dateCreated datePublished" datetime="2018-07-10T07:38:19+08:00">2018-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-24 13:04:48" itemprop="dateModified" datetime="2018-11-24T13:04:48+08:00">2018-11-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%86%99%E5%9C%A8%E4%BA%BA%E7%94%9F%E7%9A%84%E8%BE%B9%E4%B8%8A/" itemprop="url" rel="index"><span itemprop="name">写在人生的边上</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><h3 id="本文目录"><a href="#本文目录" class="headerlink" title="本文目录"></a>本文目录</h3><h2 id="0x01-硬件选择"><a href="#0x01-硬件选择" class="headerlink" title="0x01 硬件选择"></a>0x01 硬件选择</h2><h3 id="机身"><a href="#机身" class="headerlink" title="机身"></a>机身</h3><p>a6000 是笔者的第一款相机，a6500 是第二款相机。</p>
<p>之所以这么选择，其实原因很简单 — 因为贫穷限制了我的设备。</p>
<p>如果觉得花在机身和镜头的钱可以在 3W-4W 左右，出门右转索尼 A7RM3 + 中高端镜头配置。</p>
<p>在预算不足的情况下，为什么是 A6000 和 A6500？</p>
<blockquote>
<p>A6000 基本上入门微单的性价比之王。</p>
</blockquote>
<p>所以，我刚入门的时候，选择的是 A6000，当然，如果站在现在的需求角度来说的话，肯定应该是一步到位，直接 A6500 合适（因为现在舍得花这个钱了，当时不舍得）。</p>
<p>当时选择 a6000</p>
<ol>
<li>具备足够使用的基本功能</li>
<li>对焦速度快</li>
<li>性价比高</li>
<li>WIFI/NFC 导图，Sony Play Memory 还是很实用的。</li>
</ol>
<p>当然，其实这些特点往往都会有个前提，即：</p>
<p>比如说对焦速度快，我实际想说的是，在这个价位下，对焦速度快。</p>
<p>机身往往代表的是机身性能和操作体验上的不同。也就是说，如果只是基本的拍照，比如说只拍人物小清新，A6500 和 A6000 都可以胜任。</p>
<p>我觉得有什么是 A6500 做得到但是 A6000 做不到的呢</p>
<p>但比如说，你拍运动场景或者是拍视频，A6000 的对焦速度明显就跟不上了。究其原因，无非是对焦点位数量少，机器处理性能也不足。究其本质经济原因，无非就是一个字 – 穷。<br>但比如说，你拍完照片相机需要写照片到 SD 卡中。这个过程对于 A6000 是同步的，也就是等待写入完毕才可以进行操作。但是对于 A6500 几乎算是异步的（我猜应该是图片渲染是同步，写入是异步，但由于渲染速度比较快，写入速度比较慢，所以将写入做成了异步）</p>
<p>我觉得有什么是 A6500 改善了我的拍照工作流，但是 A6000 没有改善我的工作流呢？</p>
<ul>
<li>更加流畅：机身性能摆在那</li>
<li>无脑的对焦：触屏对焦 + 加上更加强悍的追焦系统</li>
<li>更好的防抖：在不带三脚架的情况下，五轴防抖的功能可以减少我拍糊掉的几率，特别是光线不够好的情况下。可以让我在一些场景里不需要动用三脚架，轻装上阵。拥有更好的防抖时候可以在 M 档选择更慢的快门，弥补光线上的不足。</li>
</ul>
<p>笔者比较倾向于抓拍，这两点可以让笔者显著提升抓拍数量和质量，从而选出高质量照片。</p>
<p>摄影是一个综合性的技能，如果你的目的是拍出好看的照片，而不是尝试各种风格 / 场景。 笔者认为选一个超出预算的器材会让你的工作流更加顺畅一些，但并不是必须要换个。</p>
<ol>
<li>机身性能不足，防抖功能不足的情况下，可以通过预先在心里构思好拍摄。心里多做些推演工作，就好了。</li>
<li>光线亮度不够，一来可以通过提升周围环境的亮度来解决（打光，闪光灯加柔光罩之类），二来可以提升光圈大小，带上三脚架来提升曝光。三来比如你在夜景下，可以找选择一个比较好场景来拍。比如借助商场的灯完全可以拍个人像大片出来。天时地利人和就没得调整么？非要选个乌漆麻黑的伸手不见五指的拍夜景？</li>
</ol>
<p>虽然说，一般是越贵的机身越好。</p>
<p>但机身真的那么万能嘛：</p>
<ul>
<li>能解决烂手骚操作么？</li>
<li>能解决烂场景强行拍好片么？</li>
<li>能解决审美问题么？</li>
<li>能引导模特的摆姿么？</li>
<li>能解决外部光线么？</li>
<li>能解决构图么？</li>
<li>能解决后期不会调整么？</li>
</ul>
<p>帮助真的很有限。</p>
<h3 id="镜头"><a href="#镜头" class="headerlink" title="镜头"></a>镜头</h3><p>我入手了几款镜头，用下来觉得还行的镜头如下：</p>
<h4 id="适马-E-16"><a href="#适马-E-16" class="headerlink" title="适马 E 16"></a>适马 E 16</h4><ul>
<li>根本目标：夜拍</li>
<li>优点：画质好，光学防抖，夜景强行压 ISO</li>
</ul>
<h4 id="索尼-E-18135"><a href="#索尼-E-18135" class="headerlink" title="索尼 E 18135"></a>索尼 E 18135</h4><ul>
<li>根本目标：用于覆盖焦距</li>
<li>优点：画质好，光学防抖</li>
<li>使用状况： 带出</li>
</ul>
<h4 id="索尼-E-50-1-8"><a href="#索尼-E-50-1-8" class="headerlink" title="索尼 E 50 1.8"></a>索尼 E 50 1.8</h4><ul>
<li>根本目标：人像室外专用</li>
<li>优点：近中距离拍妹子好看拍妹子好看拍妹子好看</li>
<li>缺点：小室内拍摄距离比较不好控制。</li>
<li>使用状况： 带出</li>
</ul>
<h4 id="适马-E-30-1-4"><a href="#适马-E-30-1-4" class="headerlink" title="适马 E 30 1.4"></a>适马 E 30 1.4</h4><ul>
<li>根本目标：室内人像、室外人像纪实</li>
<li>优点：近距拍妹子好看拍妹子好看拍妹子好看</li>
<li>缺点：近中距内拍摄容易乱入路人甲。</li>
<li>使用状况： 带出</li>
</ul>
<h4 id="七巧匠-E-12-2-8"><a href="#七巧匠-E-12-2-8" class="headerlink" title="七巧匠 E 12 2.8"></a>七巧匠 E 12 2.8</h4><ul>
<li>根本目标：覆盖广角</li>
<li>优点：经济</li>
<li>使用状况： 带出</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 自带头 E 16-50	相对而言一般般	闲置（不过录像效果还是不错滴）</span><br><span class="line"># 索尼 E 55-210	远距离拍摄 &#x2F; 小动物	看情况（不过拍出来的画面比较肉）</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="灯光"><a href="#灯光" class="headerlink" title="灯光"></a>灯光</h3><p>布光是摄影师必备技能之一</p>
<p>我入手了一款闪光灯 + 柔光罩，用于弥补某些暗场景下的光线不足的问题。毕竟笔者是业余爱好者，也懒得动用专业的设备了，太折腾。</p>
<p>光线过强的时候，也不是无解，比如阴凉地，透光物体遮挡（透光白色伞 / 镂空的帽子）</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li>摄影包</li>
<li>充电器</li>
<li>存储卡</li>
<li>其他牌子的电池</li>
</ul>
<h2 id="0x02-摄影参数"><a href="#0x02-摄影参数" class="headerlink" title="0x02 摄影参数"></a>0x02 摄影参数</h2><p>曝光正常的参数</p>
<h3 id="曝光三要素"><a href="#曝光三要素" class="headerlink" title="曝光三要素"></a>曝光三要素</h3><h4 id="光圈"><a href="#光圈" class="headerlink" title="光圈"></a>光圈</h4><h5 id="如何影响照片"><a href="#如何影响照片" class="headerlink" title="如何影响照片"></a>如何影响照片</h5><p>通关孔的大小影响：<br>        - 进光量</p>
<h5 id="影响照片参数"><a href="#影响照片参数" class="headerlink" title="影响照片参数"></a>影响照片参数</h5><p>亮度<br>景深</p>
<h5 id="使用基本方法"><a href="#使用基本方法" class="headerlink" title="使用基本方法"></a>使用基本方法</h5><ol>
<li>大光圈</li>
</ol>
<ul>
<li>背景虚化</li>
<li>提升快门速度</li>
</ul>
<ol start="2">
<li>小光圈</li>
</ol>
<ul>
<li>整体清晰</li>
<li>降低快门速度</li>
</ul>
<h4 id="快门"><a href="#快门" class="headerlink" title="快门"></a>快门</h4><h5 id="如何影响照片-1"><a href="#如何影响照片-1" class="headerlink" title="如何影响照片"></a>如何影响照片</h5><p>进光时间</p>
<h5 id="影响照片参数-1"><a href="#影响照片参数-1" class="headerlink" title="影响照片参数"></a>影响照片参数</h5><h5 id="使用基本方法-1"><a href="#使用基本方法-1" class="headerlink" title="使用基本方法"></a>使用基本方法</h5><h4 id="感光度"><a href="#感光度" class="headerlink" title="感光度"></a>感光度</h4><h5 id="如何影响照片-2"><a href="#如何影响照片-2" class="headerlink" title="如何影响照片"></a>如何影响照片</h5><pre><code>CCD 感光敏感度</code></pre>
<h5 id="影响照片参数-2"><a href="#影响照片参数-2" class="headerlink" title="影响照片参数"></a>影响照片参数</h5><pre><code>1. 亮度
2. 噪点</code></pre>
<h5 id="使用基本方法-2"><a href="#使用基本方法-2" class="headerlink" title="使用基本方法"></a>使用基本方法</h5><pre><code>1. 通常情况下设置比较低
2. 除非是光圈和快门被限制</code></pre>
<h4 id="曝光三要素综合应用"><a href="#曝光三要素综合应用" class="headerlink" title="曝光三要素综合应用"></a>曝光三要素综合应用</h4><pre><code>1. 大光圈
2. 大长焦
3. 镜头离主体要近
4. 主体离背景要远</code></pre>
<h3 id="曝光模式"><a href="#曝光模式" class="headerlink" title="曝光模式"></a>曝光模式</h3><p>自动 / 手动控制曝光</p>
<ol>
<li>智能自动</li>
<li>P 档：光圈和快门由相机设置，但是 ISO/ 对焦区域 / 测光模式 （比如夜景，当然，可能需要三脚架）</li>
<li>A 档：快门由相机设置，光圈和 ISO 可以自己调节 （比如大光圈的人像，小光圈的风景）</li>
<li>S 档：快门和 ISO 由相机设置，快门 /ISO 由自己调节。（比如快速移动的物品 / 慢速快门拍尾灯拉丝）</li>
<li>M 档：手动档位，可以用于更加细腻的操作。</li>
</ol>
<h3 id="测光模式"><a href="#测光模式" class="headerlink" title="测光模式"></a>测光模式</h3><ol>
<li>多重测光 （多重测光的弊病在于如果整体较亮，而主体较暗，就容易拍不亮主体）</li>
<li>点测光 （适用于拍摄夕阳 / 逆光人像，缺点就是 ISO 的值会比较高）</li>
</ol>
<h3 id="曝光补偿"><a href="#曝光补偿" class="headerlink" title="曝光补偿"></a>曝光补偿</h3><p>笔者一般会用 LR 做一个简单的后期，所以用 RAW 作为图片格式。</p>
<p>RAW 格式要设好曝光参数，一定要曝光相对准确，因为 raw 里面的曝光参数受相机设置直接影响。曝光不准确，特别是曝光过度，希望通过 raw 里面调整，是很难做到曝光准确的画面层次的。</p>
<h2 id="0x03-拍清照片"><a href="#0x03-拍清照片" class="headerlink" title="0x03 拍清照片"></a>0x03 拍清照片</h2><h3 id="对焦错误"><a href="#对焦错误" class="headerlink" title="对焦错误"></a>对焦错误</h3><pre><code>1. 半按快门对焦
2. 对焦对偏了
    a. 拍人对焦不准 : 笑脸 / 人脸检测
    b. 拍静物 / 风景时对焦不准 : 自由点对焦
    c. 给自己打光
3. 对焦模式不对
    a. AF-S 单次自动对焦 - 静物
    b. AF-C 连续自动对焦 - 动物
    c. AF-A 智能自动对焦 - 对方可能动 / 可能不动</code></pre>
<h3 id="手抖了"><a href="#手抖了" class="headerlink" title="手抖了"></a>手抖了</h3><pre><code>1. 拍照姿势不对
2. 安全快门时间 = 1 / （焦距 * 1.5)
3. 光线比较暗导致快门低于 1/30 s</code></pre>
<h2 id="0x04-布光"><a href="#0x04-布光" class="headerlink" title="0x04 布光"></a>0x04 布光</h2><h2 id="0xEE-结论"><a href="#0xEE-结论" class="headerlink" title="0xEE 结论"></a>0xEE 结论</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/06/29/PythonBugWithZipfile/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/29/PythonBugWithZipfile/" class="post-title-link" itemprop="url">记一个有趣的 Python ZipInfo 的副作用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2018-06-29 08:31:11 / Modified: 09:26:32" itemprop="dateCreated datePublished" datetime="2018-06-29T08:31:11+08:00">2018-06-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">后端开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>昨天修了一个有趣的 BUG，顺手分享出来。</p>
<h3 id="本文目录"><a href="#本文目录" class="headerlink" title="本文目录"></a>本文目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">▼ 0x00 前言 : section</span><br><span class="line">    本文目录 : section</span><br><span class="line">▼ 0x01 场景 1 - 空文件打包问题 : section</span><br><span class="line">▼ 0x02 场景 2 - zipinfo 带来的一个副作用 : section</span><br><span class="line">▼ 0x03 处理 BUG 的一种姿势 : section</span><br><span class="line">▼ 0xEE 结论 : section</span><br></pre></td></tr></table></figure>

<h2 id="0x01-场景-1-空文件打包问题"><a href="#0x01-场景-1-空文件打包问题" class="headerlink" title="0x01 场景 1 - 空文件打包问题"></a>0x01 场景 1 - 空文件打包问题</h2><p>原始场景是这样的，在打包文件夹的时候，一切正常，但如果打包空文件夹的时候，就出问题了。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/6/29/164492147450b039?w=756&h=256&f=png&s=37953"></p>
<p>精简了这一段代码，当打包空文件夹的时候，大致逻辑如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line"></span><br><span class="line">zfile &#x3D; zipfile.ZipFile(&quot;tmp.zip&quot;,&#39;w&#39;)</span><br><span class="line"># 递归打包所有子文件</span><br><span class="line">zfile.close()</span><br></pre></td></tr></table></figure>

<p>这段代码很明显是造了一个空 zip 文件。</p>
<p>这个和我要的效果还不太一样。我要的是这个 zip 文件包含空目录 tmp/ 好，调整了一下代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line"></span><br><span class="line">zfile &#x3D; zipfile.ZipFile(&quot;tmp.zip&quot;,&#39;w&#39;)</span><br><span class="line">zif &#x3D; zipfile.ZipInfo(&quot;tmp&#x2F;&quot;)</span><br><span class="line">zfile.writestr(zif,&quot;&quot;)</span><br><span class="line"># 递归打包所有子文件</span><br><span class="line">zfile.close()</span><br></pre></td></tr></table></figure>

<p>嗯，现在下载成功了。解压缩也正常。</p>
<h2 id="0x02-场景-2-zipinfo-带来的一个副作用"><a href="#0x02-场景-2-zipinfo-带来的一个副作用" class="headerlink" title="0x02 场景 2 - zipinfo 带来的一个副作用"></a>0x02 场景 2 - zipinfo 带来的一个副作用</h2><p>显然，如果上面的东西皆大欢喜的结束了，我就没必要写这篇文章了。</p>
<p>问题来了，当我递归打包子文件的时候，文件会莫名其妙多了一个文件夹出来。</p>
<p>比如我打包文件夹 tmp，tmp 的内容如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ tree tmp</span><br><span class="line">tmp</span><br><span class="line">├── test.md</span><br><span class="line"></span><br><span class="line">1 file</span><br></pre></td></tr></table></figure>

<p>打包完毕多出了一个 tmp 文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ tree tmp</span><br><span class="line">tmp</span><br><span class="line">├── test.md</span><br><span class="line">└── tmp</span><br><span class="line"></span><br><span class="line">1 directory, 1 file</span><br></pre></td></tr></table></figure>

<p>这种多出一个 tmp 的文件夹就是按照我这种方式使用 zipinfo 副作用。</p>
<p>WTF，怀着老鹿蹒跚的内心，打开了《伤心太平洋》：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">一波还未平息</span><br><span class="line">一波又来侵袭</span><br><span class="line">茫茫人海 狂风暴雨</span><br></pre></td></tr></table></figure>

<p>用代码复现一波场景</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 先造一个测试文件夹</span><br><span class="line">mkdir &#x2F;tmp&#x2F;test_folder&#x2F;</span><br><span class="line">touch &#x2F;tmp&#x2F;test_folder&#x2F;test.md</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line">file_path &#x3D; &quot;&#x2F;tmp&#x2F;test_folder&#x2F;test.md&quot;</span><br><span class="line">rel_name &#x3D; &quot;test.md&quot;</span><br><span class="line">zfile &#x3D; zipfile.ZipFile(&quot;tmp.zip&quot;,&#39;w&#39;)</span><br><span class="line">zif &#x3D; zipfile.ZipInfo(&quot;tmp&#x2F;&quot;)</span><br><span class="line">zfile.writestr(zif,&quot;&quot;)</span><br><span class="line">zfile.write(file_path, rel_name)</span><br><span class="line">zfile.close()</span><br></pre></td></tr></table></figure>

<h2 id="0x03-处理-BUG-的一种姿势"><a href="#0x03-处理-BUG-的一种姿势" class="headerlink" title="0x03 处理 BUG 的一种姿势"></a>0x03 处理 BUG 的一种姿势</h2><ol>
<li>场景能否描述出来 - 描述不出来的就没法准确定位问题</li>
<li>能否复现 - 复现不出来的 BUG 最难调试</li>
<li>业务问题还是技术问题 - 业务问题可能要和别人打交道，技术问题可能要多翻翻文档之类的。</li>
<li>时间是否来得及 - 如果时间来的及，就想办法弄懂，填坑；时间来不及就想办法规避，绕坑。</li>
</ol>
<p>前三点自然不用说了，直接第四点，时间上还算充裕，</p>
<ol>
<li>我翻了半天 zipfile 模块，并没有理解这个 BUG 的出现原因。</li>
<li>好，退后一步是人生，用代码规避掉这个问题。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line"></span><br><span class="line">if 是空文件夹：</span><br><span class="line">    zfile &#x3D; zipfile.ZipFile(&quot;tmp.zip&quot;,&#39;w&#39;)</span><br><span class="line">    zif &#x3D; zipfile.ZipInfo(&quot;tmp&#x2F;&quot;)</span><br><span class="line">else 不是空文件夹：</span><br><span class="line">    zfile.writestr(zif,&quot;&quot;)</span><br><span class="line">    zfile.write(file_path, rel_name)</span><br><span class="line">zfile.close()</span><br></pre></td></tr></table></figure>

<h2 id="0xEE-结论"><a href="#0xEE-结论" class="headerlink" title="0xEE 结论"></a>0xEE 结论</h2><p>其实处理大部分的 BUG 基本上就是这么个思路：</p>
<ul>
<li>往前一步是黄昏：打破沙锅问到底的去探究，填坑</li>
<li>退后一步是人生：没那么多时间搞明白细枝末节，用代码规避掉这个神奇 BUG，先让业务可以跑通，绕坑。</li>
</ul>
<p>最后，欢迎关注我的知乎专栏，咱们聊聊我所知道的 Python / NodeJS/ Mac / DevOps 全栈（干）工程师的一些有趣的技术</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/twocucao">MG 的编程小屋</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twocucao">MG 的 Github</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/06/10/SynologyNas/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/10/SynologyNas/" class="post-title-link" itemprop="url">Synology 群晖 NAS 入门指北</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-10 11:52:36" itemprop="dateCreated datePublished" datetime="2018-06-10T11:52:36+08:00">2018-06-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-06-17 08:22:27" itemprop="dateModified" datetime="2018-06-17T08:22:27+08:00">2018-06-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">后端开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>百度云的人工智障总是误删我的文件，于是开始寻找其他存储方案。决定入手一台 NAS.</p>
<h3 id="组装机-品牌机"><a href="#组装机-品牌机" class="headerlink" title="组装机 / 品牌机"></a>组装机 / 品牌机</h3><p>视具体情况，笔者缺乏足够的精力去折腾，如果精力足够，我还是很倾向于自己组装一台 nas 的。不过，现在年纪大了，还是老老实实买个品牌的 NAS 好了，折腾大抵是年轻人的事情。</p>
<p>为啥买群晖？因为看到很多喜欢折腾的人都安装黑群晖，所以直接买了个白群晖。</p>
<h3 id="本文目录"><a href="#本文目录" class="headerlink" title="本文目录"></a>本文目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">▼ 0x00 前言 : section</span><br><span class="line">    组装机 &#x2F; 品牌机 : section</span><br><span class="line">  ▼ 0x01 安装 &#x2F; 配置 : section</span><br><span class="line">      STEP-0 设备 : section</span><br><span class="line">      STEP-1 组装 : section</span><br><span class="line">      STEP-2 组网 : section</span><br><span class="line">      STEP-3 安装系统 : section</span><br><span class="line">  ▼ 0x02 一些私人化的需求 : section</span><br><span class="line">      2.1 内网 NAS 使用 : section</span><br><span class="line">      2.2 外网 NAS 使用 : section</span><br><span class="line">    ▼ 2.3 与百度云结合 : section</span><br><span class="line">        如何同步数据 : section</span><br><span class="line">      2.3 Time Machine : section</span><br><span class="line">    0xEE 结论 : section</span><br></pre></td></tr></table></figure>

<h2 id="0x01-安装-配置"><a href="#0x01-安装-配置" class="headerlink" title="0x01 安装 / 配置"></a>0x01 安装 / 配置</h2><h3 id="STEP-0-设备"><a href="#STEP-0-设备" class="headerlink" title="STEP-0 设备"></a>STEP-0 设备</h3><ul>
<li>路由器一台</li>
<li>网线一根</li>
<li>Synology 一台，笔者使用的是 DS218j 2 盘位 NAS （这款家用基本上够用了）</li>
<li>硬盘两个，推荐 WD 的红盘或者希捷的狼盘。</li>
</ul>
<h3 id="STEP-1-组装"><a href="#STEP-1-组装" class="headerlink" title="STEP-1 组装"></a>STEP-1 组装</h3><p>把硬盘安装在 nas 里需要三个步骤</p>
<ol>
<li>打开 nas 外壳</li>
<li>把硬盘塞进去</li>
<li>把盒子盖上</li>
</ol>
<h3 id="STEP-2-组网"><a href="#STEP-2-组网" class="headerlink" title="STEP-2 组网"></a>STEP-2 组网</h3><ol>
<li>如果你的路由器可以直连宽带接口的话，则直接连接。</li>
<li>如果你的路由器上一级有个路由器的话，可以使用桥接模式，把这台路由器连到上一台路由器上。</li>
</ol>
<p>nas 建议直接用网线连接到路由器上。</p>
<p>那么，现在你的手机 / 笔记本 / 平板等等放到该局域网中。</p>
<blockquote>
<p>PS: 为什么需要这么做？因为所有环境放在一个局域网内的话，安全性和速度较好。</p>
</blockquote>
<h3 id="STEP-3-安装系统"><a href="#STEP-3-安装系统" class="headerlink" title="STEP-3 安装系统"></a>STEP-3 安装系统</h3><p>打开群晖机器开关，在同一局域网内的访问</p>
<p><a target="_blank" rel="noopener" href="http://find.synology.com/">http://find.synology.com/</a></p>
<p>然后按照要求进行注册登陆</p>
<p>期间需要注册群晖的账号，以及本台机器的用户名和密码。</p>
<h2 id="0x02-一些私人化的需求"><a href="#0x02-一些私人化的需求" class="headerlink" title="0x02 一些私人化的需求"></a>0x02 一些私人化的需求</h2><h3 id="2-1-内网-NAS-使用"><a href="#2-1-内网-NAS-使用" class="headerlink" title="2.1 内网 NAS 使用"></a>2.1 内网 NAS 使用</h3><p>笔者使用的是 Mac 电脑，在 Finder 中直接链接服务器，输入 smb://mynas 即可访问。剩下的操作基本上和本地磁盘使用起来没有什么大的差别。</p>
<p>对于手机和平板，安装群晖对应的 Drive 即可。</p>
<h3 id="2-2-外网-NAS-使用"><a href="#2-2-外网-NAS-使用" class="headerlink" title="2.2 外网 NAS 使用"></a>2.2 外网 NAS 使用</h3><p>外网可以直接使用群晖的账号登录群晖的官网，接着控制这台群晖的机器进行下载。但速度不够。</p>
<p>使用下来感觉效果并不好。建议阅读下一章和百度云配合使用。</p>
<h3 id="2-3-与百度云结合"><a href="#2-3-与百度云结合" class="headerlink" title="2.3 与百度云结合"></a>2.3 与百度云结合</h3><p>百度云这个东西让人又爱又恨。</p>
<ul>
<li>爱的是，容量不错，部分热门资源的下载速度也可。</li>
<li>恨的是，老是莫名其妙删掉我的文件。冷门资源那下载速度真的是….</li>
</ul>
<p>而现在，现在我的文件就分为两种：</p>
<ul>
<li>一种是合规的不可丢失的文件</li>
<li>一种是合规的可丢失的文件</li>
</ul>
<p>像我这样贯彻社会主义核心价值观的人，所有文件都是合法合规的。接受文件的审查倒也能接受，但人工智障老是误删我的合法文件这尼玛给我工作生活带来困扰啊。</p>
<p>所以，</p>
<ul>
<li>对于丢失零容忍的文件可以考虑放在 Nas 中。</li>
<li>对于丢失可容忍的文件可以考虑放在百度云中。</li>
<li>对于日常使用的文档可以放在百度云中。</li>
</ul>
<h4 id="如何同步数据"><a href="#如何同步数据" class="headerlink" title="如何同步数据"></a>如何同步数据</h4><p>鉴于百度云开放了应用接口，群晖的 Nas 也可以实现百度云同步数据到 Nas 上。</p>
<p>安装 CloudSync 选择第三方供应商。百度云，完成授权。</p>
<p>设置双向同步到 DMS 的某个文件夹下。比如，笔者同步百度云的文件到本地 DSM /CloudDrive/BaiduPan/ 即完成最基本的设置了。</p>
<p><strong>如何同步本地数据到云端呢？</strong></p>
<p>然后随便复制一个文件到该文件夹下，然后在百度云的 Web 端的『我的应用数据 /Cloud Sync 』 文件夹下就可以看到资源了。</p>
<p><strong>那么，如何同步云端的数据到本地呢？</strong></p>
<p>把云端的数据（文件 / 文件夹）拖动到 『我的应用数据 /Cloud Sync 』里即可。</p>
<p>像一些非私密性的文件，扔百度云就好了。</p>
<p>这个 Nas 就相当于一个远程的拥有高容量的弱鸡服务器，可以用来跑跑一些下载任务之类。</p>
<h3 id="2-3-Time-Machine"><a href="#2-3-Time-Machine" class="headerlink" title="2.3 Time Machine"></a>2.3 Time Machine</h3><p>Nas 另一个吸引我的地方就是可以 Time Machine 进行备份了。步骤大致如下。</p>
<ol>
<li>『共享文件夹』里面新建文件夹 Time Machine</li>
<li>『文件服务』中开启 SMB/AFP 服务，在高级设置中启用 Bonjour , 启用 SMB/AFP 的 TimeMachine 播送，指定为 Time Machine 文件夹</li>
<li>『用户管理』里新建用户 TimeMachine, 容量限制一下，建议 1TB 即可。</li>
<li>打开 Mac 电脑，选择磁盘，然后开始备份。</li>
</ol>
<p>PS: 但我这边初次备份 TM 的时候，需要备份 300+GB 的文件，速度确实堪忧。和直接外接接口连接硬盘完全没法比。但慢慢备份下来，其实速度也能接受。</p>
<h2 id="0xEE-结论"><a href="#0xEE-结论" class="headerlink" title="0xEE 结论"></a>0xEE 结论</h2><p>NAS 解决了我的几个痛点。</p>
<ul>
<li>跨平台共享文件</li>
<li>文件集中化管理</li>
<li>硬盘容量大</li>
<li>私密性较好</li>
<li>不会有人工智障来删我东西</li>
<li>速度在可接受范围内。我在用 LR 修图的时候只是稍微比本地的慢一点。</li>
</ul>
<p>不过似乎还有一些其他的功能可以继续发掘一下。以后有机会再分享一下。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/06/06/CPython/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/06/CPython/" class="post-title-link" itemprop="url">CPython 源码初步阅读笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2018-06-06 10:08:12 / Modified: 22:23:49" itemprop="dateCreated datePublished" datetime="2018-06-06T10:08:12+08:00">2018-06-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">后端开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>先挖坑，以后有机会填</p>
<p>├── Grammar # 语法<br>├── Include # C 语言头文件，如果需要自定义模块扩展 Python, 也需要这块。<br>├── Modules # C 语言编写的模块，对速度要求高，比如 random<br>├── Objects # 内建对象 包含整数，list,dict 等。<br>├── Parser # Scanner 和 parser<br>├── Python # 各种 Python 共享库<br>├── Lib # Python 自带的所有标准库<br>├── Doc # 文档<br>├── Tools # 一些 Python 程序，方便扩展 Python<br>├── Misc # 不清楚放哪，就放这里好了<br>├── PC # Windows 编译姿势<br>├── PCbuild # Windows 编译姿势<br>├── Mac # Mac 上编译姿势<br>├── Programs<br>├── README.rst<br>├── aclocal.m4<br>├── config.guess<br>├── config.sub<br>├── configure<br>├── configure.ac<br>├── install-sh<br>├── m4<br>├── pyconfig.h.in<br>├── setup.py<br>├── LICENSE<br>├── Makefile.pre.in</p>
<h2 id="Ch01-Python-对象初探"><a href="#Ch01-Python-对象初探" class="headerlink" title="Ch01 Python 对象初探"></a>Ch01 Python 对象初探</h2><p>一切都是对象</p>
<p>类型对象</p>
<ul>
<li>内置对象：int / string / dict</li>
<li>自定义对象：class A</li>
</ul>
<p>实例对象</p>
<h3 id="1-1-Python-内的对象"><a href="#1-1-Python-内的对象" class="headerlink" title="1.1 Python 内的对象"></a>1.1 Python 内的对象</h3><p>Python 里的对象就是 C 中结构体在堆上申请的一块内存。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2018/05/22/Fabric2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/22/Fabric2/" class="post-title-link" itemprop="url">Python 自动化工具 Fabric 支持 Python3 了</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-05-22 21:11:03" itemprop="dateCreated datePublished" datetime="2018-05-22T21:11:03+08:00">2018-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-09-15 16:59:27" itemprop="dateModified" datetime="2018-09-15T16:59:27+08:00">2018-09-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">后端开发</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>当大家还在纠结 Python2 与 Python3 的时候，我其实早就入了 python3 的门了。</p>
<p>后来</p>
<ul>
<li><del>我总算学会了如何去爱。<del></li>
<li>我喜欢的工具陆陆续续支持了 Python3</li>
<li>Scrapy 支持了 Python3</li>
<li>Ansible 支持了 Python3</li>
</ul>
<p>只有 Fabric 这个工具，死撑着没有支持 Python3 的的迹象。</p>
<p>2018-05-08 的时候，Fabric 悄悄升级了 2.0 版本。</p>
<p>而就在前两天，我升级网站的时候，突然发现 fabric (1.14 版本） 不能用了。</p>
<p>查了一下版本，发现 fabric 更新到了 2.0 版本，支持了 python3.4</p>
<p>在发现这个问题之后，火速刷了一波官方文档，把手头 Fabric 1.14 版本的脚本做了一些升级。</p>
<h3 id="从-V1-到-V2"><a href="#从-V1-到-V2" class="headerlink" title="从 V1 到 V2"></a>从 V1 到 V2</h3><p>Fabric v2 基于 invoke 和 paramiko 两个库构建而成。</p>
<ul>
<li>invoke 库提供了 subprocess command execution 和 command-line</li>
<li>paramiko 提供了 ssh 协议实现</li>
</ul>
<p>在这两者的基础上，做了一些扩展。</p>
<p>甚至，如果你只用其中的本地功能，你都完全不需要使用 fabric, 直接用 invoke 即可。没错，我已经打算把我的本地脚本全部使用 invoke Python3 化了。</p>
<p>v1 版本和 v2 版本初步用起来，个人觉得 v1 用起来 API 更加符合直觉一些。</p>
<p>这东西怎么用呢？</p>
<p>我们先定义 fabfile</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># fabfile.py</span><br><span class="line">from invoke import task</span><br><span class="line"></span><br><span class="line">def expand_path(c, path):</span><br><span class="line">    return &#39;&quot;$(echo %s)&quot;&#39; % path</span><br><span class="line"></span><br><span class="line">def exists(c, path):</span><br><span class="line">    cmd &#x3D; &#39;stat %s&#39; % expand_path(c, path)</span><br><span class="line">    return c.run(cmd, warn&#x3D;True, hide&#x3D;True).ok</span><br><span class="line"></span><br><span class="line">@task</span><br><span class="line">def deploy(c):</span><br><span class="line">    c.local(&quot;youcmd&quot;)</span><br><span class="line">    c.put()</span><br><span class="line">    c.get()</span><br><span class="line">    c.run()</span><br><span class="line">    c.run(&quot;sudo youcmd&quot;)</span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">@task</span><br><span class="line">def other_stuff(c):</span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>

<p>需要注意的是，invoke 里面默认的 replace_env 设置为了 False ,fabric 里面给 runner 设置了 replace_env 为 True , 这也就意味着默认情况下，执行 c.local 的时候会找不到自定义的环境变量，这意味着：</p>
<ol>
<li>你的 PATH 被重置了，这意味着你用 brew 安装的软件可能已经完全找不到了。</li>
<li>你的环境变量 LANG 并不一定是 en_US.UTF-8 了</li>
</ol>
<p>于是设置一下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># ~&#x2F;.fabric.py</span><br><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line"># encoding: utf-8</span><br><span class="line"></span><br><span class="line">run &#x3D; &#123;</span><br><span class="line">    &quot;replace_env&quot;: False</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当我要部署的时候直接执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fab -H webserver01,webserver02,webserver03,webserver04 deploy</span><br></pre></td></tr></table></figure>

<p>到这里大家基本上看出来了，我并没有在文件中 import fabric 只是简单了配置了一个配置文件和执行一下 fab 命令。</p>
<p>这个 v2 版本的 fabric 相当于 invoke 的包装。但我们也可以显式的 import fabric 里面的东西进行更加进阶的操作。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Micheal Gardner</p>
  <div class="site-description" itemprop="description">Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">93</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">96</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Micheal Gardner</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




  















  

  

</body>
</html>
