<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Python , Micheal Gardner , 无与童比 , twocucao , Django" />





  <link rel="alternate" href="/atom.xml" title="MG的编程小屋" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
<meta property="og:type" content="website">
<meta property="og:title" content="MG的编程小屋">
<meta property="og:url" content="http://twocucao.xyz/page/4/index.html">
<meta property="og:site_name" content="MG的编程小屋">
<meta property="og:description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MG的编程小屋">
<meta name="twitter:description" content="Two roads diverged in a wood, and I took the one less traveled by, And that has made all the difference.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://twocucao.xyz/page/4/"/>





  <title>MG的编程小屋</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?299254d95898cdfa110fc6d914eba9c4";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>











  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MG的编程小屋</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Get Busy Living, Or Get Busy Dying</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/12/10/CheatSheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/10/CheatSheet/" itemprop="url">Cheatsheet 集合篇</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-10T18:41:47+08:00">
                2016-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程利器/" itemprop="url" rel="index">
                    <span itemprop="name">编程利器</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  105
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00. 前言"></a>0x00. 前言</h2><p>本文为 Cheatsheet 类型文章的集合。</p>
<p>编码最重要的是思路。</p>
<blockquote>
<p>做什么不是呢？</p>
</blockquote>
<ul>
<li>有人问：你想那么多不累吗？</li>
<li>答：比起出乱子，想多当然是最省事的方式。</li>
</ul>
<p>截止今日已经更新 7 篇 CheatSheet 文章，打算不断完善它们。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/12/10/CheatSheet/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/12/09/MongoCheatSheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/09/MongoCheatSheet/" itemprop="url">MongoDB Cheatsheet</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-09T18:41:47+08:00">
                2016-12-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后台组件/" itemprop="url" rel="index">
                    <span itemprop="name">后台组件</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  227
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文为 Cheatsheet 类型文章，用于记录我在日常编程中经常使用的 MongoDB 相关命令。</p>
<ul>
<li>Mongo Shell</li>
<li>Mongo 配套工具</li>
<li>Python API</li>
</ul>
<p>不定期更新。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/12/09/MongoCheatSheet/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/12/03/TextProcessingCheatsheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/03/TextProcessingCheatsheet/" itemprop="url">Text Processing CheatSheet</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-03T18:41:47+08:00">
                2016-12-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-黑魔法/" itemprop="url" rel="index">
                    <span itemprop="name">Python 黑魔法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  1,573
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>本文为 Cheatsheet 类型文章，用于记录我在日常编程中的文本处理相关思路。</p>
<p>本文的目录为：</p>
<ul>
<li>正则处理相关</li>
<li>HTML/XML 处理相关</li>
<li>Python 中的文本处理</li>
</ul>
<h2 id="0x01-正则处理相关"><a href="#0x01-正则处理相关" class="headerlink" title="0x01 正则处理相关"></a>0x01 正则处理相关</h2><h3 id="1-1-正则表达式"><a href="#1-1-正则表达式" class="headerlink" title="1.1. 正则表达式"></a>1.1. 正则表达式</h3><p>正则是个很奇葩的名字，为什么叫做正则表达式呢，首先是个表达式，其次，这是一种叫做正则 (regular expression, rational expression) 的表达式。<br>名称为什么叫做 regular 呢，因为它基于 regular language. 而 regular language 是一种 formal language. 得，现在又开始是编译原理相关概念了。为了逃避概念，通过用途来简单定义正则表达式。</p>
<p>简而言之，就是一种用于字符串搜索的模式。或者就是一种领域专用编程语言。</p>
<p><a href="https://en.wikipedia.org/wiki/Regular_expression" target="_blank" rel="external">https://en.wikipedia.org/wiki/Regular_expression</a></p>
<h3 id="1-2-Python-中正则表达式语法"><a href="#1-2-Python-中正则表达式语法" class="headerlink" title="1.2. Python 中正则表达式语法"></a>1.2. Python 中正则表达式语法</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"># 元字符</div><div class="line">. ^ $ * + ? &#123; &#125; [ ] \ | ( )</div><div class="line"></div><div class="line">* # 速记，天上一个星星都没有，0 到多个。</div><div class="line">+ # 一加手机..... 1 到多个。</div><div class="line">? # 有还是没有 即 0 or 1</div><div class="line">*? # 没有疑问就是贪婪，有疑问就是非贪婪</div><div class="line">+?</div><div class="line">??</div><div class="line"></div><div class="line">&#123;m&#125; # m 份</div><div class="line">&#123;m,n&#125; # 优先匹配 a&#123;2,&#125;b 优先匹配 aaaab 中 aaaab</div><div class="line">&#123;m,n&#125;? # 优先匹配 a&#123;2,&#125;b 优先匹配 aaaab 中 aab</div><div class="line"></div><div class="line">[] # [a\-z] == [az-]</div><div class="line"># 1. [\w] [\S]</div><div class="line"># 2. [^5]</div><div class="line"># 3. [akm$]  在 [] 中 $ 并不具备元字符特点</div><div class="line"></div><div class="line">PattenA | PattenB</div><div class="line">(...) # 捕获 , 引用可以使用、1 , 但是还有一种扩展语法</div><div class="line"></div><div class="line">(?...) # 扩展</div><div class="line"># - (?aiLmsux)</div><div class="line"># - (?:...) 不捕获</div><div class="line"># - (?P&lt;quote&gt;...) 正则内引用 (?P=quote);python 内获取 m.group('quote') ,m.end('quote');re.sub 内 repl 参数为、g&lt;quote&gt; \g&lt;1&gt; \1</div></pre></td></tr></table></figure>
<h3 id="1-3-Python-中使用正则的方法"><a href="#1-3-Python-中使用正则的方法" class="headerlink" title="1.3. Python 中使用正则的方法"></a>1.3. Python 中使用正则的方法</h3><h4 id="1-3-1-re-模块的用法"><a href="#1-3-1-re-模块的用法" class="headerlink" title="1.3.1. re 模块的用法"></a>1.3.1. re 模块的用法</h4><ul>
<li>sub 替换</li>
<li>match / fullmatch 匹配</li>
<li>search 搜索</li>
<li>split 分片</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">re.split(<span class="string">'(\W+)'</span>, <span class="string">'...words, words...'</span>)</div><div class="line"><span class="comment"># ['', '...', 'words', ', ', 'words', '...', '']</span></div></pre></td></tr></table></figure>
<blockquote>
<p>match 为匹配起始字符 / fullmatch 为全部字符 / search 为搜索</p>
</blockquote>
<h4 id="1-3-2-match-object-的用法"><a href="#1-3-2-match-object-的用法" class="headerlink" title="1.3.2. match object 的用法"></a>1.3.2. match object 的用法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">m.group(<span class="number">0</span>)</div><div class="line">m.group(<span class="number">1</span>, <span class="number">2</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m = re.match(<span class="string">r"(?P&lt;first_name&gt;\w+) (?P&lt;last_name&gt;\w+)"</span>, <span class="string">"Malcolm Reynolds"</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="string">'first_name'</span>)</div><div class="line"><span class="string">'Malcolm'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="string">'last_name'</span>)</div><div class="line"><span class="string">'Reynolds'</span></div><div class="line">m.start() <span class="comment"># 起始</span></div><div class="line">m.end()   <span class="comment"># 结尾</span></div></pre></td></tr></table></figure>
<h2 id="1-4-正则表达式性能"><a href="#1-4-正则表达式性能" class="headerlink" title="1.4. 正则表达式性能"></a>1.4. 正则表达式性能</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 编译优于不编译</span></div><div class="line">prog = re.compile(pattern)</div><div class="line">result = prog.match(string)</div><div class="line">re.match(pattern,string)</div></pre></td></tr></table></figure>
<h2 id="0x02-HTML-XML-处理相关"><a href="#0x02-HTML-XML-处理相关" class="headerlink" title="0x02 HTML/XML 处理相关"></a>0x02 HTML/XML 处理相关</h2><h3 id="2-1-Beautifulsoup-处理-HTML"><a href="#2-1-Beautifulsoup-处理-HTML" class="headerlink" title="2.1. Beautifulsoup 处理 HTML"></a>2.1. Beautifulsoup 处理 HTML</h3><p>解析往往伴随着各种各样奇葩的不奇葩的，诡异的不诡异的网页数据抽取，这个过程中，我们常使用两个库来解决问题，一个库叫做 lxml, 另一个库叫做 BeautifulSoup.</p>
<p>beautifulsoup 可是让我们通过直接手动编写遍历 dom 树的方法来快速遍历 dom 树从而获得数据。相比自己写解析器而言，可以算得上非常的节省时间了。</p>
<p>只要能手动遍历 dom 树，基本上所有的数据都是可以获取的。痛点就是手动编写遍历 Dom 树并且完成测试的时间可能长一些。</p>
<p>但是开发效率就比较低了。</p>
<p>举个例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"lal"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">itemprop</span>=<span class="string">"street-address"</span> <span class="attr">title</span>=<span class="string">"浦东南路八佰伴西面"</span>&gt;</span></div><div class="line">       地址：浦东南路八佰伴西面</div><div class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">itemprop</span>=<span class="string">"street-address"</span> <span class="attr">title</span>=<span class="string">"浦东南路"</span>&gt;</span></div><div class="line">       名称：xxxx</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span> &gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>我想要地址属性，如果是 beautifulsoup, 则我们需要先定位到 id 为 lal 的 div 元素。然后获取每个元素的 text 部分，然后使用 if 判断地址属性，然后提取 text.</p>
<p><strong>但是如果用 xpath, 则可以把对元素的简单定位简单判断直接写在 xpath 表达式。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sel.xpath(<span class="string">'//div[@id="lal"]/*[contains(text(),"地址")]/text()'</span>).extract_first()</div><div class="line"><span class="comment"># 如果还需要添加筛选名称，则可是使用</span></div><div class="line">sel.xpath(<span class="string">'//div[@id="lal"]/*[contains(text(),"名称")]/text()'</span>).extract_first()</div></pre></td></tr></table></figure>
<p>这样可以极大的提升开发效率。</p>
<p>页面的结构越复杂，则 xpath 带来的开发效率越高。</p>
<h3 id="2-2-XPath-处理-HTML"><a href="#2-2-XPath-处理-HTML" class="headerlink" title="2.2. XPath 处理 HTML"></a>2.2. XPath 处理 HTML</h3><h4 id="2-2-1-概念"><a href="#2-2-1-概念" class="headerlink" title="2.2.1. 概念"></a>2.2.1. 概念</h4><p>XPath 是一种通过路径表达式定位 XML 文档内容的语法。<br>由于内置了大量的表达式函数，可以通过极少的代码完成定位。<br>有七种<strong>节点类型</strong>:</p>
<ul>
<li>element</li>
<li>attribute</li>
<li>text</li>
<li>namespace</li>
<li>processing-instruction</li>
<li>comment</li>
<li>document nodes</li>
</ul>
<p>有五种<strong>节点间关系</strong>:</p>
<ul>
<li>父节点 Parent</li>
<li>子节点 Children</li>
<li>兄弟节点 Siblings</li>
<li>先祖节点，即父与父父节点。Ancestors</li>
<li>后代节点，即子与子子节点。Descendants</li>
</ul>
<table>
<thead>
<tr>
<th>语法</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td>nodename</td>
<td>节点名称</td>
<td>a</td>
</tr>
<tr>
<td>/</td>
<td>根节点</td>
<td>/</td>
</tr>
<tr>
<td>//</td>
<td>匹配所有</td>
<td>bookstore//book</td>
</tr>
<tr>
<td>.</td>
<td>当前节点</td>
<td></td>
</tr>
<tr>
<td>..</td>
<td>父节点</td>
<td>a/../a/..</td>
</tr>
<tr>
<td>@</td>
<td>属性</td>
<td>a/@href</td>
</tr>
<tr>
<td>[]</td>
<td>谓语</td>
<td>book[1] , book[last()-1]</td>
</tr>
<tr>
<td>func()</td>
<td>表达式函数</td>
<td>postion()</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">response.xpath(<span class="string">"//*[@id=\"landlb_B04_04\"]/span[2]/a[contains(@href,'market')]"</span>)</div><div class="line">response.xpath(<span class="string">"//*[@id=\"landlb_B04_04\"]/span[2]/a[not(@class)]"</span>)</div><div class="line">response.xpath(<span class="string">"//ul/li/b[contains(text(),'什么玩意')]/following-sibling::span/text()"</span>)</div><div class="line">response.xpath(<span class="string">"//div[@class='address']/text()[preceding::span[@class='item' and contains(text(),'地址：')]]"</span>)</div><div class="line">response.xpath(<span class="string">"//ul/li/b[contains(text(),'什么玩意：')]/following-sibling::a/text()"</span>)</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//*[contains(text(),<span class="string">'ABC'</span>)]</div><div class="line"><span class="comment"># http://stackoverflow.com/questions/3655549/xpath-containstext-some-string-doesnt-work-when-used-with-node-with-more/3655588#3655588</span></div><div class="line"></div><div class="line">&lt;div class=<span class="string">"atag btag"</span> /&gt;</div><div class="line">//div[contains(@class, <span class="string">'atag'</span>) and contains(@class ,<span class="string">'btag'</span>)]</div></pre></td></tr></table></figure>
<h4 id="2-2-2-lxml-parsel"><a href="#2-2-2-lxml-parsel" class="headerlink" title="2.2.2. lxml parsel"></a>2.2.2. lxml parsel</h4><p>这两个库是 Python 中常用的解析表达式， parsel 依赖于 lxml , 安装完 lxml 后直接安装即可。</p>
<h4 id="2-2-3-lxml-的番外"><a href="#2-2-3-lxml-的番外" class="headerlink" title="2.2.3. lxml 的番外"></a>2.2.3. lxml 的番外</h4><p>众所周知，Mac 的 Homebrew 很方便，每一次遇到需要下载编译的组件的时候，只需要执行 brew install xxx, 很快就可以使用了。</p>
<p>但 homebrew 安装的软件都是最新的，这很容易导致部分软件由于版本更新带来的兼容性问题。</p>
<p>这不，最近在 Mac 上进行开发的时候每次调用初始化 lxml 的时候总是无法进行解析，最后经过排查发现问题是 lxml 在编译的时候使用的 libxml 2.9.4 但是 使用的版本为 2.9.2 , 于是每当我使用 lxml 的时候，就会报错。</p>
<p>不得已，找到 lxml 的 F&amp;Q 部分发现提 issue 之前需要先查看依赖版本。</p>
<p>于是进入 IPython 排查。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</div><div class="line"></div><div class="line">print(<span class="string">"%-20s: %s"</span> % (<span class="string">'Python'</span>, sys.version_info))</div><div class="line">print(<span class="string">"%-20s: %s"</span> % (<span class="string">'lxml.etree'</span>, etree.LXML_VERSION))</div><div class="line">print(<span class="string">"%-20s: %s"</span> % (<span class="string">'libxml used'</span>, etree.LIBXML_VERSION))</div><div class="line">print(<span class="string">"%-20s: %s"</span> % (<span class="string">'libxml compiled'</span>, etree.LIBXML_COMPILED_VERSION))</div><div class="line">print(<span class="string">"%-20s: %s"</span> % (<span class="string">'libxslt used'</span>, etree.LIBXSLT_VERSION))</div><div class="line">print(<span class="string">"%-20s: %s"</span> % (<span class="string">'libxslt compiled'</span>, etree.LIBXSLT_COMPILED_VERSION))</div><div class="line"></div><div class="line"><span class="comment"># Python : sys.version_info(major=3, minor=5, micro=1, releaselevel='final', serial=0)</span></div><div class="line"><span class="comment"># lxml.etree : (3, 6, 2, 0)</span></div><div class="line"><span class="comment"># libxml used : (2, 9, 2)</span></div><div class="line"><span class="comment"># libxml compiled : (2, 9, 4) # 注意问题出在这里。</span></div><div class="line"><span class="comment"># libxslt used : (1, 1, 28)</span></div><div class="line"><span class="comment"># libxslt compiled : (1, 1, 28)</span></div></pre></td></tr></table></figure></p>
<p>于是使用 pip 强制进行安装升级。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">STATIC_DEPS=true pip install -i http://pypi.douban.com/simple/ –trusted-host pypi.douban.com lxml –ignore-installed –no-cache-dir –upgrade -vvv</div></pre></td></tr></table></figure>
<p>安装完毕即可。</p>
<h3 id="2-3-标准库处理-HTML"><a href="#2-3-标准库处理-HTML" class="headerlink" title="2.3. 标准库处理 HTML"></a>2.3. 标准库处理 HTML</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/12/03/ReviewWriting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/03/ReviewWriting/" itemprop="url">重新审视自己的博客与笔记</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-03T18:41:47+08:00">
                2016-12-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/写在人生的边上/" itemprop="url" rel="index">
                    <span itemprop="name">写在人生的边上</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  173
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>把自己的博客和一部分的笔记看了一下，觉得文字间废话太多。</p>
<ul>
<li>总是过度交代背景信息，导致文字间充斥着相当大的无用信息。</li>
<li>夹杂了不少写博客时候的情绪，这些情绪或者是沾沾自喜，或者是有些是刻意或者无意的炫耀。</li>
</ul>
<p>于是，我决定花上一个月的时间，把文章之间的文字精简并且重新格式化一下。</p>
<p>仔细一看，我居然在我之前的笔记里面留下了几十篇文章的半成品，这实在是让我羞愧不已。</p>
<hr>
<p>ChangeLog:</p>
<ul>
<li><strong>2016-12-05</strong> 增加部分文章内容</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/11/25/PythonistAwesomeList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/25/PythonistAwesomeList/" itemprop="url">Python 爬虫工程师的武器库</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-25T19:53:47+08:00">
                2016-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-黑魔法/" itemprop="url" rel="index">
                    <span itemprop="name">Python 黑魔法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  1,733
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>从大三接触 Python 到现在几乎已经有两年的接触经验了，除去中间有一年左右接私活写写 Android 和 Lamp 之外，有 Python 实际项目开发经验也算是 9 个多月，也稍微算得上是一个入门级别的 Python 程序员了。</p>
<p>网上不乏一些不错的 Awesome list, 但是说实话，这种类型的清单某些程度上不就相当于推荐自己没有看过的书单？</p>
<p>而我对自己的 Awesome List 是有要求的。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/11/25/PythonistAwesomeList/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/11/23/重新整理再度出发/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/11/23/重新整理再度出发/" itemprop="url">重新整理，再度出发</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-23T20:20:20+08:00">
                2016-11-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/写在人生的边上/" itemprop="url" rel="index">
                    <span itemprop="name">写在人生的边上</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  585
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<p>整理自己的心情，整理自己的经历，也要整理自己的博客。</p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/11/23/重新整理再度出发/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/09/20/IPynb和ECharts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/09/20/IPynb和ECharts/" itemprop="url">IPython Notebook 引入 ECharts 做可视化</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-20T19:26:26+08:00">
                2016-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-黑魔法/" itemprop="url" rel="index">
                    <span itemprop="name">Python 黑魔法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  1,045
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Python 的开发生态圈有相当多的好用的数据分析挖掘工具。Pandas,Numpy,Scikit-Learn 等等。</p>
<p>在进行数据分析挖掘的方面，我们选用 IPython Notebook 对数据进行前期的探索和挖掘。以及内部的可视化交流。</p>
<p>也需要经常新的进行一些可视化来使得探索过程更加的顺利。面对海量的数据可视化，也依照目的使用不同的工具。</p>
<ul>
<li>对于后台开发 / 数据挖掘 / 爬虫工程师而言，内部沟通的过程中注重信息交流沟通的快捷和准确，而不需要考虑可视化的美观程度，所以使用 IPython Notebook 配上 Matplotlib 或者是 Seaborn 进行可视化。</li>
<li>与其他非开发的技术人员交流沟通的时候，这个时候优美的图表就成为了重中之重。</li>
</ul>
<blockquote>
<p>可是 Seaborn Matplotlib 这些库画出来的图，如同那些其貌不扬的高手，包含大量信息，美中不足的就是<strong>不美</strong>。那可不可以使用更加漂亮的图来可视化呢？</p>
</blockquote>
<p>有，ECharts<a href="http://echarts.baidu.com/examples.html" target="_blank" rel="external">案例地址戳这里</a></p>
<blockquote>
<p>想拥有 IPython Notebook 的优点上，还能够最大化 IPython Notebook 的美观程度，这就是我们想在 IPython Notebook 中引入 ECharts 作为可视化的初衷。</p>
<p>如果你使用过 IPython Notebook，细心的你一定大致了解，核心困难点在于如何在 IPython Notebook 中引入 ECharts.</p>
</blockquote>
<p>今天我们使用 IPython NoteBook 来演示一个简单的 ECharts 饼图案例。本文的数据来自大众点评闵行区部分美食店铺。</p>
<h2 id="代码思路"><a href="#代码思路" class="headerlink" title="代码思路"></a>代码思路</h2><p>IPython 中，我们知道，可以通过 IPython.display 导入 HTML.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> HTML</div><div class="line">HTML(<span class="string">"""</span></div><div class="line">&lt;div&gt;这是一小块 HTML&lt;/div&gt;</div><div class="line">""")</div></pre></td></tr></table></figure></p>
<p>执行就 IPython Notebook 中看到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;这是一小块 HTML&lt;/div&gt;</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/52890-e7646baa6145766b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="显示 HTML"></p>
<p>但问题来了，我们知道，在通常的情况下，是不能动态引入 JS 脚本的。因此我们在开发 HTML 静态页面的时候，往往脚本都是在 Head 或者 Body 结束标签之前就写死了。如果要在 IPython 中增加 ECharts, 是不是需要修改一些配置文件，让 IPython Notebook 在 Header 部分引入 ECharts 脚本呢？</p>
<p>答案是<strong>不需要</strong>.</p>
<blockquote>
<p>为何？因为 IPython Notebook 本身自带一个 Js 模块，叫做 RequireJS. 通过这个模块<strong>可以动态引入并执行 JS.</strong></p>
</blockquote>
<p>具体原理不详细介绍，但是这个模块为 IPython Notebook 动态引入其他 JS 框架和代码带来了无限的可能性。注意，再次强调，这个模块可以帮助我们<strong>可以动态引入并执行 JS.</strong></p>
<p>于是通过下面的代码，我们就轻松的将 ECharts 引入到 IPython Notebook 中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">chart_header_html = <span class="string">"""</span></div><div class="line">&lt;div id="chart" style="width:800px; height:600px;"&gt;&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    require.config(&#123;</div><div class="line">         paths:&#123;</div><div class="line">            echarts: '//cdn.bootcss.com/echarts/3.2.3/echarts.min',</div><div class="line">         &#125;</div><div class="line">    &#125;);</div><div class="line">    require(['echarts'],function(ec)&#123;</div><div class="line">var myChart = ec.init(document.getElementById('chart'));</div><div class="line">                var option = &#123;</div><div class="line">                    title: &#123;</div><div class="line">                        text: '闵行区美食类人均消费餐馆分布',</div><div class="line">                        subtext: '数据来自大众点评',</div><div class="line">                        x: 'center'</div><div class="line">                    &#125;,</div><div class="line">                    tooltip: &#123;</div><div class="line">                        trigger: 'item',</div><div class="line">                        formatter: "&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)"</div><div class="line">                    &#125;,</div><div class="line">                    legend: &#123;</div><div class="line">                        orient: 'vertical',</div><div class="line">                        left: 'left',</div><div class="line">                        data: ['人均消费不明','人均消费 0~50 元', '人均消费 50~100 元', '人均消费 100~150 元', '人均消费 150~200 元', '人均消费 200 元以上']</div><div class="line">                    &#125;,</div><div class="line">                    series: [</div><div class="line">                        &#123;</div><div class="line">                            name: '店铺比例',</div><div class="line">                            type: 'pie',</div><div class="line">                            radius: '55%',</div><div class="line">                            center: ['50%', '60%'],</div><div class="line">                            data: [</div><div class="line"></div><div class="line">"""</div><div class="line">chart_content_html = <span class="string">"""</span></div><div class="line">                                &#123;value: %s, name: '人均消费不明'&#125;,</div><div class="line">                                &#123;value: %s, name: '人均消费 0~50 元'&#125;,</div><div class="line">                                &#123;value: %s, name: '人均消费 50~100 元'&#125;,</div><div class="line">                                &#123;value: %s, name: '人均消费 100~150 元'&#125;,</div><div class="line">                                &#123;value: %s, name: '人均消费 150~200 元'&#125;,</div><div class="line">                                &#123;value: %s, name: '人均消费 200 元以上'&#125;</div><div class="line">""" % (consume_unknown_restaurant_count,consume_0_50_restaurant_count,consume_50_100_restaurant_count,consume_100_150_restaurant_count,consume_150_200_restaurant_count,consume_200_greater_restaurant_count)</div><div class="line">chart_footer_html = <span class="string">"""</span></div><div class="line">                            ],</div><div class="line">                            itemStyle: &#123;</div><div class="line">                                emphasis: &#123;</div><div class="line">                                    shadowBlur: 10,</div><div class="line">                                    shadowOffsetX: 0,</div><div class="line">                                    shadowColor: 'rgba(0, 0, 0, 0.5)'</div><div class="line">                                &#125;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ]</div><div class="line">                &#125;;</div><div class="line">                myChart.setOption(option);</div><div class="line">    &#125;);</div><div class="line">&lt;/script&gt;</div><div class="line">"""</div><div class="line"></div><div class="line">HTML(</div><div class="line"> chart_header_html + chart_content_html + chart_footer_html</div><div class="line">)</div></pre></td></tr></table></figure>
<p>看一看代码，首先，配置对应的脚本。引入 requirejs 的配置模块。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">     <span class="attr">paths</span>:&#123;</div><div class="line">        <span class="attr">echarts</span>: <span class="string">'//cdn.bootcss.com/echarts/3.2.3/echarts.min'</span>,</div><div class="line">     &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>接着使用如下代码进行引入和执行代码，具体的 Demo 可以参考文章末尾的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">'echarts'</span>],<span class="function"><span class="keyword">function</span>(<span class="params">ec</span>)</span>&#123;</div><div class="line"> <span class="keyword">var</span> option = &#123;</div><div class="line"><span class="comment">//... 图表配置</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//... 获取图表 div</span></div><div class="line"><span class="comment">//... 为所获取的图表 DIV 设置</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>于是，美观漂亮的可视化图就出来了。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/52890-59bffc49212928be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ECharts 饼图"></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>附上 IPythonNotebook 以及 Excel 表用于大家分析。</p>
<ul>
<li><a href="https://github.com/twocucao/DataScience/blob/master/project_03_dianpin/simple_stat.ipynb" target="_blank" rel="external">对应的 IPythonNotebook</a></li>
<li><a href="https://github.com/twocucao/DataScience/blob/master/project_03_dianpin/%E5%A4%A7%E4%BC%97%E7%82%B9%E8%AF%84%E9%97%B5%E8%A1%8C%E5%8C%BA%E7%BE%8E%E9%A3%9F%E9%A4%90%E5%8E%85%E7%AE%80%E5%8D%95%E7%BB%9F%E8%AE%A1.xlsx" target="_blank" rel="external">对应的 Excel 表</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/09/12/MySQLCheatSheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/09/12/MySQLCheatSheet/" itemprop="url">MySQL Cheatsheet</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-12T18:41:47+08:00">
                2016-09-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后台组件/" itemprop="url" rel="index">
                    <span itemprop="name">后台组件</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  1,880
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文为 Cheatsheet 类型文章，用于记录我在日常编程中经常使用的 MySQL 相关命令。主要包含：</p>
<ul>
<li>MySQL Shell, 其实就是 SQL 命令。</li>
<li>MySQL 配套工具</li>
<li>Python API</li>
</ul>
<p>不定期更新。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/09/12/MySQLCheatSheet/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/07/15/MacPythonMonitorPart2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/15/MacPythonMonitorPart2/" itemprop="url">使用 Python 监控 Mac 一天的运行（下）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-15T18:50:23+08:00">
                2016-07-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-黑魔法/" itemprop="url" rel="index">
                    <span itemprop="name">Python 黑魔法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  2,171
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  9
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>如果有不清楚本文介绍的是什么的？请移步<br>（使用 Python 监控 Mac 一天的运行 - 上）[<a href="http://www.jianshu.com/p/9ebb527e93a0" target="_blank" rel="external">http://www.jianshu.com/p/9ebb527e93a0</a>]</p>
<p>任务回顾一下：</p>
<blockquote>
<p>隔一段时间使用 Python 脚本，统计当前电脑的运行情况，CPU, 内存，硬盘，网络使用状况，然后在每天的下午六点通过 Email 把统计情况汇总，并且必须要有监控图，并通过 Email 发送给我的邮箱。</p>
</blockquote>
<p>好了，这篇文章，我们讲解的是具体的 Python 脚本完成这些任务。因为代码可能稍微复杂一点点，老规矩，讲解思路和必要注意点，其他的请参阅代码。</p>
<h2 id="目标确定与任务分解"><a href="#目标确定与任务分解" class="headerlink" title="目标确定与任务分解"></a>目标确定与任务分解</h2><p>目标就如同上面两段所写。</p>
<p>那么把任务分解一下：</p>
<ul>
<li>首先，你得知道如何获取计算机的运行信息。</li>
<li>其次，你得知道如何把这些数据保存下来（不保存怎么分析）.</li>
<li>接着，你得知道如何分析并制图。</li>
<li>最后，你得知道如何发送邮件。</li>
</ul>
<p>好了，本文的目录也就应运而生了。</p>
<ul>
<li>前言</li>
<li>目标确定和任务分解</li>
<li>Python 获取计算机运行信息</li>
<li>RRDTool 保存计算机运行信息<ul>
<li>为什么是 RRDTool 而不是 sqlite<br>-RRD 怎么保存信息<br>-RRD 怎么保存计算机运行信息</li>
</ul>
</li>
<li>RRDTool 制图功能</li>
<li>汇总并发送 Email</li>
<li>思考与不足</li>
<li>代码</li>
</ul>
<h2 id="Python-获取计算机运行信息"><a href="#Python-获取计算机运行信息" class="headerlink" title="Python 获取计算机运行信息"></a>Python 获取计算机运行信息</h2><p>我们知道有很多 shell 命令可以获取当前时间点，或者当前时间段的计算机各种情况，但是呢，我们只需要某个时间点的计算机的运行情况，Python 中有一个比较好的神器叫做 psutil, 果断安装之。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip3 install psutil</div></pre></td></tr></table></figure>
<p>运行如下脚本，你就可以看出来你的电脑运行的当前状况了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> platform</div><div class="line"><span class="keyword">import</span> rrdtool</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen,URLError</div><div class="line"><span class="keyword">import</span> socket</div><div class="line"><span class="keyword">import</span> getpass</div><div class="line"><span class="keyword">import</span> psutil</div><div class="line"><span class="keyword">import</span> logging</div><div class="line"></div><div class="line">now = str(time.strftime(<span class="string">"%Y%m%d%H%M%S"</span>))</div><div class="line">today = str(time.strftime(<span class="string">"%Y%m%d"</span>))</div><div class="line"></div><div class="line">logging.basicConfig(</div><div class="line">    format=<span class="string">"%(asctime)s - \</span></div><div class="line">[%(process)d]%(filename)s:%(lineno)d - %(levelname)s: %(message)s",</div><div class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%I:%S'</span>,</div><div class="line">    filename=os.path.expanduser(<span class="string">'~/OhMyCode/PyTools/logs/'</span>+today+<span class="string">'.log'</span>),</div><div class="line">    level=logging.INFO</div><div class="line">)</div><div class="line"></div><div class="line">logger = logging.getLogger(<span class="string">'monitor_my_mac'</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> sys.version_info &lt; (<span class="number">3</span>,):</div><div class="line">    <span class="keyword">raise</span> RuntimeError(<span class="string">"at least Python3.0 is required!!"</span>)</div><div class="line">APP_DESC = <span class="string">"""</span></div><div class="line"></div><div class="line">                ---- A Terminal Tools For Monitoring Mac Daily</div><div class="line"></div><div class="line">@author Micheal Gardner (twocucao@gmail.com)</div><div class="line">                                last_update 2016-02-28</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">linux_distribution</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        <span class="keyword">return</span> platform.linux_distribution()</div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        <span class="keyword">return</span> <span class="string">"N/A"</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_connectivity</span><span class="params">(reference)</span>:</span></div><div class="line">    <span class="string">"""检查是否连接到网络"""</span></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        urlopen(reference, timeout=<span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">    <span class="keyword">except</span> URLError:</div><div class="line">        <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">secs2str</span><span class="params">(secs)</span>:</span></div><div class="line">    <span class="string">""" 将秒转化为字符串 """</span></div><div class="line">    <span class="keyword">if</span> int(secs) &lt; <span class="number">0</span>:</div><div class="line">        <span class="keyword">return</span> <span class="string">""</span></div><div class="line">    <span class="keyword">return</span> str(time.strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>,time.localtime(secs)))</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fetch_all_info</span><span class="params">()</span>:</span></div><div class="line">    network_connectivity = check_connectivity(<span class="string">"http://119.75.218.70"</span>)</div><div class="line"></div><div class="line">    public_ip_addr = urlopen(<span class="string">'http://ip.42.pl/raw'</span>).read().decode(<span class="string">"utf-8"</span>)</div><div class="line"></div><div class="line">    <span class="comment">#=============&gt;操作系统信息&lt;==============#</span></div><div class="line">    print(<span class="string">"========&gt;MACHINE&lt;=========="</span>)</div><div class="line">    print(getpass.getuser())</div><div class="line">    print(platform.uname())</div><div class="line">    <span class="comment"># print(os.uname())</span></div><div class="line"></div><div class="line">    print(<span class="string">"""Python version: %s</span></div><div class="line">    dist: %s</div><div class="line">    linux_distribution: %s</div><div class="line">    system: %s</div><div class="line">    machine: %s</div><div class="line">    platform: %s</div><div class="line">    uname: %s</div><div class="line">    version: %s</div><div class="line">    mac_ver: %s</div><div class="line">    """ % (</div><div class="line">    sys.version.split(<span class="string">'\n'</span>),</div><div class="line">    str(platform.dist()),</div><div class="line">    linux_distribution(),</div><div class="line">    platform.system(),</div><div class="line">    platform.machine(),</div><div class="line">    platform.platform(),</div><div class="line">    platform.uname(),</div><div class="line">    platform.version(),</div><div class="line">    platform.mac_ver(),</div><div class="line">    ))</div><div class="line"></div><div class="line">    os_boot_time = psutil.boot_time()</div><div class="line">    print(<span class="string">"Boottime: "</span> + str(os_boot_time) +<span class="string">"-&gt;"</span>+secs2str(os_boot_time)  )</div><div class="line"></div><div class="line">    print(<span class="string">"========&gt;CPU&lt;=========="</span>)</div><div class="line">    print(psutil.cpu_times())</div><div class="line">    print(psutil.cpu_count())</div><div class="line">    print(psutil.cpu_count(logical=<span class="keyword">False</span>))</div><div class="line">    print(psutil.cpu_times_percent())</div><div class="line"></div><div class="line">    print(<span class="string">"========&gt;MEM&lt;=========="</span>)</div><div class="line">    print(psutil.virtual_memory())</div><div class="line">    print(psutil.swap_memory())</div><div class="line"></div><div class="line">    print(<span class="string">"========&gt;DISK&lt;=========="</span>)</div><div class="line">    print(psutil.disk_partitions())</div><div class="line">    print(psutil.disk_usage(<span class="string">"/"</span>))</div><div class="line">    print(psutil.disk_io_counters())</div><div class="line">    print(psutil.disk_io_counters(perdisk=<span class="keyword">True</span>))</div><div class="line"></div><div class="line">    print(<span class="string">"========&gt;NET&lt;=========="</span>)</div><div class="line">    print(psutil.net_io_counters())</div><div class="line">    print(psutil.net_io_counters(pernic=<span class="keyword">True</span>))</div><div class="line">    print(psutil.users())</div><div class="line"></div><div class="line">    print(<span class="string">"hostname:"</span> + socket.gethostname())</div><div class="line">    print(<span class="string">"internal ip address: "</span> + socket.gethostbyname(socket.gethostname()))</div><div class="line">    print(<span class="string">"connected to internet?: "</span> + str(network_connectivity))</div><div class="line">    print(<span class="string">"public ip: "</span> + public_ip_addr )</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    print(APP_DESC)</div><div class="line">    fetch_all_info()</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<p>好的，下面我就想把这些数据保存下来。</p>
<h2 id="RRDTool-保存计算机运行信息"><a href="#RRDTool-保存计算机运行信息" class="headerlink" title="RRDTool 保存计算机运行信息"></a>RRDTool 保存计算机运行信息</h2><p>对于 RRDTool, 引自 RRDTool 的官网</p>
<blockquote>
<p>RRDtool is the OpenSource industry standard, high performance data logging and graphing system for time series data. RRDtool can be easily integrated in shell scripts, perl, python, ruby, lua or tcl applications.</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/52890-b79e26953467d4a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="stream-pop.png"></p>
<blockquote>
<p><strong>注意：</strong>    如果你看不懂下面关于 RRDTool 的相关内容，请立即反复参考下面的链接，大致留下 rrd 的印象。注意，<strong>是反复，是反复，是反复</strong>, 重要的事情听说要说三遍的。</p>
</blockquote>
<p><a href="http://oss.oetiker.ch/rrdtool/tut/rrdtutorial.en.html" target="_blank" rel="external">http://oss.oetiker.ch/rrdtool/tut/rrdtutorial.en.html</a></p>
<p>wait,wait,don’t tell me, 你怎么使用这个什么 RRDTool, 这又是什么东西？既然你一天只存储一点点的东西，为什么不使用 sqlite?</p>
<h3 id="为什么是-RRDTool-而不是-sqlite"><a href="#为什么是-RRDTool-而不是-sqlite" class="headerlink" title="为什么是 RRDTool 而不是 sqlite"></a>为什么是 RRDTool 而不是 sqlite</h3><p>答案很简单，因为我们采用的是监控，采用 sqlite 不是说不可以，只是 sqlite 在监控领域不是很专业。那为什么不够专业呢？</p>
<blockquote>
<p>因为在这个场景下，仅仅有存储数据的功能是不够的。</p>
<p>还需要根据监控的场景，进行各种绘图功能。</p>
</blockquote>
<ul>
<li>如果使用 sqlite, 还要安装各种 python 绘图，运算库 (seaborn,numpy,pandas 等）进行统计绘图，那样就不够轻量级了。</li>
<li>而 rrdtool 作为运维监控的常用工具，则成为首选数据库。</li>
</ul>
<h3 id="RRD-怎么保存信息"><a href="#RRD-怎么保存信息" class="headerlink" title="RRD 怎么保存信息"></a>RRD 怎么保存信息</h3><p>既然，这是一种叫做数据库的东西，那么，最好的学习方式就是和在实战中练习并且和之前学过的同类型数据进行对比。</p>
<p>那好，我们要回想一下，在学习过的关系型数据库里面，我们是怎么进行数据的怎删改查的。</p>
<p>首先，对于关系型数据库，DBA 创建数据库并指派给某些权限用户，接着由 DB 用户创建表，表中需要各种数据的定义数据类型，最后插入数据，并且进行大量的 curd.</p>
<p>在 sqlite 这种依靠单个文件作为存储介质的关系型数据库，则是由 DB 用户创建表，表中需要各种数据的定义数据类型，最后依赖 SQL 语句插入数据，并且进行大量的 curd.（注：没有谈到事务不代表事务不重要）</p>
<p>rrdtool 也是这个道理。它也是依靠单文件作为存储介质的一种 rrd 数据库的实现。先看下面的实例：</p>
<p>这个实例来自于官网的 tutorial : <a href="http://oss.oetiker.ch/rrdtool/tut/rrdtutorial.en.html" target="_blank" rel="external">http://oss.oetiker.ch/rrdtool/tut/rrdtutorial.en.html</a></p>
<p>仔细阅读官方教程，我们大致可以得出以下结论。</p>
<p>对于创建数据库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">rrdtool create test.rrd             \</div><div class="line">        --start 920804400          \</div><div class="line">        DS:speed:COUNTER:600:0:U   \</div><div class="line">        RRA:AVERAGE:0.5:1:24       \</div><div class="line">        RRA:AVERAGE:0.5:6:10</div></pre></td></tr></table></figure>
<ul>
<li>创建一个数据库文件，文件名为 test,</li>
<li>开始时间为 unix 时间戳 920804400 ,</li>
<li>存储的行车速度（额，其实这里我觉得用行车路程表示比较好）</li>
<li>用两个 rra 用来保存”当保存行车路程的时候，经过计算的值”.</li>
<li>一个 databese 是一个 rrd 文件，一个 rrd 文件中存储多个 rra（类似于关系型数据库中，一个数据库里面有多张表）, 但是这里的”表”是用来存储不同的时间间隔的数据，所有的数据来源由创建数据库的时候指定的，(rr 代表 round robin,a 代表 achive)</li>
<li>第一个 RRA 存储的是平均值（也可以存储 MAX 和 MIN),CDP 中的 PDP 超过一半的时候，则 CDP 标记为 UNKNOWNA（这里咱默认 0.5 就好）, 每隔 1 X 300 秒的时候，存一次平均值，存 24 次。</li>
</ul>
<p>对于更新数据：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">rrdtool update test.rrd 920804700:12345 920805000:12357 920805300:12363</div><div class="line">rrdtool update test.rrd 920805600:12363 920805900:12363 920806200:12373</div><div class="line">rrdtool update test.rrd 920806500:12383 920806800:12393 920807100:12399</div><div class="line">rrdtool update test.rrd 920807400:12405 920807700:12411 920808000:12415</div><div class="line">rrdtool update test.rrd 920808300:12420 920808600:12422 920808900:12423</div></pre></td></tr></table></figure>
<p>你可能有疑惑：官网里面的 speed 指的不是速度么，怎么会用来代表路程.（回顾一下：路程 = 时间 X 速度）, 官网的教程插入数据的时候，使用的是某个时间点已经行驶的路程。说实话，我也觉得很疑惑。<br>请注意：它更新的数据都是累加的 (COUNTOR), 也就是说，</p>
<p>对于绘图：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">rrdtool graph speed.png                                 \</div><div class="line">    --start 920804400 --end 920808000               \</div><div class="line">    DEF:myspeed=test.rrd:speed:AVERAGE              \</div><div class="line">    LINE2:myspeed<span class="comment">#FF0000</span></div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">rrdtool graph speed2.png                           \</div><div class="line">    --start 920804400 --end 920808000               \</div><div class="line">    --vertical-label m/s                            \</div><div class="line">    DEF:myspeed=test.rrd:speed:AVERAGE              \</div><div class="line">    CDEF:realspeed=myspeed,1000,\*                  \</div><div class="line">    LINE2:realspeed<span class="comment">#FF0000</span></div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">rrdtool graph speed3.png                             \</div><div class="line">    --start 920804400 --end 920808000               \</div><div class="line">    --vertical-label km/h                           \</div><div class="line">    DEF:myspeed=test.rrd:speed:AVERAGE              \</div><div class="line">    <span class="string">"CDEF:kmh=myspeed,3600,*"</span>                       \</div><div class="line">    CDEF:fast=kmh,100,GT,kmh,0,IF                   \</div><div class="line">    CDEF:good=kmh,100,GT,0,kmh,IF                   \</div><div class="line">    HRULE:100<span class="comment">#0000FF:"Maximum allowed"              \</span></div><div class="line">    AREA:good<span class="comment">#00FF00:"Good speed"                   \</span></div><div class="line">    AREA:fast<span class="comment">#FF0000:"Too fast"</span></div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">rrdtool graph speed4.png                           \</div><div class="line">      --start 920804400 --end 920808000               \</div><div class="line">      --vertical-label km/h                           \</div><div class="line">      DEF:myspeed=test.rrd:speed:AVERAGE              \</div><div class="line">      CDEF:nonans=myspeed,UN,0,myspeed,IF             \</div><div class="line">      CDEF:kmh=nonans,3600,*                          \</div><div class="line">      CDEF:fast=kmh,100,GT,100,0,IF                   \</div><div class="line">      CDEF:over=kmh,100,GT,kmh,100,-,0,IF             \</div><div class="line">      CDEF:good=kmh,100,GT,0,kmh,IF                   \</div><div class="line">      HRULE:100<span class="comment">#0000FF:"Maximum allowed"              \</span></div><div class="line">      AREA:good<span class="comment">#00FF00:"Good speed"                   \</span></div><div class="line">      AREA:fast<span class="comment">#550000:"Too fast"                     \</span></div><div class="line">      STACK:over<span class="comment">#FF0000:"Over speed"</span></div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/52890-e7979c928d1bf4ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="speed.png"><br><img src="http://upload-images.jianshu.io/upload_images/52890-92c75ac53eedd2bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="speed2.png"><br><img src="http://upload-images.jianshu.io/upload_images/52890-061e0e0c91521d9b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="speed3.png"><br><img src="http://upload-images.jianshu.io/upload_images/52890-59100ed39a3b8588.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="speed4.png"></p>
<h3 id="RRD-怎么保存计算机运行信息"><a href="#RRD-怎么保存计算机运行信息" class="headerlink" title="RRD 怎么保存计算机运行信息"></a>RRD 怎么保存计算机运行信息</h3><p>在这里，仅仅使用带宽的统计作为演示案例（案例来自使用 Python 自动化运维这本书）.</p>
<h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4><h4 id="更新数据库"><a href="#更新数据库" class="headerlink" title="更新数据库"></a>更新数据库</h4><h4 id="RRDTool-制图"><a href="#RRDTool-制图" class="headerlink" title="RRDTool 制图"></a>RRDTool 制图</h4><h2 id="汇总并发送-Email"><a href="#汇总并发送-Email" class="headerlink" title="汇总并发送 Email"></a>汇总并发送 Email</h2><h2 id="思考与不足"><a href="#思考与不足" class="headerlink" title="思考与不足"></a>思考与不足</h2><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>代码地址为：</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://github.com/yorkoliu/pyauto/blob/master/%E7%AC%AC%E4%B8%89%E7%AB%A0/rrdtool/graph.py" target="_blank" rel="external">https://github.com/yorkoliu/pyauto/blob/master/%E7%AC%AC%E4%B8%89%E7%AB%A0/rrdtool/graph.py</a></p>
<p><a href="http://stackoverflow.com/questions/21784641/installation-issue-with-matplotlib-python" target="_blank" rel="external">http://stackoverflow.com/questions/21784641/installation-issue-with-matplotlib-python</a></p>
<hr>
<p>ChangeLog:</p>
<ul>
<li><strong>2017-03-14</strong> 本文已经彻底烂尾了，哈哈哈</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://twocucao.xyz/2016/07/01/MacCheatSheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Micheal Gardner">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oh1n2bfoj.bkt.clouddn.com/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MG的编程小屋">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/01/MacCheatSheet/" itemprop="url">Mac Cheatsheet</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-01T18:41:47+08:00">
                2016-07-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/善用佳软/" itemprop="url" rel="index">
                    <span itemprop="name">善用佳软</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  1,575
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00. 前言"></a>0x00. 前言</h2><blockquote>
<p>好的工匠懂得挑选合适的工具。</p>
</blockquote>
<p>做软件行业之间长了，见多了各种操作系统孰优孰劣 / 编程语言哪家强的论战，也就渐渐懂得了这个异常朴素的道理。也懒得去争论。有争论的时间，不如好好的编写代码，多看些技术书籍。以及熟悉自己的工具。</p>
<p>如果说，你现在问我到底是哪个 OS 好，我只能说：</p>
<blockquote>
<p>好的工匠懂得挑选合适的工具。而不是炫耀自己的工具。</p>
</blockquote>
<p>BTW : <strong>大约在 2015 年 12 月份有了第一台 MAC, 如今更加喜爱。</strong></p>
<p>本文为 Cheatsheet 类型文章，用于记录我在日常编程中经常使用的 Mac 快捷键和工具。</p>
<p>不定期更新。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/07/01/MacCheatSheet/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://oh1n2bfoj.bkt.clouddn.com/avatar.png"
               alt="Micheal Gardner" />
          <p class="site-author-name" itemprop="name">Micheal Gardner</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">59</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">27</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">41</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/twocucao" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/twocucao" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/twocucao" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Micheal Gardner</span>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.1"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.1"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


  

</body>
</html>
