{"pageProps":{"post":{"tags":["Tmux"],"path":"20180128_TmuxWithTmuxinatorWorkflow.md","title":"用 tmux 与 tmuxinator 打造开发工作流","slug":"用 tmux 与 tmuxinator 打造开发工作流","date":"2018-01-28","category":"善用佳软","lastMod":"2020-01-01","description":"这篇文章展示了基本的 Markdown 语法和格式.","thumbnail":"","content":"<h2 id=\"0x00-前言\"><a class=\"v-toc-item\" href=\"#0x00-前言\">#</a> 0x00. 前言</h2>\n<p>本文就我最近开发的一个前后端的项目（名字叫做 yavueblog) 来简单介绍两个神器</p>\n<ul>\n<li>一个是 tmux</li>\n<li>一个是 tmuxinator</li>\n</ul>\n<p>我在开发这个前后端的项目的时候要开启要通过不少的命令来启动服务：</p>\n<ul>\n<li>（前端开发）运行 npm run dev 进行开发前端页面</li>\n<li>（前端开发）运行 npm run dev:theme , 当主题的 SCSS 发生变化的同时，编译 SCSS</li>\n<li>（前端开发）运行 npm run dev:iconfont, 当移入了新的 svg 图标的时候，自动构建出新的字体文件与 iconfont.css 。</li>\n<li>（后端开发）运行 make dockerup 中开启 Django 应用。启动 Django 服务，PostgreSQL 数据库，Redis 等等，</li>\n</ul>\n<p>我的需求如下：</p>\n<ul>\n<li>一键启动这些脚本，前两个任务，放在第一个终端。</li>\n<li>后面两个任务放在第二、三个终端里。</li>\n</ul>\n<p>以前的做法都是新建三个终端选项卡，然后第一个终端分两屏，然后分别到各个终端 cd 或者 autojump 到对应的目录，然后手动运行命令。</p>\n<p>加上运行 npm run dev:theme 的时候，我是通过 Python 的 watchdog 来实现对指定目录和指定类型文件的变化进行监听的，所以还要切换 PyEnv 自定义的 Python 的环境中。</p>\n<p>这些命令反反复复输入还是挺麻烦的事情，为何不用工具来解决呢？</p>\n<h2 id=\"0x01-tmux-tmuxinator\"><a class=\"v-toc-item\" href=\"#0x01-tmux-tmuxinator\">#</a> 0x01 tmux + tmuxinator</h2>\n<p>先安装</p>\n<pre><code>brew install tmux\nbrew install ruby\ngem install tmuxinator\n</code></pre>\n<p>什么是 tmux? 简单而言，就是一个终端复用软件。<br>\n什么是 tmuxinator? 简单而言，就是为了简化 tmux 操作的软件。只需要编写 yaml 即快速开启一个比较适合你的终端窗口布局。</p>\n<p>关于 tmux 的配置，推荐这个 repo</p>\n<p><a href=\"https://github.com/gpakosz/.tmux\">https://github.com/gpakosz/.tmux</a></p>\n<h2 id=\"0x02-编写-tmuxinator-配置文件\"><a class=\"v-toc-item\" href=\"#0x02-编写-tmuxinator-配置文件\">#</a> 0x02 编写 Tmuxinator 配置文件</h2>\n<p>输入 tmuxinator new yavueblog</p>\n<p>修改文件如下</p>\n<pre><code># ~/.tmuxinator/yavueblog.yml\n\nname: yavueblog\nroot: ~/Codes/PublicRepos/YaBlogSystem/\n\n# Optional tmux socket\n# socket_name: foo\n\n# Runs before everything. Use it to start daemons etc.\n# pre: sudo /etc/rc.d/mysqld start\n\n# Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.\npre_window: pyenv activate 3.5.2/envs/py3-daily\n\nwindows:\n  - &quot;网站开发&quot;:\n      layout: main-vertical\n      # Synchronize all panes of this window, can be enabled before or after the pane commands run.\n      # 'before' represents legacy functionality and will be deprecated in a future release, in favour of 'after'\n      # synchronize: after\n      panes:\n        - &quot;cd ./YaVueBlog/ &amp;&amp; npm run dev&quot;\n        - &quot;cd ./YaVueBlog/ &amp;&amp; npm run dev:theme&quot;\n  - &quot;iconfont 构建&quot;: &quot;cd ./YaVueBlog/ &amp;&amp; npm run dev:iconfont&quot;\n  - &quot;DockerizedDjango&quot;: &quot;cd ./YaDjangoBlog/ &amp;&amp; make docker-compose-build-up&quot;\n\n</code></pre>\n<p>这样的话，每次开发就只需要运行 tmuxinator start yavueblog，并且打开 IDE 直接捋起袖子就是干就好了。</p>\n<h2 id=\"0x03-玩-tmux-首先要掌握的三个小技巧\"><a class=\"v-toc-item\" href=\"#0x03-玩-tmux-首先要掌握的三个小技巧\">#</a> 0x03 玩 tmux 首先要掌握的三个小技巧</h2>\n<p>如果你刚用 tmux 的话，火速掌握下面三个小技巧。要不然会抓狂的。</p>\n<ol>\n<li>切换终端</li>\n</ol>\n<ul>\n<li>c-b + 数字</li>\n<li>c-b + n</li>\n</ul>\n<ol start=\"2\">\n<li>滚屏</li>\n</ol>\n<p><a href=\"https://superuser.com/questions/209437/how-do-i-scroll-in-tmux\">https://superuser.com/questions/209437/how-do-i-scroll-in-tmux</a></p>\n<ol start=\"3\">\n<li>复制文字</li>\n</ol>\n<p><a href=\"https://superuser.com/questions/196060/selecting-text-in-tmux-copy-mode\">https://superuser.com/questions/196060/selecting-text-in-tmux-copy-mode</a></p>\n<h2 id=\"0xee-参考链接\"><a class=\"v-toc-item\" href=\"#0xee-参考链接\">#</a> 0xEE 参考链接</h2>\n<ul>\n<li><a href=\"https://github.com/twocucao\">我的 Github</a></li>\n</ul>\n<p>ChangeLog:</p>\n<ul>\n<li><strong>2017-03-08 09:33:37</strong> 重新润饰文字，弃用 Rails 开发一年。现在主 DjangoRestFrameWork+VueJS</li>\n<li><strong>2018-01-28 11:44:00</strong> 重修文字，适配本文</li>\n</ul>\n","toc":"<ul class=\"v-article-toc\">\n<li>\n<ul>\n<li><a href=\"#0x00-%E5%89%8D%E8%A8%80\">0x00. 前言</a></li>\n<li><a href=\"#0x01-tmux-tmuxinator\">0x01 tmux + tmuxinator</a></li>\n<li><a href=\"#0x02-%E7%BC%96%E5%86%99-tmuxinator-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">0x02 编写 Tmuxinator 配置文件</a></li>\n<li><a href=\"#0x03-%E7%8E%A9-tmux-%E9%A6%96%E5%85%88%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84%E4%B8%89%E4%B8%AA%E5%B0%8F%E6%8A%80%E5%B7%A7\">0x03 玩 tmux 首先要掌握的三个小技巧</a></li>\n<li><a href=\"#0xee-%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\">0xEE 参考链接</a></li>\n</ul>\n</li>\n</ul>\n"}},"__N_SSG":true}