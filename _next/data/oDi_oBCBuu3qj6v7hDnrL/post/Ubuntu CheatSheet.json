{"pageProps":{"post":{"tags":["Ubuntu"],"path":"20161005_UbuntuCheatSheet.md","title":"Ubuntu CheatSheet","slug":"Ubuntu CheatSheet","date":"2016-10-05","category":"善用佳软","lastMod":"2020-01-01","description":"这篇文章展示了基本的 Markdown 语法和格式.","thumbnail":"","content":"<h1 id=\"ubuntu-cheatsheet\"><a class=\"v-toc-item\" href=\"#ubuntu-cheatsheet\">#</a> Ubuntu CheatSheet</h1>\n<h2 id=\"0x01-基础设置\"><a class=\"v-toc-item\" href=\"#0x01-基础设置\">#</a> 0x01 基础设置</h2>\n<h2 id=\"0x02-软件安装\"><a class=\"v-toc-item\" href=\"#0x02-软件安装\">#</a> 0x02 软件安装</h2>\n<pre><code>sudo apt-get --purge autoremove\n</code></pre>\n<pre><code class=\"language-bash\"># 更新\nsudo apt update\nsudo apt install git<span class=\"token operator\">-</span>core curl zlib1g<span class=\"token operator\">-</span>dev build<span class=\"token operator\">-</span>essential libssl<span class=\"token operator\">-</span>dev libreadline<span class=\"token operator\">-</span>dev libyaml<span class=\"token operator\">-</span>dev libsqlite3<span class=\"token operator\">-</span>dev sqlite3 libxml2<span class=\"token operator\">-</span>dev libxslt1<span class=\"token operator\">-</span>dev libcurl4<span class=\"token operator\">-</span>openssl<span class=\"token operator\">-</span>dev python<span class=\"token operator\">-</span>software<span class=\"token operator\">-</span>properties libffi<span class=\"token operator\">-</span>devsudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install zsh tree htopsudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install build<span class=\"token operator\">-</span>essential acl ntp htop git libpq<span class=\"token operator\">-</span>dev libmysqlclient<span class=\"token operator\">-</span>dev libffi<span class=\"token operator\">-</span>dev libfreetype6<span class=\"token operator\">-</span>dev libjpeg8<span class=\"token operator\">-</span>dev liblcms2<span class=\"token operator\">-</span>dev libtiff5<span class=\"token operator\">-</span>dev libwebp<span class=\"token operator\">-</span>dev libxml2<span class=\"token operator\">-</span>dev libxslt1<span class=\"token operator\">-</span>dev tcl8<span class=\"token punctuation\">.</span><span class=\"token number\">6</span><span class=\"token operator\">-</span>dev tk8<span class=\"token punctuation\">.</span><span class=\"token number\">6</span><span class=\"token operator\">-</span>dev zlib1g<span class=\"token operator\">-</span>dev python<span class=\"token operator\">-</span>dev python<span class=\"token operator\">-</span>pip python<span class=\"token operator\">-</span>pycurl python<span class=\"token operator\">-</span>tk ipython supervisor python3<span class=\"token punctuation\">.</span><span class=\"token number\">5</span> python3<span class=\"token punctuation\">.</span><span class=\"token number\">5</span><span class=\"token operator\">-</span>dev python3<span class=\"token operator\">-</span>pip python3<span class=\"token operator\">-</span>lxml python3<span class=\"token operator\">-</span>tk ipython3sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install mysql<span class=\"token operator\">-</span>server mysql<span class=\"token operator\">-</span>client libmysqlclient<span class=\"token operator\">-</span>dev slurm\n\n# <span class=\"token constant\">GIT</span> 配置\ngit config <span class=\"token operator\">--</span>global color<span class=\"token punctuation\">.</span>ui <span class=\"token boolean\">true</span>\ngit config <span class=\"token operator\">--</span>global user<span class=\"token punctuation\">.</span>name <span class=\"token string\">\"twocucao\"</span>\ngit config <span class=\"token operator\">--</span>global user<span class=\"token punctuation\">.</span>email <span class=\"token string\">\"twocucao@gmail.com\"</span>\nssh<span class=\"token operator\">-</span>keygen <span class=\"token operator\">-</span>t rsa <span class=\"token operator\">-</span>b <span class=\"token number\">4096</span> <span class=\"token operator\">-</span><span class=\"token constant\">C</span> <span class=\"token string\">\"twocucao@gmail.com\"</span>\n</code></pre>\n<p>第一步，更新源：</p>\n<h3 id=\"21-设置无登录密钥\"><a class=\"v-toc-item\" href=\"#21-设置无登录密钥\">#</a> 2.1 设置无登录密钥</h3>\n<pre><code># 刚开始用了一个很蠢的方法\nscp ~/.ssh/id_rsa.pub twocucao@192.168.2.156:.ssh/id_rsa.pub\nssh twocucao@192.168.2.156 &quot;mkdir .ssh;chmod 0700 .ssh&quot;\n# 现在想想，可以直接 ssh-copy-id\nssh-copy-id twocucao@192.168.2.156\n</code></pre>\n<h2 id=\"0x02-了解-linux-服务器运行情况\"><a class=\"v-toc-item\" href=\"#0x02-了解-linux-服务器运行情况\">#</a> 0x02 了解 Linux 服务器运行情况</h2>\n<pre><code># 运行时间 uptime\n# 内存情况 free -h\n# 网络类\n## 实时流量监控 iftop\n## 进程占用带宽 nethogs\n## sudo nethogs eth0\niptraf\n# 磁盘类 iotop\n## 当 dstat 的 wai 字段值比较大时，可以使用 iotop 找出哪些进程出了问题\n# 综合类 之 监控进程，进程管理\ntop\nhtop\nglances # PS , 这个监控粒度更细\n# 综合类 可以取代 vmstat , iostat , netstat , ifstatdstat\n# 综合类\n# 约等于 strace + tcpdump + htop + iftop + lsofsysdig\n</code></pre>\n<h2 id=\"0x04-踩坑集合\"><a class=\"v-toc-item\" href=\"#0x04-踩坑集合\">#</a> 0x04 踩坑集合</h2>\n<h3 id=\"31-磁盘问题\"><a class=\"v-toc-item\" href=\"#31-磁盘问题\">#</a> 3.1 磁盘问题</h3>\n<pre><code>df -h 查看磁盘块占用的文件（block）\ndf -i 查看索引节点的占用（Inodes）\nfind / -size +100M |xargs ls -lh\n# 删除 5 天前的文件\nfind /path/to/files* -mtime +5 -exec rm {} \\;\ndu -h\nrm xxx.log\necho &quot;&quot; &gt; xxx.log\n</code></pre>\n<hr>\n<p>ChangeLog:</p>\n<ul>\n<li><strong>2017-03-19</strong> 重修文字，准备整理安装配置将结果转化为 Ansible PlayBook</li>\n<li><strong>2017-10-20</strong> 重修文字，准备整理安装配置将结果转化为 Ansible PlayBook</li>\n</ul>\n","toc":"<ul class=\"v-article-toc\">\n<li><a href=\"#ubuntu-cheatsheet\">Ubuntu CheatSheet</a>\n<ul>\n<li><a href=\"#0x01-%E5%9F%BA%E7%A1%80%E8%AE%BE%E7%BD%AE\">0x01 基础设置</a></li>\n<li><a href=\"#0x02-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85\">0x02 软件安装</a>\n<ul>\n<li><a href=\"#21-%E8%AE%BE%E7%BD%AE%E6%97%A0%E7%99%BB%E5%BD%95%E5%AF%86%E9%92%A5\">2.1 设置无登录密钥</a></li>\n</ul>\n</li>\n<li><a href=\"#0x02-%E4%BA%86%E8%A7%A3-linux-%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5\">0x02 了解 Linux 服务器运行情况</a></li>\n<li><a href=\"#0x04-%E8%B8%A9%E5%9D%91%E9%9B%86%E5%90%88\">0x04 踩坑集合</a>\n<ul>\n<li><a href=\"#31-%E7%A3%81%E7%9B%98%E9%97%AE%E9%A2%98\">3.1 磁盘问题</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}},"__N_SSG":true}