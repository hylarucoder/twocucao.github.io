{"pageProps":{"post":{"tags":["Python"],"path":"20160215_Python斗鱼弹幕助手.md","title":"Python 程序员如何优雅的看斗鱼 TV","slug":"Python 程序员如何优雅的看斗鱼 TV","date":"2016-02-15","category":"Python","lastMod":"2020-01-01","description":"这篇文章展示了基本的 Markdown 语法和格式.","thumbnail":"","content":"<h1 id=\"python-程序员如何优雅的看斗鱼-tv\"><a class=\"v-toc-item\" href=\"#python-程序员如何优雅的看斗鱼-tv\">#</a> Python 程序员如何优雅的看斗鱼 TV</h1>\n<h2 id=\"0x00-前言\"><a class=\"v-toc-item\" href=\"#0x00-前言\">#</a> 0x00 前言</h2>\n<p>过年的一段时间抽空研究写了一些关于斗鱼 TV 的弹幕的获取。分别使用 Python 和 Ruby 写了弹幕获取的客户端。</p>\n<p>文章地址为：</p>\n<p>Python 版本：<br>\n<a href=\"http://www.jianshu.com/p/2e0d14978ae9\">http://www.jianshu.com/p/2e0d14978ae9</a></p>\n<p>Ruby 版本附加原理讲解：<br>\n<a href=\"http://www.jianshu.com/p/ef0225b6bb0e\">http://www.jianshu.com/p/ef0225b6bb0e</a></p>\n<p>文章末尾写到了我有一个痛点 --rtmp 直播视频无法获取，后来在网友 <a href=\"http://www.jianshu.com/users/0675b42ac3ba\">往事侞湮</a>] 的友善提醒下，终于 Get 到了。</p>\n<p>于是，稍微完善了一下，我就发布了第一个命令行版本的斗鱼 TV 浏览弹幕小助手。</p>\n<p>如果你是 MacOSX 的用户，你只需要</p>\n<pre><code class=\"language-bash\">brew install mplayer\npip3 install danmu<span class=\"token punctuation\">.</span>fm\n# danmu<span class=\"token punctuation\">.</span>fm <span class=\"token operator\">-</span>q <span class=\"token number\">1</span> <span class=\"token operator\">-</span>v <span class=\"token number\">1</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span>\n# 比如\ndanmu<span class=\"token punctuation\">.</span>fm <span class=\"token operator\">-</span>q <span class=\"token number\">2</span> <span class=\"token operator\">-</span>v <span class=\"token number\">1</span> http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>douyutv<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span><span class=\"token number\">16789</span>\n# <span class=\"token operator\">-</span>q 参数 <span class=\"token number\">0</span> 为不调用 mplayer 进行播放，<span class=\"token number\">1</span> 为使用 mplayer 进行普清视频的播放，<span class=\"token number\">2</span> 为使用 mplayer 进行高清视频的播放，<span class=\"token number\">3</span> 为使用 mplayer 进行超清视频的播放\n</code></pre>\n<p>如果你是 Ubuntu 用户，你只需要</p>\n<pre><code class=\"language-bash\">sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install mplayer\npip3 install danmu<span class=\"token punctuation\">.</span>fm\n# danmu<span class=\"token punctuation\">.</span>fm  <span class=\"token operator\">-</span>v <span class=\"token number\">1</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span>\n# 比如\ndanmu<span class=\"token punctuation\">.</span>fm  <span class=\"token operator\">-</span>v <span class=\"token number\">1</span> <span class=\"token operator\">-</span>q http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>douyutv<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span><span class=\"token number\">16789</span>\n#ubuntu 上 mplayer 播放器可以正常播放\n</code></pre>\n<p>如果你是 Win 用户，</p>\n<blockquote>\n<p>唉，windows 上面糟糕的编码问题。那单纯来看字幕的话也不是不可以的。只是我暂时没有对 Win 进行兼容。还是换 Linux 吧。</p>\n</blockquote>\n<h2 id=\"0x01-演示效果\"><a class=\"v-toc-item\" href=\"#0x01-演示效果\">#</a> 0x01 演示效果</h2>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/52890-396d6451c68d2a83.gif?imageMogr2/auto-orient/strip\" alt=\"1123.gif\"></p>\n<h2 id=\"0xee-代码地址\"><a class=\"v-toc-item\" href=\"#0xee-代码地址\">#</a> 0xEE 代码地址</h2>\n<p><a href=\"https://github.com/twocucao/danmu.fm\">https://github.com/twocucao/danmu.fm</a></p>\n<p>如果喜欢，请点个喜欢或者 star 一下</p>\n<hr>\n<p>ChangeLog:</p>\n<ul>\n<li>**Update 20160609 : ** 更新 Python 客户端，修复由于斗鱼网页版面修改带来的小问题，直接开启海量弹幕模式（请大家不要问我为什么端午节这一天为什么闲着没事更新代码，这个真的和情人节是同一个原因）.</li>\n<li>**Update 20160220 : **更新 Python 客户端，增加直播视频的 Live 获取，以及 Mac 平台下面的 Mplayer 的视频播放。代码均放在 Github 上面。<a href=\"//link.zhihu.com/?target=https%3A//github.com/twocucao/danmu.fm\">GitHub - twocucao/danmu.fm: douyutv danmu 斗鱼 TV 弹幕助手**</a></li>\n<li>**Update 20160214 : **更新 Python 和 Ruby 客户端（请大家不要问我为什么情人节这一天为什么闲着没事更新代码）**</li>\n</ul>\n","toc":"<ul class=\"v-article-toc\">\n<li><a href=\"#python-%E7%A8%8B%E5%BA%8F%E5%91%98%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%9C%8B%E6%96%97%E9%B1%BC-tv\">Python 程序员如何优雅的看斗鱼 TV</a>\n<ul>\n<li><a href=\"#0x00-%E5%89%8D%E8%A8%80\">0x00 前言</a></li>\n<li><a href=\"#0x01-%E6%BC%94%E7%A4%BA%E6%95%88%E6%9E%9C\">0x01 演示效果</a></li>\n<li><a href=\"#0xee-%E4%BB%A3%E7%A0%81%E5%9C%B0%E5%9D%80\">0xEE 代码地址</a></li>\n</ul>\n</li>\n</ul>\n"}},"__N_SSG":true}