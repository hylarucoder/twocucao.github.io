{"pageProps":{"post":{"tags":["Shell"],"path":"20201201_Modern_Shell.md","title":"Modern Shell","slug":"Modern Shell","date":"2020-11-30","category":"善用佳软","lastMod":"2020-01-01","description":"这篇文章展示了基本的 Markdown 语法和格式.","thumbnail":"","content":"<h2 id=\"0x01-更好的替代品\"><a class=\"v-toc-item\" href=\"#0x01-更好的替代品\">#</a> 0x01 更好的替代品</h2>\n<h3 id=\"find-fd\"><a class=\"v-toc-item\" href=\"#find-fd\">#</a> find -&gt; fd</h3>\n<pre><code class=\"language-bash\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token constant\">A</span> placeholder token that will be replaced <span class=\"token keyword\">with</span> the path <span class=\"token keyword\">of</span> the search <span class=\"token function\">result</span> <span class=\"token punctuation\">(</span>documents<span class=\"token operator\">/</span>images<span class=\"token operator\">/</span>party<span class=\"token punctuation\">.</span>jpg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Like <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> but without the file <span class=\"token function\">extension</span> <span class=\"token punctuation\">(</span>documents<span class=\"token operator\">/</span>images<span class=\"token operator\">/</span>party<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">{</span><span class=\"token operator\">/</span><span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token constant\">A</span> placeholder that will be replaced by the basename <span class=\"token keyword\">of</span> the search <span class=\"token function\">result</span> <span class=\"token punctuation\">(</span>party<span class=\"token punctuation\">.</span>jpg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">{</span><span class=\"token comment\">//}: Uses the parent of the discovered path (documents/images).</span>\n<span class=\"token punctuation\">{</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Uses the basename<span class=\"token punctuation\">,</span> <span class=\"token keyword\">with</span> the extension <span class=\"token function\">removed</span> <span class=\"token punctuation\">(</span>party<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n</code></pre>\n<pre><code class=\"language-bash\"># Convert all jpg files to png files<span class=\"token operator\">:</span>\nfd <span class=\"token operator\">-</span>e jpg <span class=\"token operator\">-</span>x convert <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>png\n\n# Unpack all zip <span class=\"token function\">files</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">if</span> no placeholder is given<span class=\"token punctuation\">,</span> the path is appended<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\nfd <span class=\"token operator\">-</span>e zip <span class=\"token operator\">-</span>x unzip\n\n# Convert all flac files into opus files<span class=\"token operator\">:</span>\nfd <span class=\"token operator\">-</span>e flac <span class=\"token operator\">-</span>x ffmpeg <span class=\"token operator\">-</span>i <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">-</span>c<span class=\"token operator\">:</span>a libopus <span class=\"token punctuation\">{</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>opus\n\n# Count the number <span class=\"token keyword\">of</span> lines <span class=\"token keyword\">in</span> Rust <span class=\"token function\">files</span> <span class=\"token punctuation\">(</span>the command template can be terminated <span class=\"token keyword\">with</span> <span class=\"token string\">';'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\nfd <span class=\"token operator\">-</span>x wc <span class=\"token operator\">-</span>l \\<span class=\"token punctuation\">;</span> <span class=\"token operator\">-</span>e rs\n</code></pre>\n<h3 id=\"grep-ripgrep\"><a class=\"v-toc-item\" href=\"#grep-ripgrep\">#</a> grep -&gt; ripgrep</h3>\n<h3 id=\"ls-exa\"><a class=\"v-toc-item\" href=\"#ls-exa\">#</a> ls -&gt; exa</h3>\n<h3 id=\"cat-bat\"><a class=\"v-toc-item\" href=\"#cat-bat\">#</a> cat -&gt; bat</h3>\n<h2 id=\"dev\"><a class=\"v-toc-item\" href=\"#dev\">#</a> Dev</h2>\n<h3 id=\"json_pp\"><a class=\"v-toc-item\" href=\"#json_pp\">#</a> json_pp</h3>\n<h3 id=\"fzf\"><a class=\"v-toc-item\" href=\"#fzf\">#</a> FZF</h3>\n<h3 id=\"autojump\"><a class=\"v-toc-item\" href=\"#autojump\">#</a> Autojump</h3>\n<h2 id=\"tools\"><a class=\"v-toc-item\" href=\"#tools\">#</a> Tools</h2>\n<h3 id=\"mycli\"><a class=\"v-toc-item\" href=\"#mycli\">#</a> mycli</h3>\n<h3 id=\"pgcli\"><a class=\"v-toc-item\" href=\"#pgcli\">#</a> pgcli</h3>\n<h3 id=\"convert\"><a class=\"v-toc-item\" href=\"#convert\">#</a> convert</h3>\n<h3 id=\"k9s\"><a class=\"v-toc-item\" href=\"#k9s\">#</a> k9s</h3>\n<h3 id=\"tokei\"><a class=\"v-toc-item\" href=\"#tokei\">#</a> tokei</h3>\n<h3 id=\"git\"><a class=\"v-toc-item\" href=\"#git\">#</a> git</h3>\n<h3 id=\"ftp\"><a class=\"v-toc-item\" href=\"#ftp\">#</a> FTP</h3>\n<pre><code class=\"language-bash\"><span class=\"token constant\">FTP</span> Client 提交文件\n#<span class=\"token operator\">!</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>bash \nlftp <span class=\"token operator\">&lt;&lt;</span><span class=\"token constant\">SCRIPT</span>\n<span class=\"token keyword\">set</span> ftps<span class=\"token operator\">:</span>initial<span class=\"token operator\">-</span>prot <span class=\"token string\">\"\"</span>\n<span class=\"token keyword\">set</span> ftp<span class=\"token operator\">:</span>ssl<span class=\"token operator\">-</span>force <span class=\"token boolean\">true</span>\n<span class=\"token keyword\">set</span> ftp<span class=\"token operator\">:</span>ssl<span class=\"token operator\">-</span>protect<span class=\"token operator\">-</span>data <span class=\"token boolean\">true</span>\n<span class=\"token keyword\">set</span> ssl<span class=\"token operator\">:</span>verify<span class=\"token operator\">-</span>certificate no\nopen <span class=\"token operator\">&lt;</span>ftp<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token punctuation\">.</span>xxx<span class=\"token operator\">:</span><span class=\"token number\">21</span><span class=\"token operator\">></span> user ftpuser ftppass\nlcd <span class=\"token operator\">/</span>Users<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span>username<span class=\"token operator\">></span><span class=\"token operator\">/</span>Ftps<span class=\"token operator\">/</span>Workspace<span class=\"token operator\">/</span>libs\nput <span class=\"token operator\">/</span>Users<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span>username<span class=\"token operator\">></span><span class=\"token operator\">/</span>Ftps<span class=\"token operator\">/</span>Workspace<span class=\"token operator\">/</span>repos<span class=\"token operator\">/</span>xxx<span class=\"token punctuation\">.</span>jar\nexit <span class=\"token constant\">SCRIPT</span>\n</code></pre>\n<h2 id=\"0x05-网络\"><a class=\"v-toc-item\" href=\"#0x05-网络\">#</a> 0x05 网络</h2>\n<pre><code>dig ns baidu.com\n\n### 如何查看占用 TCP/UDP 端口\nlsof -i -P -n | grep LISTEN\nnetstat -tulpn | grep LISTEN\nlsof -i:22 ## see a specific port such as 22 ##\nnmap -sTU -O IP-address-Here\n</code></pre>\n<h2 id=\"0x07-文件浏览\"><a class=\"v-toc-item\" href=\"#0x07-文件浏览\">#</a> 0x07 文件浏览</h2>\n<h2 id=\"0x08-多媒体处理\"><a class=\"v-toc-item\" href=\"#0x08-多媒体处理\">#</a> 0x08 多媒体处理</h2>\n<h3 id=\"图片处理\"><a class=\"v-toc-item\" href=\"#图片处理\">#</a> 图片处理</h3>\n<pre><code>convert {{image1.png}} {{image2.png}} {{image3.png}} -delay {{100}} {{animation.gif}}\n</code></pre>\n<h3 id=\"视频处理\"><a class=\"v-toc-item\" href=\"#视频处理\">#</a> 视频处理</h3>\n<pre><code class=\"language-bash\"># 抽取 mp4 中的音频并保存为 mp3\nmkdir outputs\n<span class=\"token keyword\">for</span> f <span class=\"token keyword\">in</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>mp4<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">do</span> ffmpeg <span class=\"token operator\">-</span>i <span class=\"token string\">\"$f\"</span> <span class=\"token operator\">-</span>c<span class=\"token operator\">:</span>a libmp3lame <span class=\"token string\">\"outputs/${f%.mp4}.mp3\"</span><span class=\"token punctuation\">;</span>\ndone\n</code></pre>\n<h2 id=\"0x09-tmux\"><a class=\"v-toc-item\" href=\"#0x09-tmux\">#</a> 0x09 Tmux</h2>\n<pre><code class=\"language-bash\">tmux <span class=\"token keyword\">new</span> <span class=\"token operator\">-</span>s you_tmux_name\ntmux ls\ntmux a\ntmux a <span class=\"token operator\">-</span>t you_tmux_name\nc<span class=\"token operator\">-</span>b <span class=\"token operator\">+</span> d\ntmux kill<span class=\"token operator\">-</span>session <span class=\"token operator\">-</span>t you_tmux_name\n# 进阶工具 tmuxp\n</code></pre>\n<h2 id=\"0x10-ohmyzsh\"><a class=\"v-toc-item\" href=\"#0x10-ohmyzsh\">#</a> 0x10 OhMyZsh</h2>\n<pre><code class=\"language-bash\"># https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>ohmyzsh<span class=\"token operator\">/</span>ohmyzsh\nwget https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>raw<span class=\"token punctuation\">.</span>githubusercontent<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>ohmyzsh<span class=\"token operator\">/</span>ohmyzsh<span class=\"token operator\">/</span>master<span class=\"token operator\">/</span>tools<span class=\"token operator\">/</span>install<span class=\"token punctuation\">.</span>sh\nsh install<span class=\"token punctuation\">.</span>sh\n</code></pre>\n<pre><code class=\"language-bash\"># https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>twocucao<span class=\"token operator\">/</span>dotfiles\nmkdir <span class=\"token operator\">~</span><span class=\"token operator\">/</span>Cystem\ncd <span class=\"token operator\">~</span><span class=\"token operator\">/</span>Cystem <span class=\"token operator\">&amp;&amp;</span> git clone git@github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">:</span>twocucao<span class=\"token operator\">/</span>dotfiles<span class=\"token punctuation\">.</span>git <span class=\"token operator\">&amp;&amp;</span> cd dotfiles\nln <span class=\"token operator\">-</span>sfv <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">pwd</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">zshrc ~</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span>zshrc\n</code></pre>\n<p>其他配置</p>\n<ul>\n<li>powerlevel10k</li>\n<li>autojump</li>\n<li>zsh-autosuggestions</li>\n<li>zsh-syntax-highlighting</li>\n<li>zsh-completions</li>\n<li><a href=\"https://github.com/ryanoasis/nerd-fonts\">https://github.com/ryanoasis/nerd-fonts</a></li>\n</ul>\n","toc":"<ul class=\"v-article-toc\">\n<li>\n<ul>\n<li><a href=\"#0x01-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%9B%BF%E4%BB%A3%E5%93%81\">0x01 更好的替代品</a>\n<ul>\n<li><a href=\"#find-fd\">find -&gt; fd</a></li>\n<li><a href=\"#grep-ripgrep\">grep -&gt; ripgrep</a></li>\n<li><a href=\"#ls-exa\">ls -&gt; exa</a></li>\n<li><a href=\"#cat-bat\">cat -&gt; bat</a></li>\n</ul>\n</li>\n<li><a href=\"#dev\">Dev</a>\n<ul>\n<li><a href=\"#json_pp\">json_pp</a></li>\n<li><a href=\"#fzf\">FZF</a></li>\n<li><a href=\"#autojump\">Autojump</a></li>\n</ul>\n</li>\n<li><a href=\"#tools\">Tools</a>\n<ul>\n<li><a href=\"#mycli\">mycli</a></li>\n<li><a href=\"#pgcli\">pgcli</a></li>\n<li><a href=\"#convert\">convert</a></li>\n<li><a href=\"#k9s\">k9s</a></li>\n<li><a href=\"#tokei\">tokei</a></li>\n<li><a href=\"#git\">git</a></li>\n<li><a href=\"#ftp\">FTP</a></li>\n</ul>\n</li>\n<li><a href=\"#0x05-%E7%BD%91%E7%BB%9C\">0x05 网络</a></li>\n<li><a href=\"#0x07-%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88\">0x07 文件浏览</a></li>\n<li><a href=\"#0x08-%E5%A4%9A%E5%AA%92%E4%BD%93%E5%A4%84%E7%90%86\">0x08 多媒体处理</a>\n<ul>\n<li><a href=\"#%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86\">图片处理</a></li>\n<li><a href=\"#%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86\">视频处理</a></li>\n</ul>\n</li>\n<li><a href=\"#0x09-tmux\">0x09 Tmux</a></li>\n<li><a href=\"#0x10-ohmyzsh\">0x10 OhMyZsh</a></li>\n</ul>\n</li>\n</ul>\n"}},"__N_SSG":true}