{"pageProps":{"post":{"tags":["Python","Django","YaDjangoBlog"],"path":"20180224_YaDjangoBlog之前端VueJS篇.md","title":"YaDjangoBlog 之 前端 VueJS 篇","slug":"YaDjangoBlog 之 前端 VueJS 篇","date":"2018-02-25","category":"Django","lastMod":"2020-01-01","description":"这篇文章展示了基本的 Markdown 语法和格式.","thumbnail":"","content":"<h2 id=\"0x00-前言\"><a class=\"v-toc-item\" href=\"#0x00-前言\">#</a> 0x00 前言</h2>\n<p>本文是 Django 全栈开发教程的第四篇</p>\n<p>目录在这里，已经更新的文章如下</p>\n<ul>\n<li>Django 全栈开发教程 - 2018 年不容错过的 Django 全栈项目 – 目录篇</li>\n<li>Django 全栈开发教程 - YaDjangoBlog 的开发环境配置</li>\n</ul>\n<p>本文需要完成三件事情：</p>\n<ul>\n<li>第一件事情，介绍为什么选择 VueJS？</li>\n<li>第二件事情，介绍 Vue 项目的一些注意点。</li>\n<li>第三件事情，蜻蜓点水搬的带大家过一编，YaDjangoBlog 前端的项目结构，静态资源管理，路由以及组件。</li>\n</ul>\n<h2 id=\"0x01-为什么是-vuejs\"><a class=\"v-toc-item\" href=\"#0x01-为什么是-vuejs\">#</a> 0x01 为什么是 VueJS</h2>\n<p>国产框架 + 语法简洁是我入坑 VueJS 初衷。</p>\n<p>后来却是 Vue 的丰富的生态和简洁的语法吸引了继续用下去。</p>\n<p>这里要感谢为 VueJS 持续贡献代码的人，从 Vue 本身，到 VueCLI, 到 Router, 到 VueX, 如果没有那么多人为之贡献代码，可能今天这一小节就变成了，『为什么是 React 了』逃。</p>\n<p>Vue 自称为 Vue 渐进式 JavaScript 框架。</p>\n<p>什么是渐进式？</p>\n<p>就是你可以逐步按照 Vue 的方式逐渐引入一些 Vue 的组件到项目中。没有必要上来就是 Vue 全家桶，依据场景逐步引入。</p>\n<p>参考链接 <a href=\"https://www.zhihu.com/question/51907207\">https://www.zhihu.com/question/51907207</a></p>\n<p>然而，依据我的经验，vue 全家桶用起来还是很舒服的。这里必须要感谢 Vue 社区。</p>\n<p>模板语法，数据驱动，双向绑定。写起代码来简直就是一个字，爽。</p>\n<h2 id=\"0x02-vue-项目的一些注意点\"><a class=\"v-toc-item\" href=\"#0x02-vue-项目的一些注意点\">#</a> 0x02 Vue 项目的一些注意点</h2>\n<p>从项目角度，我们想想前端项目有哪些地方是需要注意的：</p>\n<ol>\n<li>开发环境和线上环境区分</li>\n<li>前端资源打包</li>\n</ol>\n<ul>\n<li>Vue 项目资源打包</li>\n<li>DLL 打包</li>\n<li>字体文件打包</li>\n</ul>\n<ol start=\"3\">\n<li>CSS/JS 如何管理</li>\n<li>有哪些必要的依赖，如何引入第三方库</li>\n<li>有哪些页面级组件，有哪些小组件？应该安排这些组件？组件与组件应该怎么通讯？</li>\n<li>路由怎么管理</li>\n<li>状态怎么管理</li>\n<li>登录，鉴权怎么做</li>\n</ol>\n<p>限于篇幅，我就不一一讲解了。挑在 YaDjangoBlog 中使用到的技术简单介绍一下。</p>\n<p>再次感谢 Vue 社区出品的 VueCLI 以及 Webpack 模板。</p>\n<p>下面依次介绍：</p>\n<ol>\n<li>项目结构</li>\n<li>静态资源管理</li>\n<li>路由</li>\n<li>组件</li>\n</ol>\n<h2 id=\"0x03-项目结构\"><a class=\"v-toc-item\" href=\"#0x03-项目结构\">#</a> 0x03 项目结构</h2>\n<p>首先，YaDjangoBlog 文件的前端目录如下：</p>\n<pre><code class=\"language-bash\"><span class=\"token punctuation\">.</span>\n├── <span class=\"token constant\">README</span><span class=\"token punctuation\">.</span>md\n├── build\n│   ├── build<span class=\"token punctuation\">.</span>js\n│   ├── build_iconfont<span class=\"token punctuation\">.</span>js # 构建 iconfont 脚本\n│   ├── check<span class=\"token operator\">-</span>versions<span class=\"token punctuation\">.</span>js\n│   ├── logo<span class=\"token punctuation\">.</span>png\n│   ├── utils<span class=\"token punctuation\">.</span>js\n│   ├── vue<span class=\"token operator\">-</span>loader<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>js\n│   ├── webpack<span class=\"token punctuation\">.</span>base<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>js\n│   ├── webpack<span class=\"token punctuation\">.</span>dev<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>js # 增加了 AutoDllPlugin 用于自动打包 <span class=\"token constant\">DLL</span>\n│   └── webpack<span class=\"token punctuation\">.</span>prod<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>js\n├── config\n│   ├── dev<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>js # 可以在这里添加开发环境的环境变脸\n│   ├── index<span class=\"token punctuation\">.</span>js\n│   ├── prod<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>js\n│   └── test<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>js\n├── extra\n│   └── svg<span class=\"token operator\">-</span>icon # 这里存放需要生成 iconfont 的字体文件。\n├── index<span class=\"token punctuation\">.</span>html\n├── <span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span>json # 这里添加了一些构建脚本\n├── packages\n│   └── theme<span class=\"token operator\">-</span>future # 注意，这里是另一个子项目，使用 Gulp 构建的纯 <span class=\"token constant\">CSS</span> 子项目。\n├── src\n│   ├── App<span class=\"token punctuation\">.</span>vue\n│   ├── api # 对 axios 进行初步封装\n│   ├── assets # 从使用 Gulp 生成的 <span class=\"token constant\">CSS</span> 可以放在这里。\n│   ├── components # 跨页面的组件放在这里\n│   ├── directives # 指令\n│   ├── filters    # 过滤器\n│   ├── main<span class=\"token punctuation\">.</span>js    # 初始化 Vue 实例\n│   ├── pages      # 页面\n│   ├── router     # 路由\n│   ├── store      # vuex\n│   └── utils      # 常用工具类\n├── <span class=\"token keyword\">static</span>\n│   ├── hightlight # hightlight 脚本\n│   ├── iconfont   # 本地构建的 iconfont\n│   ├── images\n│   └── js\n├── test           # 没写测试，大家开源项目不要学我<span class=\"token operator\">...</span><span class=\"token punctuation\">.</span> 逃\n│   ├── e2e\n│   └── unit\n└── yarn<span class=\"token punctuation\">.</span>lock\n</code></pre>\n<h2 id=\"0x04-静态资源管理\"><a class=\"v-toc-item\" href=\"#0x04-静态资源管理\">#</a> 0x04 静态资源管理</h2>\n<p>静态资源管理，主要涉及到 JS/CSS/ 图片 / 字体</p>\n<p>首先，由于使用了 VueCli 的模板，所以大可以按照 VueCli 提供的写法来写。</p>\n<pre><code class=\"language-html\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>router<span class=\"token operator\">-</span>view <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>footer<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>footer<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"app\"</span><span class=\"token punctuation\">,</span>\n    components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function-variable function\">Header</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./pages/commons/Header.vue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">Footer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./pages/commons/Footer.vue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>style lang<span class=\"token operator\">=</span><span class=\"token string\">\"scss\"</span><span class=\"token operator\">></span>\n  $primary<span class=\"token operator\">-</span>color<span class=\"token operator\">:</span> #<span class=\"token number\">37</span>b24d<span class=\"token punctuation\">;</span>\n  $dark<span class=\"token operator\">-</span>color<span class=\"token operator\">:</span> #<span class=\"token number\">2</span>b5732<span class=\"token punctuation\">;</span>\n  $body<span class=\"token operator\">-</span>bg<span class=\"token operator\">:</span> #f9f9f9<span class=\"token punctuation\">;</span>\n  @<span class=\"token keyword\">import</span> <span class=\"token string\">\"~spectre.css/src/spectre-icons.scss\"</span><span class=\"token punctuation\">;</span>\n  @<span class=\"token keyword\">import</span> <span class=\"token string\">\"~spectre.css/src/spectre.scss\"</span><span class=\"token punctuation\">;</span>\n  @<span class=\"token keyword\">import</span> <span class=\"token string\">\"~spectre.css/src/spectre-exp.scss\"</span><span class=\"token punctuation\">;</span>\n  @<span class=\"token keyword\">import</span> <span class=\"token string\">\"./assets/theme-future/index.css\"</span><span class=\"token punctuation\">;</span>\n  a <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">&amp;</span><span class=\"token operator\">:</span>focus<span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">&amp;</span><span class=\"token operator\">:</span>hover<span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">&amp;</span><span class=\"token operator\">:</span>active<span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">.</span>active <span class=\"token punctuation\">{</span>\n      text<span class=\"token operator\">-</span>decoration<span class=\"token operator\">:</span> none<span class=\"token punctuation\">;</span>\n      box<span class=\"token operator\">-</span>shadow<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  #app <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span>\n</code></pre>\n<p>依据我个人经验，做了一部分的微调：</p>\n<p><strong>第一</strong> 在代码中新建一个主题 CSS, 单独用于处理 SCSS 编译 CSS. 即除了 App.vue, 其他地方的 CSS 直接写在同一个地方。</p>\n<p><strong>第二</strong> 对于字体文件，不引入 IconFont 在线字体，而是使用 SVG 本地编译字体。这样减少对 iconfont cdn 的依赖，可以以后直接迁移这个字体到其他 CDN 上。</p>\n<p><strong>第三</strong> 对于依赖库管理，分为 npm 依赖库和外部 JS 依赖库两种</p>\n<p>对于 NPM 依赖库，如果有使用过 ECharts3.0 的 SPA 开发者应该对于万恶的 DLL 非常熟悉了。最早的时候，我们是这样做的：</p>\n<ul>\n<li>先写一个编译脚本，指定相关依赖包，打包出 dll 和一个 manifest 文件</li>\n<li>然后从 index.html 里引入打包好的 dll.</li>\n<li>再从 webpack 的配置文件中引入这个文件。</li>\n</ul>\n<p>这种恶心的配置随着 autodll-webpack-plugin 的出现从而得到缓解，于是现在的你只需要配置：</p>\n<pre><code class=\"language-JavaScript\">    <span class=\"token keyword\">new</span> <span class=\"token class-name\">AutoDllPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      inject<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// will inject the DLL bundles to index.html</span>\n      debug<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      filename<span class=\"token operator\">:</span> <span class=\"token string\">'[name]_[hash].js'</span><span class=\"token punctuation\">,</span>\n      entry<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        vendor<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token string\">'@antv/data-set'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'@antv/g2'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'@antv/g6'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'highlight.js'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-abbr'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-deflist'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-emoji'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-footnote'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-ins'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-katex'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-mark'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-sub'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-sup'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-task-lists'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'markdown-it-toc-and-anchor'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'typed.js'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'vue'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'vue-router'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'vuex'</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>optimize<span class=\"token punctuation\">.</span>UglifyJsPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>当然，如果你用了 ECharts, 有的时候会出现莫名其妙的</p>\n<pre><code>__DEV__ is not defined\n</code></pre>\n<p>解决方法就是在这上面的插件里面加个插件定义一个 Global 的变量</p>\n<pre><code>  new webpack.DefinePlugin({\n    __DEV__: false\n  }),\n</code></pre>\n<blockquote>\n<p>PS: 去年的版本由于依赖库的一个路径问题导致 autodll-webpack-plugin 不能在 Windows 上使用，今年可以啦。还不快快用起来？</p>\n</blockquote>\n<p>对于外部的 JS/CSS 依赖库：</p>\n<ol>\n<li>直接拷贝到 static 下面，然后从 index.html 引入即可。</li>\n<li>动态创建 script 标签（比如动态引入高德地图）</li>\n</ol>\n<h2 id=\"0x04-路由\"><a class=\"v-toc-item\" href=\"#0x04-路由\">#</a> 0x04 路由</h2>\n<p>博客项目，实际上路由比较简单。</p>\n<pre><code>export default new Router({\n  mode: 'history',\n  base: '/',\n  // 注释掉这里是因为和引入的 smooth-scroll 冲突\n  // scrollBehavior (to, from, savedPosition) {\n  //   return { x: 0, y: 0 }\n  // },\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: () =&gt; import('../pages/Home.vue')\n    },\n    // 解决手贱带来的问题\n    {\n      path: '/index:suffix*',\n      name: 'index',\n      component: () =&gt; import('../pages/Home.vue')\n    },\n    {\n      path: '/blog',\n      name: 'blog',\n      component: () =&gt; import('../pages/Blog.vue')\n    },\n    {\n      path: '/blog/post/:title',\n      name: 'post',\n      component: () =&gt; import('../pages/Blog/ArticlePost.vue')\n    },\n    {\n      path: '/blog/:category(category/\\\\d+)?/:tags(tags/\\\\d+)?/:page(page/\\\\d+)?',\n      name: 'blogposts',\n      component: () =&gt; import('../pages/Blog.vue')\n    },\n    {\n      path: '/archive',\n      name: 'archive',\n      component: () =&gt; import('../pages/Archive.vue')\n    },\n    {\n      path: '/gallery',\n      name: 'gallery',\n      component: () =&gt; import('../pages/Gallery.vue')\n    },\n    {\n      path: '/works',\n      name: 'works',\n      component: () =&gt; import('../pages/Works.vue')\n    },\n    {\n      path: '/about',\n      name: 'about',\n      component: () =&gt; import('../pages/About.vue')\n    }\n  ]\n})\n</code></pre>\n<p>除了 import 语法之外，需要注意的就是 ‘/blog/:category(category/\\d+)?/:tags(tags/\\d+)?/:page(page/\\d+)?’ 这个奇怪的表达式。</p>\n<p>这个表达式可以用于匹配下面的路由</p>\n<pre><code class=\"language-bash\"><span class=\"token operator\">/</span>blog<span class=\"token operator\">/</span>category<span class=\"token operator\">/</span><span class=\"token number\">1</span><span class=\"token operator\">/</span>tags<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token operator\">/</span>page<span class=\"token operator\">/</span><span class=\"token number\">3</span>\n<span class=\"token operator\">/</span>blog<span class=\"token operator\">/</span>category<span class=\"token operator\">/</span><span class=\"token number\">1</span><span class=\"token operator\">/</span>page<span class=\"token operator\">/</span><span class=\"token number\">3</span>\n<span class=\"token operator\">/</span>blog<span class=\"token operator\">/</span>tags<span class=\"token operator\">/</span><span class=\"token number\">3</span><span class=\"token operator\">/</span>page<span class=\"token operator\">/</span><span class=\"token number\">3</span>\n<span class=\"token operator\">/</span>blog<span class=\"token operator\">/</span>page<span class=\"token operator\">/</span><span class=\"token number\">3</span>\n</code></pre>\n<p>匹配完毕之后，就可以拿到 categroy tags page 的值然后提交数据库拿数据咯。</p>\n<h2 id=\"0x05-组件\"><a class=\"v-toc-item\" href=\"#0x05-组件\">#</a> 0x05 组件</h2>\n<p>博客里面需要注意的就三个组件</p>\n<ul>\n<li>ArticlePost 组件</li>\n<li>分页组件</li>\n<li>打字终端组件</li>\n</ul>\n<p>第一个，ArticlePost 组件</p>\n<pre><code class=\"language-html\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"p-article-post\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"columns\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"col-1 hide-xl\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"col-2 col-xl-3\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"g-sidebar\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>h4<span class=\"token operator\">></span>本文目录<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div v<span class=\"token operator\">-</span>html<span class=\"token operator\">=</span><span class=\"token string\">\"articleToc\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"col-6 col-xl-8\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ArticleCard\n          <span class=\"token operator\">:</span>article<span class=\"token operator\">=</span><span class=\"token string\">\"article\"</span>\n          @articleTocReady<span class=\"token operator\">=</span><span class=\"token string\">\"initArticleToc\"</span>\n        <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ArticleCard<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"col-2 col-xl-3\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"g-sidebar\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>h4<span class=\"token operator\">></span>公告<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token constant\">MG</span> 的编程小屋，其实就是我整理笔记，写写文章的地方。<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>\n              专注 Python <span class=\"token operator\">/</span> JavaScript <span class=\"token punctuation\">,</span> <span class=\"token function\">爱折腾的全干工程师</span> <span class=\"token punctuation\">(</span>Full Stuff\n              Engineer<span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>如果我的文章给您的日常开发带来很大帮助的话<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>您可以关注我的公众号<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>img\n                src<span class=\"token operator\">=</span><span class=\"token string\">\"/static/images/mp_wechat.jpg\"</span>\n                alt<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span>\n                style<span class=\"token operator\">=</span><span class=\"token string\">\"width: 200px\"</span>\n              <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>也可以扫描二维码进行投喂<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>img\n                src<span class=\"token operator\">=</span><span class=\"token string\">\"/static/images/tips_wechat.jpeg\"</span>\n                alt<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span>\n                style<span class=\"token operator\">=</span><span class=\"token string\">\"width: 200px\"</span>\n              <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>听说关注或者进行投喂的人，技术都越来越牛咯。<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"col-1 hide-xl\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> fetchBlogPost <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../api/blog\"</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"BlogPage\"</span><span class=\"token punctuation\">,</span>\n    components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function-variable function\">ArticleCard</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"../../components/Common/ArticleCard.vue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        article<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n        articleToc<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    watch<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"$route.params\"</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initArticle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">created</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initArticle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function-variable function\">initArticleToc</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>articleToc <span class=\"token operator\">=</span> v\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">initArticle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> title <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$route<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>title\n        <span class=\"token function\">fetchBlogPost</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>article <span class=\"token operator\">=</span> res\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n</code></pre>\n<p>嗯，其实就是监听 url, 如果匹配上 url 的话，从 url 中取 title, 然后发送请求，接着取回响应的内容交给子组件处理。子组件处理完毕会 emit 出一个 toc 的值，将这个值赋值给左侧 toc 即可。</p>\n<ul>\n<li>分页组件</li>\n</ul>\n<p>见地址吧 <a href=\"https://github.com/twocucao/YaVueBlog/blob/master/src/components/Common/Pagination.vue\">https://github.com/twocucao/YaVueBlog/blob/master/src/components/Common/Pagination.vue</a></p>\n<ul>\n<li>打字终端组件</li>\n</ul>\n<p>终端的样式，当然是抄别人的 CSS, 打字效果，来源于 typed.js 依赖库</p>\n<h2 id=\"0x06-扩展\"><a class=\"v-toc-item\" href=\"#0x06-扩展\">#</a> 0x06. 扩展</h2>\n<p>对于其他的实现，自然是要多多看代码咯。</p>\n<p>其实前端工程化是一个很广的概念，本文没有提到代码风格、团队开发工作流、CSS 编写规范、组件优化、Webpack 详细配置等等。这都需要在日常开发中多多练习的。</p>\n<p>笔者最近换了份工作，以 React 为技术栈。 加上篇幅和精力有限，也就是不在以 Vue 为前端这一块详细展开了。</p>\n<p>下面的文章还是聚焦在后端上面。</p>\n<h2 id=\"0xee-参考链接\"><a class=\"v-toc-item\" href=\"#0xee-参考链接\">#</a> 0xEE. 参考链接</h2>\n<p>还犹豫啥，Django 前后端分离最佳实践，点赞后，快上车吧</p>\n<ul>\n<li>前端代码 <a href=\"https://github.com/twocucao/YaVueBlog\">https://github.com/twocucao/YaVueBlog</a></li>\n<li>后端代码 <a href=\"https://github.com/twocucao/YaDjangoBlog\">https://github.com/twocucao/YaDjangoBlog</a></li>\n</ul>\n<hr>\n<p>ChangeLog:</p>\n<ul>\n<li><strong>2018-03-18</strong> 重修文字</li>\n</ul>\n","toc":"<ul class=\"v-article-toc\">\n<li>\n<ul>\n<li><a href=\"#0x00-%E5%89%8D%E8%A8%80\">0x00 前言</a></li>\n<li><a href=\"#0x01-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF-vuejs\">0x01 为什么是 VueJS</a></li>\n<li><a href=\"#0x02-vue-%E9%A1%B9%E7%9B%AE%E7%9A%84%E4%B8%80%E4%BA%9B%E6%B3%A8%E6%84%8F%E7%82%B9\">0x02 Vue 项目的一些注意点</a></li>\n<li><a href=\"#0x03-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84\">0x03 项目结构</a></li>\n<li><a href=\"#0x04-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86\">0x04 静态资源管理</a></li>\n<li><a href=\"#0x04-%E8%B7%AF%E7%94%B1\">0x04 路由</a></li>\n<li><a href=\"#0x05-%E7%BB%84%E4%BB%B6\">0x05 组件</a></li>\n<li><a href=\"#0x06-%E6%89%A9%E5%B1%95\">0x06. 扩展</a></li>\n<li><a href=\"#0xee-%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\">0xEE. 参考链接</a></li>\n</ul>\n</li>\n</ul>\n"}},"__N_SSG":true}